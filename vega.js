/*! For license information please see vega.js.LICENSE.txt */
(self.webpackChunkvega_editor=self.webpackChunkvega_editor||[]).push([[204],{17786:(e,t,n)=>{"use strict";function i(e,t){if("undefined"!=typeof document&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}n.d(t,{v:()=>i,K:()=>r});const r=()=>"undefined"!=typeof Image?Image:null},663:(e,t,n)=>{"use strict";n.r(t),n.d(t,{crossfilter:()=>h,resolvefilter:()=>p});var i=n(58190),r=n(34482),a=n(4036),o=n(48823);const s=e=>new Uint8Array(e),u=e=>new Uint16Array(e),l=e=>new Uint32Array(e);function f(e,t,n){const i=(t<257?s:t<65537?u:l)(e);return n&&i.set(n),i}function c(e,t,n){const i=1<<t;return{one:i,zero:~i,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(e,t){const n=this,r=n.bisect(n.range,e.value),a=e.index,o=r[0],s=r[1],u=a.length;let l;for(l=0;l<o;++l)t[a[l]]|=i;for(l=s;l<u;++l)t[a[l]]|=i;return n}}}function d(){let e=l(0),t=[],n=0;return{insert:function(i,a,o){if(!a.length)return[];const s=n,u=a.length,f=l(u);let c,d,h,p=Array(u);for(h=0;h<u;++h)p[h]=i(a[h]),f[h]=h;if(p=function(e,t){return e.sort.call(t,((t,n)=>{const i=e[t],r=e[n];return i<r?-1:i>r?1:0})),(0,r.Z)(e,t)}(p,f),s)c=t,d=e,t=Array(s+u),e=l(s+u),function(e,t,n,i,r,a,o,s,u){let l,f=0,c=0;for(l=0;f<i&&c<o;++l)t[f]<r[c]?(s[l]=t[f],u[l]=n[f++]):(s[l]=r[c],u[l]=a[c++]+e);for(;f<i;++f,++l)s[l]=t[f],u[l]=n[f];for(;c<o;++c,++l)s[l]=r[c],u[l]=a[c]+e}(o,c,d,s,p,f,u,t,e);else{if(o>0)for(h=0;h<u;++h)f[h]+=o;t=p,e=f}return n=s+u,{index:f,value:p}},remove:function(i,r){const a=n;let o,s,u;for(s=0;!r[e[s]]&&s<a;++s);for(u=s;s<a;++s)r[o=e[s]]||(e[u]=o,t[u]=t[s],++u);n=a-i},bisect:function(e,r){let a;return r?a=r.length:(r=t,a=n),[(0,i.Nw)(r,e[0],0,a),(0,i.ml)(r,e[1],0,a)]},reindex:function(t){for(let i=0,r=n;i<r;++i)e[i]=t[e[i]]},index:()=>e,size:()=>n}}function h(e){a.wx.call(this,function(){let e=8,t=[],n=l(0),i=f(0,e),r=f(0,e);return{data:()=>t,seen:()=>n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length),add(e){for(let n,i=0,r=t.length,a=e.length;i<a;++i)n=e[i],n._index=r++,t.push(n)},remove(e,n){const a=t.length,o=Array(a-e),s=t;let u,l,f;for(l=0;!n[l]&&l<a;++l)o[l]=t[l],s[l]=l;for(f=l;l<a;++l)u=t[l],n[l]?s[l]=-1:(s[l]=f,i[f]=i[l],r[f]=r[l],o[f]=u,u._index=f++),i[l]=0;return t=o,s},size:()=>t.length,curr:()=>i,prev:()=>r,reset:e=>r[e]=i[e],all:()=>e<257?255:e<65537?65535:4294967295,set(e,t){i[e]|=t},clear(e,t){i[e]&=~t},resize(t,n){(t>i.length||n>e)&&(e=Math.max(n,e),i=f(t,e,i),r=f(t,e))}}}(),e),this._indices=null,this._dims=null}function p(e){a.wx.call(this,null,e)}h.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},(0,o.XW)(h,a.wx,{transform(e,t){return this._dims?e.modified("fields")||e.fields.some((e=>t.modified(e.fields)))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){const n=e.fields,i=e.query,r=this._indices={},a=this._dims=[],o=i.length;let s,u,l=0;for(;l<o;++l)s=n[l].fname,u=r[s]||(r[s]=d()),a.push(c(u,l,i[l]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),i=e.fields,r=e.query,a=this._indices,o=this._dims,s=this.value,u=s.curr(),l=s.prev(),f=s.all(),h=n.rem=n.add,p=n.mod,m=r.length,g={};let y,b,v,x,_,w,A,k,O;if(l.set(u),t.rem.length&&(_=this.remove(e,t,n)),t.add.length&&s.add(t.add),t.mod.length)for(w={},x=t.mod,A=0,k=x.length;A<k;++A)w[x[A]._index]=1;for(A=0;A<m;++A)O=i[A],(!o[A]||e.modified("fields",A)||t.modified(O.fields))&&(v=O.fname,(y=g[v])||(a[v]=b=d(),g[v]=y=b.insert(O,t.source,0)),o[A]=c(b,A,r[A]).onAdd(y,u));for(A=0,k=s.data().length;A<k;++A)_[A]||(l[A]!==u[A]?h.push(A):w[A]&&u[A]!==f&&p.push(A));return s.mask=(1<<m)-1,n},eval(e,t){const n=t.materialize().fork(),i=this._dims.length;let r=0;return t.rem.length&&(this.remove(e,t,n),r|=(1<<i)-1),e.modified("query")&&!e.modified("fields")&&(r|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),r|=(1<<i)-1),t.mod.length&&(this.modify(t,n),r|=(1<<i)-1),this.value.mask=r,n},insert(e,t,n){const i=t.add,r=this.value,a=this._dims,o=this._indices,s=e.fields,u={},l=n.add,f=r.size()+i.length,c=a.length;let d,h,p,m=r.size();r.resize(f,c),r.add(i);const g=r.curr(),y=r.prev(),b=r.all();for(d=0;d<c;++d)h=s[d].fname,p=u[h]||(u[h]=o[h].insert(s[d],i,m)),a[d].onAdd(p,g);for(;m<f;++m)y[m]=b,g[m]!==b&&l.push(m)},modify(e,t){const n=t.mod,i=this.value,r=i.curr(),a=i.all(),o=e.mod;let s,u,l;for(s=0,u=o.length;s<u;++s)l=o[s]._index,r[l]!==a&&n.push(l)},remove(e,t,n){const i=this._indices,r=this.value,a=r.curr(),o=r.prev(),s=r.all(),u={},l=n.rem,f=t.rem;let c,d,h,p;for(c=0,d=f.length;c<d;++c)h=f[c]._index,u[h]=1,o[h]=p=a[h],a[h]=s,p!==s&&l.push(h);for(h in i)i[h].remove(d,u);return this.reindex(t,d,u),u},reindex(e,t,n){const i=this._indices,r=this.value;e.runAfter((()=>{const e=r.remove(t,n);for(const t in i)i[t].reindex(e)}))},update(e,t,n){const i=this._dims,r=e.query,a=t.stamp,o=i.length;let s,u,l=0;for(n.filters=0,u=0;u<o;++u)e.modified("query",u)&&(s=u,++l);if(1===l)l=i[s].one,this.incrementOne(i[s],r[s],n.add,n.rem);else for(u=0,l=0;u<o;++u)e.modified("query",u)&&(l|=i[u].one,this.incrementAll(i[u],r[u],a,n.add),n.rem=n.add);return l},incrementAll(e,t,n,i){const r=this.value,a=r.seen(),o=r.curr(),s=r.prev(),u=e.index(),l=e.bisect(e.range),f=e.bisect(t),c=f[0],d=f[1],h=l[0],p=l[1],m=e.one;let g,y,b;if(c<h)for(g=c,y=Math.min(h,d);g<y;++g)b=u[g],a[b]!==n&&(s[b]=o[b],a[b]=n,i.push(b)),o[b]^=m;else if(c>h)for(g=h,y=Math.min(c,p);g<y;++g)b=u[g],a[b]!==n&&(s[b]=o[b],a[b]=n,i.push(b)),o[b]^=m;if(d>p)for(g=Math.max(c,p),y=d;g<y;++g)b=u[g],a[b]!==n&&(s[b]=o[b],a[b]=n,i.push(b)),o[b]^=m;else if(d<p)for(g=Math.max(h,d),y=p;g<y;++g)b=u[g],a[b]!==n&&(s[b]=o[b],a[b]=n,i.push(b)),o[b]^=m;e.range=t.slice()},incrementOne(e,t,n,i){const r=this.value.curr(),a=e.index(),o=e.bisect(e.range),s=e.bisect(t),u=s[0],l=s[1],f=o[0],c=o[1],d=e.one;let h,p,m;if(u<f)for(h=u,p=Math.min(f,l);h<p;++h)m=a[h],r[m]^=d,n.push(m);else if(u>f)for(h=f,p=Math.min(u,c);h<p;++h)m=a[h],r[m]^=d,i.push(m);if(l>c)for(h=Math.max(u,c),p=l;h<p;++h)m=a[h],r[m]^=d,n.push(m);else if(l<c)for(h=Math.max(f,l),p=c;h<p;++h)m=a[h],r[m]^=d,i.push(m);e.range=t.slice()}}),p.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},(0,o.XW)(p,a.wx,{transform(e,t){const n=~(e.ignore||0),i=e.filter,r=i.mask;if(0==(r&n))return t.StopPropagation;const a=t.fork(t.ALL),o=i.data(),s=i.curr(),u=i.prev(),l=e=>s[e]&n?null:o[e];return a.filter(a.MOD,l),r&r-1?(a.filter(a.ADD,(e=>{const t=s[e]&n;return!t&&t^u[e]&n?o[e]:null})),a.filter(a.REM,(e=>{const t=s[e]&n;return!t||t^t^u[e]&n?null:o[e]}))):(a.filter(a.ADD,l),a.filter(a.REM,(e=>(s[e]&n)===r?o[e]:null))),a.filter(a.SOURCE,(e=>l(e._index)))}})},45894:(e,t,n)=>{"use strict";function i(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:()=>i})},58190:(e,t,n)=>{"use strict";n.d(t,{ml:()=>s,Nw:()=>u});var i=n(45894),r=n(68503),a=n(70803);const o=(0,r.Z)(i.Z),s=o.right,u=o.left;(0,r.Z)(a.Z).center},68503:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(45894);function r(e){let t=e,n=e;function r(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const a=i+r>>>1;n(e[a],t)<0?i=a+1:r=a}return i}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>(0,i.Z)(e(t),n)}(e)),{left:r,center:function(e,n,i,a){null==i&&(i=0),null==a&&(a=e.length);const o=r(e,n,i,a-1);return o>i&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const a=i+r>>>1;n(e[a],t)>0?r=a:i=a+1}return i}}}},70803:(e,t,n)=>{"use strict";function i(e){return null===e?NaN:+e}n.d(t,{Z:()=>i})},34482:(e,t,n)=>{"use strict";function i(e,t){return Array.from(t,(t=>e[t]))}n.d(t,{Z:()=>i})},4036:(e,t,n)=>{"use strict";n.d(t,{h1:()=>N,MF:()=>E,GG:()=>P,EF:()=>k,aE:()=>_,GM:()=>S,wx:()=>L,MY:()=>s,_K:()=>v,DF:()=>W,sY:()=>p,ax:()=>h,my:()=>b,x3:()=>f,BW:()=>m,gx:()=>g,vo:()=>y,vs:()=>X,Lo:()=>I,ai:()=>c});var i=n(48823),r=n(92987),a=n(57400);function o(e){const t=e||i.yR,n=[],r={};return n.add=e=>{const i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=e=>{const i=t(e);if(r[i]){r[i]=0;const t=n.indexOf(e);t>=0&&n.splice(t,1)}return n},n}async function s(e,t){try{await t(e)}catch(t){e.error(t)}}const u=Symbol("vega_id");let l=1;function f(e){return!(!e||!c(e))}function c(e){return e[u]}function d(e,t){return e[u]=t,e}function h(e){const t=e===Object(e)?e:{data:e};return c(t)?t:d(t,l++)}function p(e){return m(e,h({}))}function m(e,t){for(const n in e)t[n]=e[n];return t}function g(e,t){return d(t,c(e))}function y(e,t){return e?t?(n,i)=>e(n,i)||c(t(n))-c(t(i)):(t,n)=>e(t,n)||c(t)-c(n):null}function b(e){return e&&e.constructor===v}function v(){const e=[],t=[],n=[],r=[],a=[];let o=null,s=!1;return{constructor:v,insert(t){const n=(0,i.IX)(t),r=n.length;for(let t=0;t<r;++t)e.push(n[t]);return this},remove(e){const n=(0,i.mf)(e)?r:t,a=(0,i.IX)(e),o=a.length;for(let e=0;e<o;++e)n.push(a[e]);return this},modify(e,t,r){const o={field:t,value:(0,i.a9)(r)};return(0,i.mf)(e)?(o.filter=e,a.push(o)):(o.tuple=e,n.push(o)),this},encode(e,t){return(0,i.mf)(e)?a.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean(e){return o=e,this},reflow(){return s=!0,this},pulse(i,u){const l={},f={};let d,p,m,g,y,b;for(d=0,p=u.length;d<p;++d)l[c(u[d])]=1;for(d=0,p=t.length;d<p;++d)y=t[d],l[c(y)]=-1;for(d=0,p=r.length;d<p;++d)g=r[d],u.forEach((e=>{g(e)&&(l[c(e)]=-1)}));for(d=0,p=e.length;d<p;++d)y=e[d],b=c(y),l[b]?l[b]=1:i.add.push(h(e[d]));for(d=0,p=u.length;d<p;++d)y=u[d],l[c(y)]<0&&i.rem.push(y);function v(e,t,n){n?e[t]=n(e):i.encode=t,s||(f[c(e)]=e)}for(d=0,p=n.length;d<p;++d)m=n[d],y=m.tuple,g=m.field,b=l[c(y)],b>0&&(v(y,g,m.value),i.modifies(g));for(d=0,p=a.length;d<p;++d)m=a[d],g=m.filter,u.forEach((e=>{g(e)&&l[c(e)]>0&&v(e,m.field,m.value)})),i.modifies(m.field);if(s)i.mod=t.length||r.length?u.filter((e=>l[c(e)]>0)):u.slice();else for(b in f)i.mod.push(f[b]);return(o||null==o&&(t.length||r.length))&&i.clean(!0),i}}}const x="_:mod:_";function _(){Object.defineProperty(this,x,{writable:!0,value:{}})}_.prototype={set(e,t,n,r){const a=this,o=a[e],s=a[x];return null!=t&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(a[e]=n,s[e]=(0,i.kJ)(n)?1+n.length:-1),a},modified(e,t){const n=this[x];if(!arguments.length){for(const e in n)if(n[e])return!0;return!1}if((0,i.kJ)(e)){for(let t=0;t<e.length;++t)if(n[e[t]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[x]={},this}};let w=0;const A=new _;function k(e,t,n,i){this.id=++w,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,i)}function O(e){return function(t){const n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}k.prototype={targets(){return this._targets||(this._targets=o(i.id))},set(e){return this.value!==e?(this.value=e,1):0},skip:O(1),modified:O(2),parameters(e,t,n){t=!1!==t;const r=this._argval=this._argval||new _,a=this._argops=this._argops||[],o=[];let s,u,l,f;const c=(e,n,i)=>{i instanceof k?(i!==this&&(t&&i.targets().add(this),o.push(i)),a.push({op:i,name:e,index:n})):r.set(e,n,i)};for(s in e)if(u=e[s],"pulse"===s)(0,i.IX)(u).forEach((e=>{e instanceof k?e!==this&&(e.targets().add(this),o.push(e)):(0,i.vU)("Pulse parameters must be operator instances.")})),this.source=u;else if((0,i.kJ)(u))for(r.set(s,-1,Array(l=u.length)),f=0;f<l;++f)c(s,f,u[f]);else c(s,-1,u);return this.marshall().clear(),n&&(a.initonly=!0),o},marshall(e){const t=this._argval||A,n=this._argops;let i,r,a,o;if(n){const s=n.length;for(r=0;r<s;++r)i=n[r],a=i.op,o=a.modified()&&a.stamp===e,t.set(i.name,i.index,a.value,o);if(n.initonly){for(r=0;r<s;++r)i=n[r],i.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,i,r;if(e)for(t=0,n=e.length;t<n;++t)i=e[t],r=i.op,r._targets&&r._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),i=t.call(this,n,e);if(n.clear(),i!==this.value)this.value=i;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};let D=0;function E(e,t,n){this.id=++D,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function F(e,t,n){return new E(e,t,n)}E.prototype={_filter:i.yb,_apply:i.yR,targets(){return this._targets||(this._targets=o(i.id))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,i=n?n.length:0;for(let e=0;e<i;++e)n[e].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=F(e);return this.targets().add(t),t},apply(e){const t=F(null,e);return this.targets().add(t),t},merge(){const e=F();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter((()=>{const n=Date.now();return n-t>e?(t=n,1):0}))},debounce(e){const t=F();return this.targets().add(F(null,null,(0,i.Ds)(e,(e=>{const n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},between(e,t){let n=!1;return e.targets().add(F(null,null,(()=>n=!0))),t.targets().add(F(null,null,(()=>n=!1))),this.filter((()=>n))},detach(){this._filter=i.yb,this._targets=null}};const $={skip:!0};function C(e,t,n,r,a,o){const s=(0,i.l7)({},o,$);let u,l;(0,i.mf)(n)||(n=(0,i.a9)(n)),void 0===r?u=t=>e.touch(n(t)):(0,i.mf)(r)?(l=new k(null,r,a,!1),u=t=>{l.evaluate(t);const i=n(t),r=l.value;b(r)?e.pulse(i,r,o):e.update(i,r,s)}):u=t=>e.update(n(t),r,s),t.apply(u)}function M(e,t,n,r,a,o){if(void 0===r)t.targets().add(n);else{const s=o||{},u=new k(null,function(e,t){return t=(0,i.mf)(t)?t:(0,i.a9)(t),e?function(n,i){const r=t(n,i);return e.skip()||(e.skip(r!==this.value).value=r),r}:t}(n,r),a,!1);u.modified(s.force),u.rank=t.rank,t.targets().add(u),n&&(u.skip(!0),u.value=n.value,u.targets().add(n),e.connect(n,[u]))}}const R={};function S(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function B(e,t){const n=[];return(0,i.FP)(e,t,(e=>n.push(e))),n}function Z(e,t){const n={};return e.visit(t,(e=>{n[c(e)]=1})),e=>n[c(e)]?null:e}function T(e,t){return e?(n,i)=>e(n,i)&&t(n,i):t}function P(e,t,n,i){const r=this,a=n.length;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=i||null,this.pulses=n;for(let e=0;e<a;++e){const i=n[e];if(i.stamp===t){if(i.fields){const e=r.fields||(r.fields={});for(const t in i.fields)e[t]=1}i.changed(r.ADD)&&(o|=r.ADD),i.changed(r.REM)&&(o|=r.REM),i.changed(r.MOD)&&(o|=r.MOD)}}this.changes=o}function j(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}S.prototype={StopPropagation:R,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new S(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new S(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,Z(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return(0,i.kJ)(e)?e.forEach((e=>t[e]=!0)):t[e]=!0,this},modified(e,t){const n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?(0,i.kJ)(e)?e.some((e=>n[e])):n[e]:!!n)},filter(e,t){const n=this;return 1&e&&(n.addF=T(n.addF,t)),2&e&&(n.remF=T(n.remF,t)),4&e&&(n.modF=T(n.modF,t)),16&e&&(n.srcF=T(n.srcF,t)),n},materialize(e){const t=this;return 1&(e=e||7)&&t.addF&&(t.add=B(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=B(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=B(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(16&e)return(0,i.FP)(n.source,n.srcF,r),n;1&e&&(0,i.FP)(n.add,n.addF,r),2&e&&(0,i.FP)(n.rem,n.remF,r),4&e&&(0,i.FP)(n.mod,n.modF,r);const a=n.source;if(8&e&&a){const e=n.add.length+n.mod.length;e===a.length||(e?(0,i.FP)(a,Z(n,5),r):(0,i.FP)(a,n.srcF,r))}return n}},(0,i.XW)(P,S,{fork(e){const t=new S(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(e=>t.add.push(e))),e&t.REM&&this.visit(t.REM,(e=>t.rem.push(e))),e&t.MOD&&this.visit(t.MOD,(e=>t.mod.push(e)))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?(0,i.kJ)(e)?e.some((e=>n[e])):n[e]:0},filter(){(0,i.vU)("MultiPulse does not support filtering.")},materialize(){(0,i.vU)("MultiPulse does not support materialization.")},visit(e,t){const n=this,i=n.pulses,r=i.length;let a=0;if(e&n.SOURCE)for(;a<r;++a)i[a].visit(e,t);else for(;a<r;++a)i[a].stamp===n.stamp&&i[a].visit(e,t);return n}});const z={skip:!1,force:!1};function q(e,t,n,i){let r,a;const o=e[n];for(;n>t&&(a=n-1>>1,r=e[a],i(o,r)<0);)e[n]=r,n=a;return e[n]=o}function N(){this.logger((0,i.kg)()),this.logLevel(i.jj),this._clock=0,this._rank=0,this._locale=(0,a.al)();try{this._loader=(0,r._m)()}catch(e){}this._touched=o(i.id),this._input={},this._pulse=null,this._heap=function(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),q(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let i;return t.length?(i=t[0],t[0]=n,function(e,t,n){const i=t,r=e.length,a=e[t];let o,s=1+(t<<1);for(;s<r;)o=s+1,o<r&&n(e[s],e[o])>=0&&(s=o),e[t]=e[s],s=1+((t=s)<<1);e[t]=a,q(e,i,t,n)}(t,0,e)):i=n,i}}}(((e,t)=>e.qrank-t.qrank)),this._postrun=[]}function U(e){return function(){return this._log[e].apply(this,arguments)}}function L(e,t){k.call(this,e,null,t)}N.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:U("error"),warn:U("warn"),info:U("info"),debug:U("debug"),logLevel:U("level"),cleanThreshold:1e4,add:function(e,t,n,r){let a,o=1;return e instanceof k?a=e:e&&e.prototype instanceof k?a=new e:(0,i.mf)(e)?a=new k(null,e):(o=0,a=new k(e,t)),this.rank(a),o&&(r=n,n=t),n&&this.connect(a,a.parameters(n,r)),this.touch(a),a},connect:function(e,t){const n=e.rank,i=t.length;for(let r=0;r<i;++r)if(n<t[r].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){const t=[e];let n,r,a;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(a=r.length;--a>=0;)t.push(n=r[a]),n===e&&(0,i.vU)("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||z);const i=new S(this,this._clock+(this._pulse?0:1)),r=e.pulse&&e.pulse.source||[];return i.target=e,this._input[e.id]=t.pulse(i,r),this},touch:function(e,t){const n=t||z;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){const i=n||z;return(e.set(t)||i.force)&&this.touch(e,i),this},changeset:v,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){const n=this.locale();return(0,r.ij)(e,t,n.timeParse,n.utcParse)},preload:async function(e,t,n){const r=this,a=r._pending||function(e){let t;const n=new Promise((e=>t=e));return n.requests=0,n.done=()=>{0==--n.requests&&(e._pending=null,t(e))},e._pending=n}(r);a.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(i.yb).insert(o.data||[])),a.done(),o},request:async function(e,t){const n=this;let i,a=0;try{i=await n.loader().load(e,{context:"dataflow",response:(0,r.hh)(t&&t.type)});try{i=n.parse(i,t)}catch(t){a=-2,n.warn("Data ingestion failed",e,t)}}catch(t){a=-1,n.warn("Loading failed",e,t)}return{data:i,status:a}},events:function(e,t,n,r){const a=this,o=F(n,r),s=function(e){e.dataflow=a;try{o.receive(e)}catch(e){a.error(e)}finally{a.run()}};let u;u="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):(0,i.IX)(e);const l=u.length;for(let e=0;e<l;++e)u[e].addEventListener(t,s);return o},on:function(e,t,n,i,r){return(e instanceof k?M:C)(this,e,t,n,i,r),this},evaluate:async function(e,t,n){const r=this,a=[];if(r._pulse)return j(r);if(r._pending&&await r._pending,t&&await s(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const u=++r._clock;r._pulse=new S(r,u,e),r._touched.forEach((e=>r._enqueue(e,!0))),r._touched=o(i.id);let l,f,c,d=0;try{for(;r._heap.size()>0;)l=r._heap.pop(),l.rank===l.qrank?(f=l.run(r._getPulse(l,e)),f.then?f=await f:f.async&&(a.push(f.async),f=R),f!==R&&l._targets&&l._targets.forEach((e=>r._enqueue(e))),++d):r._enqueue(l,!0)}catch(e){r._heap.clear(),c=e}if(r._input={},r._pulse=null,r.debug(`Pulse ${u}: ${d} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const e=r._postrun.sort(((e,t)=>t.priority-e.priority));r._postrun=[];for(let t=0;t<e.length;++t)await s(r,e[t].callback)}return n&&await s(r,n),a.length&&Promise.all(a).then((e=>r.runAsync(null,(()=>{e.forEach((e=>{try{e(r)}catch(e){r.error(e)}}))})))),r},run:function(e,t,n){return this._pulse?j(this):(this.evaluate(e,t,n),this)},runAsync:async function(e,t,n){for(;this._running;)await this._running;const i=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(i,i),this._running},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(e){this.error(e)}},_enqueue:function(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){const n=e.source,r=this._clock;return n&&(0,i.kJ)(n)?new P(this,r,n.map((e=>e.pulse)),t):this._input[e.id]||function(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==R&&(e.source=t.source),e)}(this._pulse,n&&n.pulse)}},(0,i.XW)(L,k,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then((e=>this.pulse=e)):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const I={};function W(e){const t=X(e);return t&&t.Definition||null}function X(e){return e=e&&e.toLowerCase(),(0,i.nr)(I,e)?I[e]:null}},89304:(e,t,n)=>{"use strict";n.d(t,{OU:()=>ve,i8:()=>be}),n(81303),n(21801);var i=n(22454),r=(n(87829),n(44355));n(49340),n(53064);var a,o=Object.prototype,s=o.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},l=u.iterator||"@@iterator",f=u.asyncIterator||"@@asyncIterator",c=u.toStringTag||"@@toStringTag";function d(e,t,n,i){var r=t&&t.prototype instanceof v?t:v,a=Object.create(r.prototype),o=new R(i||[]);return a._invoke=function(e,t,n){var i=p;return function(r,a){if(i===g)throw new Error("Generator is already running");if(i===y){if("throw"===r)throw a;return B()}for(n.method=r,n.arg=a;;){var o=n.delegate;if(o){var s=$(o,n);if(s){if(s===b)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===p)throw i=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=g;var u=h(e,t,n);if("normal"===u.type){if(i=n.done?y:m,u.arg===b)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=y,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}var p="suspendedStart",m="suspendedYield",g="executing",y="completed",b={};function v(){}function x(){}function _(){}var w={};w[l]=function(){return this};var A=Object.getPrototypeOf,k=A&&A(A(S([])));k&&k!==o&&s.call(k,l)&&(w=k);var O=_.prototype=v.prototype=Object.create(w);function D(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function E(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))}function F(e,t){function n(i,r,a,o){var u=h(e[i],e,r);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&s.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,o)}))}o(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function $(e,t){var n=e.iterator[t.method];if(n===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=a,$(e,t),"throw"===t.method))return b;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var i=h(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,b;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=a),t.delegate=null,b):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function S(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(s.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=a,t.done=!0,t};return i.next=i}}return{next:B}}function B(){return{value:a,done:!0}}x.prototype=O.constructor=_,_.constructor=x,_[c]=x.displayName="GeneratorFunction",D(F.prototype),F.prototype[f]=function(){return this},D(O),O[c]="Generator",O[l]=function(){return this},O.toString=function(){return"[object Generator]"},R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&s.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=a)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return o.type="throw",o.arg=e,t.next=n,i&&(t.method="next",t.arg=a),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var u=s.call(r,"catchLoc"),l=s.call(r,"finallyLoc");if(u&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(u){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&s.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),M(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;M(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=a),b}};var Z={wrap:d,isGeneratorFunction:E,AsyncIterator:F,mark:function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(O),e},awrap:function(e){return{__await:e}},async:function(e,t,n,i,r){void 0===r&&(r=Promise);var a=new F(d(e,t,n,i),r);return E(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},keys:function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var i=t.pop();if(i in e)return n.value=i,n.done=!1,n}return n.done=!0,n}},values:S},T=P;function P(e){var t=this;if(t instanceof P||(t=new P),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)t.push(arguments[n]);return t}function j(e,t,n){var i=t===e.head?new N(n,null,t,e):new N(n,t,t.next,e);return null===i.next&&(e.tail=i),null===i.prev&&(e.head=i),e.length++,i}function z(e,t){e.tail=new N(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function q(e,t){e.head=new N(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function N(e,t,n,i){if(!(this instanceof N))return new N(e,t,n,i);this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}P.Node=N,P.create=P,P.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},P.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},P.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},P.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)z(this,arguments[e]);return this.length},P.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)q(this,arguments[e]);return this.length},P.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},P.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},P.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,i=0;null!==n;i++)e.call(t,n.value,i,this),n=n.next},P.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,i=this.length-1;null!==n;i--)e.call(t,n.value,i,this),n=n.prev},P.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},P.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},P.prototype.map=function(e,t){t=t||this;for(var n=new P,i=this.head;null!==i;)n.push(e.call(t,i.value,this)),i=i.next;return n},P.prototype.mapReverse=function(e,t){t=t||this;for(var n=new P,i=this.tail;null!==i;)n.push(e.call(t,i.value,this)),i=i.prev;return n},P.prototype.reduce=function(e,t){var n,i=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");i=this.head.next,n=this.head.value}for(var r=0;null!==i;r++)n=e(n,i.value,r),i=i.next;return n},P.prototype.reduceReverse=function(e,t){var n,i=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");i=this.tail.prev,n=this.tail.value}for(var r=this.length-1;null!==i;r--)n=e(n,i.value,r),i=i.prev;return n},P.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},P.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},P.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new P;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,r=this.head;null!==r&&i<e;i++)r=r.next;for(;null!==r&&i<t;i++,r=r.next)n.push(r.value);return n},P.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new P;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,r=this.tail;null!==r&&i>t;i--)r=r.prev;for(;null!==r&&i>e;i--,r=r.prev)n.push(r.value);return n},P.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;var r=[];for(n=0;i&&n<t;n++)r.push(i.value),i=this.removeNode(i);for(null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev),n=0;n<(arguments.length<=2?0:arguments.length-2);n++)i=j(this,i,n+2<2||arguments.length<=n+2?void 0:arguments[n+2]);return r},P.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var i=n.prev;n.prev=n.next,n.next=i}return this.head=t,this.tail=e,this};try{P.prototype[Symbol.iterator]=Z.mark((function e(){var t;return Z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.value;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))}catch(e){}var U=T,L=Symbol("max"),I=Symbol("length"),W=Symbol("lengthCalculator"),X=Symbol("allowStale"),V=Symbol("maxAge"),H=Symbol("dispose"),J=Symbol("noDisposeOnSet"),Y=Symbol("lruList"),G=Symbol("cache"),K=Symbol("updateAgeOnGet"),Q=()=>1,ee=(e,t,n)=>{var i=e[G].get(t);if(i){var r=i.value;if(te(e,r)){if(ie(e,i),!e[X])return}else n&&(e[K]&&(i.value.now=Date.now()),e[Y].unshiftNode(i));return r.value}},te=(e,t)=>{if(!t||!t.maxAge&&!e[V])return!1;var n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[V]&&n>e[V]},ne=e=>{if(e[I]>e[L])for(var t=e[Y].tail;e[I]>e[L]&&null!==t;){var n=t.prev;ie(e,t),t=n}},ie=(e,t)=>{if(t){var n=t.value;e[H]&&e[H](n.key,n.value),e[I]-=n.length,e[G].delete(n.key),e[Y].removeNode(t)}};class re{constructor(e,t,n,i,r){this.key=e,this.value=t,this.length=n,this.now=i,this.maxAge=r||0}}var ae,oe,se,ue,le,fe,ce,de,he,pe=(e,t,n,i)=>{var r=n.value;te(e,r)&&(ie(e,n),e[X]||(r=void 0)),r&&t.call(i,r.value,r.key,e)},me={exports:{}},ge=(Number.MAX_SAFE_INTEGER,16),ye="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.error("SEMVER",...t)}:()=>{};ae=me.exports,oe=ge,se=ye,ue=(ae=me.exports={}).re=[],le=ae.src=[],fe=ae.t={},ce=0,(de=(e,t,n)=>{var i=ce++;se(i,t),fe[e]=i,le[i]=t,ue[i]=new RegExp(t,n?"g":void 0)})("NUMERICIDENTIFIER","0|[1-9]\\d*"),de("NUMERICIDENTIFIERLOOSE","[0-9]+"),de("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),de("MAINVERSION","(".concat(le[fe.NUMERICIDENTIFIER],")\\.")+"(".concat(le[fe.NUMERICIDENTIFIER],")\\.")+"(".concat(le[fe.NUMERICIDENTIFIER],")")),de("MAINVERSIONLOOSE","(".concat(le[fe.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(le[fe.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(le[fe.NUMERICIDENTIFIERLOOSE],")")),de("PRERELEASEIDENTIFIER","(?:".concat(le[fe.NUMERICIDENTIFIER],"|").concat(le[fe.NONNUMERICIDENTIFIER],")")),de("PRERELEASEIDENTIFIERLOOSE","(?:".concat(le[fe.NUMERICIDENTIFIERLOOSE],"|").concat(le[fe.NONNUMERICIDENTIFIER],")")),de("PRERELEASE","(?:-(".concat(le[fe.PRERELEASEIDENTIFIER],"(?:\\.").concat(le[fe.PRERELEASEIDENTIFIER],")*))")),de("PRERELEASELOOSE","(?:-?(".concat(le[fe.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(le[fe.PRERELEASEIDENTIFIERLOOSE],")*))")),de("BUILDIDENTIFIER","[0-9A-Za-z-]+"),de("BUILD","(?:\\+(".concat(le[fe.BUILDIDENTIFIER],"(?:\\.").concat(le[fe.BUILDIDENTIFIER],")*))")),de("FULLPLAIN","v?".concat(le[fe.MAINVERSION]).concat(le[fe.PRERELEASE],"?").concat(le[fe.BUILD],"?")),de("FULL","^".concat(le[fe.FULLPLAIN],"$")),de("LOOSEPLAIN","[v=\\s]*".concat(le[fe.MAINVERSIONLOOSE]).concat(le[fe.PRERELEASELOOSE],"?").concat(le[fe.BUILD],"?")),de("LOOSE","^".concat(le[fe.LOOSEPLAIN],"$")),de("GTLT","((?:<|>)?=?)"),de("XRANGEIDENTIFIERLOOSE","".concat(le[fe.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),de("XRANGEIDENTIFIER","".concat(le[fe.NUMERICIDENTIFIER],"|x|X|\\*")),de("XRANGEPLAIN","[v=\\s]*(".concat(le[fe.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(le[fe.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(le[fe.XRANGEIDENTIFIER],")")+"(?:".concat(le[fe.PRERELEASE],")?").concat(le[fe.BUILD],"?")+")?)?"),de("XRANGEPLAINLOOSE","[v=\\s]*(".concat(le[fe.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(le[fe.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(le[fe.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(le[fe.PRERELEASELOOSE],")?").concat(le[fe.BUILD],"?")+")?)?"),de("XRANGE","^".concat(le[fe.GTLT],"\\s*").concat(le[fe.XRANGEPLAIN],"$")),de("XRANGELOOSE","^".concat(le[fe.GTLT],"\\s*").concat(le[fe.XRANGEPLAINLOOSE],"$")),de("COERCE","".concat("(^|[^\\d])(\\d{1,").concat(oe,"})")+"(?:\\.(\\d{1,".concat(oe,"}))?")+"(?:\\.(\\d{1,".concat(oe,"}))?")+"(?:$|[^\\d])"),de("COERCERTL",le[fe.COERCE],!0),de("LONETILDE","(?:~>?)"),de("TILDETRIM","(\\s*)".concat(le[fe.LONETILDE],"\\s+"),!0),ae.tildeTrimReplace="$1~",de("TILDE","^".concat(le[fe.LONETILDE]).concat(le[fe.XRANGEPLAIN],"$")),de("TILDELOOSE","^".concat(le[fe.LONETILDE]).concat(le[fe.XRANGEPLAINLOOSE],"$")),de("LONECARET","(?:\\^)"),de("CARETTRIM","(\\s*)".concat(le[fe.LONECARET],"\\s+"),!0),ae.caretTrimReplace="$1^",de("CARET","^".concat(le[fe.LONECARET]).concat(le[fe.XRANGEPLAIN],"$")),de("CARETLOOSE","^".concat(le[fe.LONECARET]).concat(le[fe.XRANGEPLAINLOOSE],"$")),de("COMPARATORLOOSE","^".concat(le[fe.GTLT],"\\s*(").concat(le[fe.LOOSEPLAIN],")$|^$")),de("COMPARATOR","^".concat(le[fe.GTLT],"\\s*(").concat(le[fe.FULLPLAIN],")$|^$")),de("COMPARATORTRIM","(\\s*)".concat(le[fe.GTLT],"\\s*(").concat(le[fe.LOOSEPLAIN],"|").concat(le[fe.XRANGEPLAIN],")"),!0),ae.comparatorTrimReplace="$1$2$3",de("HYPHENRANGE","^\\s*(".concat(le[fe.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(le[fe.XRANGEPLAIN],")")+"\\s*$"),de("HYPHENRANGELOOSE","^\\s*(".concat(le[fe.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(le[fe.XRANGEPLAINLOOSE],")")+"\\s*$"),de("STAR","(<|>)?=?\\s*\\*"),de("GTE0","^\\s*>=\\s*0.0.0\\s*$"),de("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$"),me.exports.re,me.exports.t,Symbol("SemVer ANY"),me.exports.re,me.exports.t,new class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[L]=e.max||1/0;var t=e.length||Q;if(this[W]="function"!=typeof t?Q:t,this[X]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[V]=e.maxAge||0,this[H]=e.dispose,this[J]=e.noDisposeOnSet||!1,this[K]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[L]=e||1/0,ne(this)}get max(){return this[L]}set allowStale(e){this[X]=!!e}get allowStale(){return this[X]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[V]=e,ne(this)}get maxAge(){return this[V]}set lengthCalculator(e){"function"!=typeof e&&(e=Q),e!==this[W]&&(this[W]=e,this[I]=0,this[Y].forEach((e=>{e.length=this[W](e.value,e.key),this[I]+=e.length}))),ne(this)}get lengthCalculator(){return this[W]}get length(){return this[I]}get itemCount(){return this[Y].length}rforEach(e,t){t=t||this;for(var n=this[Y].tail;null!==n;){var i=n.prev;pe(this,e,n,t),n=i}}forEach(e,t){t=t||this;for(var n=this[Y].head;null!==n;){var i=n.next;pe(this,e,n,t),n=i}}keys(){return this[Y].toArray().map((e=>e.key))}values(){return this[Y].toArray().map((e=>e.value))}reset(){this[H]&&this[Y]&&this[Y].length&&this[Y].forEach((e=>this[H](e.key,e.value))),this[G]=new Map,this[Y]=new U,this[I]=0}dump(){return this[Y].map((e=>!te(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[Y]}set(e,t,n){if((n=n||this[V])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");var i=n?Date.now():0,r=this[W](t,e);if(this[G].has(e)){if(r>this[L])return ie(this,this[G].get(e)),!1;var a=this[G].get(e).value;return this[H]&&(this[J]||this[H](e,a.value)),a.now=i,a.maxAge=n,a.value=t,this[I]+=r-a.length,a.length=r,this.get(e),ne(this),!0}var o=new re(e,t,r,i,n);return o.length>this[L]?(this[H]&&this[H](e,t),!1):(this[I]+=o.length,this[Y].unshift(o),this[G].set(e,this[Y].head),ne(this),!0)}has(e){if(!this[G].has(e))return!1;var t=this[G].get(e).value;return!te(this,t)}get(e){return ee(this,e,!0)}peek(e){return ee(this,e,!1)}pop(){var e=this[Y].tail;return e?(ie(this,e),e.value):null}del(e){ie(this,this[G].get(e))}load(e){this.reset();for(var t=Date.now(),n=e.length-1;n>=0;n--){var i=e[n],r=i.e||0;if(0===r)this.set(i.k,i.v);else{var a=r-t;a>0&&this.set(i.k,i.v,a)}}}prune(){this[G].forEach(((e,t)=>ee(this,t,!1)))}}({max:1e3}),me.exports.re,me.exports.t,me.exports.comparatorTrimReplace,me.exports.tildeTrimReplace,me.exports.caretTrimReplace,String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.substr(!t||t<0?0:+t,e.length)===e});var be="6.20.8",ve=i,xe=r,_e="undefined"!=typeof window?window:void 0;void 0===xe&&null!=_e&&null!==(he=_e.vl)&&void 0!==he&&he.compile&&(xe=_e.vl),ve.version,xe&&xe.version},71986:(e,t,n)=>{"use strict";n.r(t),n.d(t,{axisticks:()=>f,datajoin:()=>c,encode:()=>h,legendentries:()=>p,linkpath:()=>v,pie:()=>k,scale:()=>E,sortitems:()=>M,stack:()=>T});var i=n(4036),r=n(87180),a=n(48823),o=n(49066),s=n(66692),u=n(55720),l=n(81265);function f(e){i.wx.call(this,null,e)}function c(e){i.wx.call(this,null,e)}function d(){return(0,i.ax)({})}function h(e){i.wx.call(this,null,e)}function p(e){i.wx.call(this,[],e)}(0,a.XW)(f,i.wx,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),a=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,s=e.scale,u=null==e.count?e.values?e.values.length:10:e.count,l=(0,r.QL)(s,u,e.minstep),f=e.format||(0,r.uk)(n,s,l,e.formatSpecifier,e.formatType,!!e.values),c=e.values?(0,r.bX)(s,e.values,l):(0,r.DP)(s,l);return o&&(a.rem=o),o=c.map(((e,t)=>(0,i.ax)({index:t/(c.length-1||1),value:e,label:f(e)}))),e.extra&&o.length&&o.push((0,i.ax)({index:-1,extra:{value:o[0].value},label:""})),a.source=o,a.add=o,this.value=o,a}}),(0,a.XW)(c,i.wx,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.item||d,s=e.key||i.ai,u=this.value;return(0,a.kJ)(r.encode)&&(r.encode=null),u&&(e.modified("key")||t.modified(s))&&(0,a.vU)("DataJoin does not support modified key function or fields."),u||(t=t.addAll(),this.value=u=function(e){const t=(0,a.Xr)().test((e=>e.exit));return t.lookup=n=>t.get(e(n)),t}(s)),t.visit(t.ADD,(e=>{const t=s(e);let n=u.get(t);n?n.exit?(u.empty--,r.add.push(n)):r.mod.push(n):(n=o(e),u.set(t,n),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(e=>{const t=s(e),n=u.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(e=>{const t=s(e),n=u.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++u.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&u.empty>n.cleanThreshold)&&n.runAfter(u.clean),r}}),(0,a.XW)(h,i.wx,{transform(e,t){var n=t.fork(t.ADD_REM),i=e.mod||!1,r=e.encoders,o=t.encode;if((0,a.kJ)(o)){if(!n.changed()&&!o.every((e=>r[e])))return t.StopPropagation;o=o[0],n.encode=null}var s="enter"===o,u=r.update||a.k,l=r.enter||a.k,f=r.exit||a.k,c=(o&&!s?r[o]:u)||a.k;if(t.changed(t.ADD)&&(t.visit(t.ADD,(t=>{l(t,e),u(t,e)})),n.modifies(l.output),n.modifies(u.output),c!==a.k&&c!==u&&(t.visit(t.ADD,(t=>{c(t,e)})),n.modifies(c.output))),t.changed(t.REM)&&f!==a.k&&(t.visit(t.REM,(t=>{f(t,e)})),n.modifies(f.output)),s||c!==a.k){const r=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(r,(t=>{const r=l(t,e)||i;(c(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)):t.visit(r,(t=>{(c(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}}),(0,a.XW)(p,i.wx,{transform(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,o,s,u,l,f=t.dataflow.locale(),c=t.fork(t.NO_SOURCE|t.NO_FIELDS),d=this.value,h=e.type||r.UX,p=e.scale,m=+e.limit,g=(0,r.QL)(p,null==e.count?5:e.count,e.minstep),y=!!e.values||h===r.UX,b=e.format||(0,r.n7)(f,p,g,h,e.formatSpecifier,e.formatType,y),v=e.values||(0,r.PL)(p,g);return d&&(c.rem=d),h===r.UX?(m&&v.length>m?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),d=v.slice(0,m-1),l=!0):d=v,(0,a.mf)(s=e.size)?(e.values||0!==p(d[0])||(d=d.slice(1)),u=d.reduce(((t,n)=>Math.max(t,s(n,e))),0)):s=(0,a.a9)(u=s||8),d=d.map(((t,n)=>(0,i.ax)({index:n,label:b(t,n,d),value:t,offset:u,size:s(t,e)}))),l&&(l=v[d.length],d.push((0,i.ax)({index:d.length,label:"…".concat(v.length-d.length," entries"),value:l,offset:u,size:s(l,e)})))):h===r.Aq?(n=p.domain(),o=(0,r.NR)(p,n[0],(0,a.fj)(n)),v.length<3&&!e.values&&n[0]!==(0,a.fj)(n)&&(v=[n[0],(0,a.fj)(n)]),d=v.map(((e,t)=>(0,i.ax)({index:t,label:b(e,t,v),value:e,perc:o(e)})))):(s=v.length-1,o=(0,r.cA)(p),d=v.map(((e,t)=>(0,i.ax)({index:t,label:b(e,t,v),value:e,perc:t?o(e):0,perc2:t===s?1:o(v[t+1])})))),c.source=d,c.add=d,this.value=d,c}});const m=e=>e.source.x,g=e=>e.source.y,y=e=>e.target.x,b=e=>e.target.y;function v(e){i.wx.call(this,{},e)}v.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},(0,a.XW)(v,i.wx,{transform(e,t){var n=e.sourceX||m,i=e.sourceY||g,r=e.targetX||y,o=e.targetY||b,s=e.as||"path",u=e.orient||"vertical",l=e.shape||"line",f=A.get(l+"-"+u)||A.get(l);return f||(0,a.vU)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(e=>{e[s]=f(n(e),i(e),r(e),o(e))})),t.reflow(e.modified()).modifies(s)}});const x=(e,t,n,i)=>"M"+e+","+t+"L"+n+","+i,_=(e,t,n,i)=>{var r=n-e,a=i-t,o=Math.sqrt(r*r+a*a)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(a,r)/Math.PI+" 0 1 "+n+","+i},w=(e,t,n,i)=>{const r=n-e,a=i-t,o=.2*(r+a),s=.2*(a-r);return"M"+e+","+t+"C"+(e+o)+","+(t+s)+" "+(n+s)+","+(i-o)+" "+n+","+i},A=(0,a.Xr)({line:x,"line-radial":(e,t,n,i)=>x(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),arc:_,"arc-radial":(e,t,n,i)=>_(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),curve:w,"curve-radial":(e,t,n,i)=>w(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),"orthogonal-horizontal":(e,t,n,i)=>"M"+e+","+t+"V"+i+"H"+n,"orthogonal-vertical":(e,t,n,i)=>"M"+e+","+t+"H"+n+"V"+i,"orthogonal-radial":(e,t,n,i)=>{const r=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n);return"M"+t*r+","+t*a+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*o+","+t*s+"L"+i*o+","+i*s},"diagonal-horizontal":(e,t,n,i)=>{const r=(e+n)/2;return"M"+e+","+t+"C"+r+","+t+" "+r+","+i+" "+n+","+i},"diagonal-vertical":(e,t,n,i)=>{const r=(t+i)/2;return"M"+e+","+t+"C"+e+","+r+" "+n+","+r+" "+n+","+i},"diagonal-radial":(e,t,n,i)=>{const r=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),u=(t+i)/2;return"M"+t*r+","+t*a+"C"+u*r+","+u*a+" "+u*o+","+u*s+" "+i*o+","+i*s}});function k(e){i.wx.call(this,null,e)}function O(e){return(0,r.z2)(e)&&e!==r.sb}k.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},(0,a.XW)(k,i.wx,{transform(e,t){var n,i,r,u=e.as||["startAngle","endAngle"],l=u[0],f=u[1],c=e.field||a.kX,d=e.startAngle||0,h=null!=e.endAngle?e.endAngle:2*Math.PI,p=t.source,m=p.map(c),g=m.length,y=d,b=(h-d)/(0,o.Z)(m),v=(0,s.Z)(g);for(e.sort&&v.sort(((e,t)=>m[e]-m[t])),n=0;n<g;++n)r=m[v[n]],(i=p[v[n]])[l]=y,i[f]=y+=r*b;return this.value=m,t.reflow(e.modified()).modifies(u)}});const D=(0,a.Rg)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function E(e){i.wx.call(this,null,e),this.modified(!0)}function F(e,t,n){return(0,r.dh)(e)&&Math.abs(t.reduce(((e,t)=>e+(t<0?-1:t>0?1:0)),0))!==t.length&&n.warn("Log scale domain includes zero: "+(0,a.m8)(t)),t}function $(e,t,n){return(0,a.mf)(e)&&(t||n)?(0,r.ST)(e,C(t||[0,1],n)):e}function C(e,t){return t?e.slice().reverse():e}function M(e){i.wx.call(this,null,e)}(0,a.XW)(E,i.wx,{transform(e,t){var n=t.dataflow,i=this.value,o=function(e){var t,n=e.type,i="";return n===r.sb?r.sb+"-"+r.bJ:(function(e){const t=e.type;return(0,r.z2)(t)&&t!==r.qp&&t!==r.zR&&(e.scheme||e.range&&e.range.length&&e.range.every(a.HD))}(e)&&(i=2===(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?r.sb+"-":3===t?r.QZ+"-":""),(i+n||r.bJ).toLowerCase())}(e);for(o in i&&o===i.type||(this.value=i=(0,r.bA)(o)()),e)if(!D[o]){if("padding"===o&&O(i.type))continue;(0,a.mf)(i[o])?i[o](e[o]):n.warn("Unsupported scale property: "+o)}return function(e,t,n){var i=e.type,o=t.round||!1,s=t.range;if(null!=t.rangeStep)s=function(e,t,n){e!==r.td&&e!==r.E9&&(0,a.vU)("Only band and point scales support rangeStep.");var i=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,o=e===r.E9?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*(0,r.U6)(n,o,i)]}(i,t,n);else if(t.scheme&&(s=function(e,t,n){var i,o,s=t.schemeExtent;return(0,a.kJ)(t.scheme)?o=(0,r.Nz)(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),(o=(0,r.rC)(i))||(0,a.vU)("Unrecognized scheme name: ".concat(t.scheme))),n=e===r.Ms?n+1:e===r.a7?n-1:e===r.cO||e===r.J$?+t.schemeCount||5:n,(0,r.hC)(e)?$(o,s,t.reverse):(0,a.mf)(o)?(0,r.u1)($(o,s),n):e===r.r7?o:o.slice(0,n)}(i,t,n),(0,a.mf)(s))){if(e.interpolator)return e.interpolator(s);(0,a.vU)("Scale type ".concat(i," does not support interpolating color schemes."))}if(s&&(0,r.hC)(i))return e.interpolator((0,r.Nz)(C(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate((0,r.sX)(t.interpolate,t.interpolateGamma)):(0,a.mf)(e.round)?e.round(o):(0,a.mf)(e.rangeRound)&&e.interpolate(o?u.Z:l.Z),s&&e.range(C(s,t.reverse))}(i,e,function(e,t,n){let i=t.bins;if(i&&!(0,a.kJ)(i)){const t=e.domain(),n=t[0],r=(0,a.fj)(t),o=i.step;let u=null==i.start?n:i.start,l=null==i.stop?r:i.stop;o||(0,a.vU)("Scale bins parameter missing step property."),u<n&&(u=o*Math.ceil(n/o)),l>r&&(l=o*Math.floor(r/o)),i=(0,s.Z)(u,l+o/2,o)}return i?e.bins=i:e.bins&&delete e.bins,e.type===r.a7&&(i?t.domain||t.domainRaw||(e.domain(i),n=i.length):e.bins=e.domain()),n}(i,e,function(e,t,n){const i=function(e,t,n){return t?(e.domain(F(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(i>-1)return i;var o,s,u=t.domain,l=e.type,f=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&(t===r.bJ||t===r.pe||t===r.FK)}(e);if(!u)return 0;if(O(l)&&t.padding&&u[0]!==(0,a.fj)(u)&&(u=function(e,t,n,i,o,s){var u=Math.abs((0,a.fj)(n)-n[0]),l=u/(u-2*i),f=e===r.Zb?(0,a.dH)(t,null,l):e===r.FK?(0,a.mK)(t,null,l,.5):e===r.pe?(0,a.mK)(t,null,l,o||1):e===r.PB?(0,a.bV)(t,null,l,s||1):(0,a.ay)(t,null,l);return(t=t.slice())[0]=f[0],t[t.length-1]=f[1],t}(l,u,t.range,t.padding,t.exponent,t.constant)),(f||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(o=(u=u.slice()).length-1||1,f&&(u[0]>0&&(u[0]=0),u[o]<0&&(u[o]=0)),null!=t.domainMin&&(u[0]=t.domainMin),null!=t.domainMax&&(u[o]=t.domainMax),null!=t.domainMid)){const e=(s=t.domainMid)>u[o]?o+1:s<u[0]?0:o;e!==o&&n.warn("Scale domainMid exceeds domain min or max.",s),u.splice(e,0,s)}return e.domain(F(l,u,n)),l===r.r7&&e.unknown(t.domainImplicit?r.qm:void 0),t.nice&&e.nice&&e.nice(!0!==t.nice&&(0,r.QL)(e,t.nice)||null),u.length}(i,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),(0,a.XW)(M,i.wx,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort((0,i.vo)(e.sort)),this.modified(n),t}});const R="zero",S="center",B="normalize",Z=["y0","y1"];function T(e){i.wx.call(this,null,e)}function P(e,t,n,i,r){for(var a,o=(t-e.sum)/2,s=e.length,u=0;u<s;++u)(a=e[u])[i]=o,a[r]=o+=Math.abs(n(a))}function j(e,t,n,i,r){for(var a,o=1/e.sum,s=0,u=e.length,l=0,f=0;l<u;++l)(a=e[l])[i]=s,a[r]=s=o*(f+=Math.abs(n(a)))}function z(e,t,n,i,r){for(var a,o,s=0,u=0,l=e.length,f=0;f<l;++f)(a=+n(o=e[f]))<0?(o[i]=u,o[r]=u+=a):(o[i]=s,o[r]=s+=a)}T.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:R,values:[R,S,B]},{name:"as",type:"string",array:!0,length:2,default:Z}]},(0,a.XW)(T,i.wx,{transform(e,t){var n,r,o,s,u=e.as||Z,l=u[0],f=u[1],c=(0,i.vo)(e.sort),d=e.field||a.kX,h=e.offset===S?P:e.offset===B?j:z;for(n=function(e,t,n,i){var r,a,o,s,u,l,f,c,d,h=[],p=e=>e(u);if(null==t)h.push(e.slice());else for(r={},a=0,o=e.length;a<o;++a)u=e[a],(f=r[l=t.map(p)])||(r[l]=f=[],h.push(f)),f.push(u);for(l=0,d=0,s=h.length;l<s;++l){for(a=0,c=0,o=(f=h[l]).length;a<o;++a)c+=Math.abs(i(f[a]));f.sum=c,c>d&&(d=c),n&&f.sort(n)}return h.max=d,h}(t.source,e.groupby,c,d),r=0,o=n.length,s=n.max;r<o;++r)h(n[r],s,d,l,f);return t.reflow(e.modified()).modifies(u)}})},66692:(e,t,n)=>{"use strict";function i(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(r);++i<r;)a[i]=e+i*n;return a}n.d(t,{Z:()=>i})},49066:(e,t,n)=>{"use strict";function i(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&(n+=r)}return n}n.d(t,{Z:()=>i})},83082:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});const i=/[[\]{}]/,r={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let a,o;function s(e,t,n){return a=t||"view",o=n||r,l(e.trim()).map(f)}function u(e,t,n,i,r){const a=e.length;let o,s=0;for(;t<a;++t){if(o=e[t],!s&&o===n)return t;r&&r.indexOf(o)>=0?--s:i&&i.indexOf(o)>=0&&++s}return t}function l(e){const t=[],n=e.length;let i=0,r=0;for(;r<n;)r=u(e,r,",","[{","]}"),t.push(e.substring(i,r).trim()),i=++r;if(0===t.length)throw"Empty event selector: "+e;return t}function f(e){return"["===e[0]?function(e){const t=e.length;let n,i=1;if(i=u(e,i,"]","[","]"),i===t)throw"Empty between selector: "+e;if(n=l(e.substring(1,i)),2!==n.length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+e;n=n.map(f);const r=f(e.slice(1).trim());return r.between?{between:n,stream:r}:(r.between=n,r)}(e):function(e){const t={source:a},n=[];let r,s,l=[0,0],f=0,c=0,d=e.length,h=0;if("}"===e[d-1]){if(h=e.lastIndexOf("{"),!(h>=0))throw"Unmatched right brace: "+e;try{l=function(e){const t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((t=>{const n=+t;if(n!=n)throw e;return n}))}(e.substring(h+1,d-1))}catch(t){throw"Invalid throttle specification: "+e}d=(e=e.slice(0,h).trim()).length,h=0}if(!d)throw e;if("@"===e[0]&&(f=++h),r=u(e,h,":"),r<d&&(n.push(e.substring(c,r).trim()),c=h=++r),h=u(e,h,"["),h===d)n.push(e.substring(c,d).trim());else if(n.push(e.substring(c,h).trim()),s=[],c=++h,c===d)throw"Unmatched left bracket: "+e;for(;h<d;){if(h=u(e,h,"]"),h===d)throw"Unmatched left bracket: "+e;if(s.push(e.substring(c,h).trim()),h<d-1&&"["!==e[++h])throw"Expected left bracket: "+e;c=++h}if(!(d=n.length)||i.test(n[d-1]))throw"Invalid event selector: "+e;var p;return d>1?(t.type=n[1],f?t.markname=n[0].slice(1):(p=n[0],o[p]?t.marktype=n[0]:t.source=n[0])):t.type=n[0],"!"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1)),null!=s&&(t.filter=s),l[0]&&(t.throttle=l[0]),l[1]&&(t.debounce=l[1]),t}(e)}},25693:(e,t,n)=>{"use strict";n.d(t,{YP:()=>ue,BJ:()=>ae});var i=n(48823);function r(e){this.type=e}var a,o,s,u,l;r.prototype.visit=function(e){let t,n,i;if(e(this))return 1;for(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case"CallExpression":return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),n=0,i=t.length;n<i;++n)if(t[n].visit(e))return 1},(a={})[1]="Boolean",a[2]="<end>",a[3]="Identifier",a[4]="Keyword",a[5]="Null",a[6]="Numeric",a[7]="Punctuator",a[8]="String",a[9]="RegularExpression";var f="Identifier",c="Unexpected token %0",d="Invalid regular expression",h="Invalid regular expression: missing /",p="Octal literals are not allowed in strict mode.",m="ILLEGAL",g="Disabled.",y=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),b=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function v(e,t){if(!e)throw new Error("ASSERT: "+t)}function x(e){return e>=48&&e<=57}function _(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function w(e){return"01234567".indexOf(e)>=0}function A(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function k(e){return 10===e||13===e||8232===e||8233===e}function O(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&y.test(String.fromCharCode(e))}function D(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&b.test(String.fromCharCode(e))}const E={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function F(){for(;s<u;){const e=o.charCodeAt(s);if(!A(e)&&!k(e))break;++s}}function $(e){var t,n,i,r=0;for(n="u"===e?4:2,t=0;t<n;++t)s<u&&_(o[s])?(i=o[s++],r=16*r+"0123456789abcdef".indexOf(i.toLowerCase())):L({},c,m);return String.fromCharCode(r)}function C(){var e,t,n,i;for(t=0,"}"===(e=o[s])&&L({},c,m);s<u&&_(e=o[s++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&L({},c,m),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),i=56320+(t-65536&1023),String.fromCharCode(n,i))}function M(){var e,t;for(e=o.charCodeAt(s++),t=String.fromCharCode(e),92===e&&(117!==o.charCodeAt(s)&&L({},c,m),++s,(e=$("u"))&&"\\"!==e&&O(e.charCodeAt(0))||L({},c,m),t=e);s<u&&D(e=o.charCodeAt(s));)++s,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==o.charCodeAt(s)&&L({},c,m),++s,(e=$("u"))&&"\\"!==e&&D(e.charCodeAt(0))||L({},c,m),t+=e);return t}function R(){var e,t,n,i,r=s,a=o.charCodeAt(s),u=o[s];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++s,{type:7,value:String.fromCharCode(a),start:r,end:s};default:if(61===(e=o.charCodeAt(s+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return s+=2,{type:7,value:String.fromCharCode(a)+String.fromCharCode(e),start:r,end:s};case 33:case 61:return s+=2,61===o.charCodeAt(s)&&++s,{type:7,value:o.slice(r,s),start:r,end:s}}}return">>>="===(i=o.substr(s,4))?{type:7,value:i,start:r,end:s+=4}:">>>"===(n=i.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:r,end:s+=3}:u===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===t?{type:7,value:t,start:r,end:s+=2}:("//"===t&&L({},c,m),"<>=!+-*%&|^/".indexOf(u)>=0?{type:7,value:u,start:r,end:++s}:void L({},c,m))}function S(){var e,t,n;if(v(x((n=o[s]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=s,e="","."!==n){if(e=o[s++],n=o[s],"0"===e){if("x"===n||"X"===n)return++s,function(e){let t="";for(;s<u&&_(o[s]);)t+=o[s++];return 0===t.length&&L({},c,m),O(o.charCodeAt(s))&&L({},c,m),{type:6,value:parseInt("0x"+t,16),start:e,end:s}}(t);if(w(n))return function(e){let t="0"+o[s++];for(;s<u&&w(o[s]);)t+=o[s++];return(O(o.charCodeAt(s))||x(o.charCodeAt(s)))&&L({},c,m),{type:6,value:parseInt(t,8),octal:!0,start:e,end:s}}(t);n&&x(n.charCodeAt(0))&&L({},c,m)}for(;x(o.charCodeAt(s));)e+=o[s++];n=o[s]}if("."===n){for(e+=o[s++];x(o.charCodeAt(s));)e+=o[s++];n=o[s]}if("e"===n||"E"===n)if(e+=o[s++],"+"!==(n=o[s])&&"-"!==n||(e+=o[s++]),x(o.charCodeAt(s)))for(;x(o.charCodeAt(s));)e+=o[s++];else L({},c,m);return O(o.charCodeAt(s))&&L({},c,m),{type:6,value:parseFloat(e),start:t,end:s}}function B(){if(F(),s>=u)return{type:2,start:s,end:s};const e=o.charCodeAt(s);return O(e)?(t=s,n=92===o.charCodeAt(s)?M():function(){var e,t;for(e=s++;s<u;){if(92===(t=o.charCodeAt(s)))return s=e,M();if(!D(t))break;++s}return o.slice(e,s)}(),{type:1===n.length?3:E.hasOwnProperty(n)?4:"null"===n?5:"true"===n||"false"===n?1:3,value:n,start:t,end:s}):40===e||41===e||59===e?R():39===e||34===e?function(){var e,t,n,i,r="",a=!1;for(v("'"===(e=o[s])||'"'===e,"String literal must starts with a quote"),t=s,++s;s<u;){if((n=o[s++])===e){e="";break}if("\\"===n)if((n=o[s++])&&k(n.charCodeAt(0)))"\r"===n&&"\n"===o[s]&&++s;else switch(n){case"u":case"x":"{"===o[s]?(++s,r+=C()):r+=$(n);break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:w(n)?(0!==(i="01234567".indexOf(n))&&(a=!0),s<u&&w(o[s])&&(a=!0,i=8*i+"01234567".indexOf(o[s++]),"0123".indexOf(n)>=0&&s<u&&w(o[s])&&(i=8*i+"01234567".indexOf(o[s++]))),r+=String.fromCharCode(i)):r+=n}else{if(k(n.charCodeAt(0)))break;r+=n}}return""!==e&&L({},c,m),{type:8,value:r,octal:a,start:t,end:s}}():46===e?x(o.charCodeAt(s+1))?S():R():x(e)?S():R();var t,n}function Z(){const e=l;return s=e.end,l=B(),s=e.end,e}function T(){const e=s;l=B(),s=e}function P(e,t,n){const i=new r("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return i.operator=e,i.left=t,i.right=n,i}function j(e,t){const n=new r("CallExpression");return n.callee=e,n.arguments=t,n}function z(e){const t=new r(f);return t.name=e,t}function q(e){const t=new r("Literal");return t.value=e.value,t.raw=o.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function N(e,t,n){const i=new r("MemberExpression");return i.computed="["===e,i.object=t,i.property=n,i.computed||(n.member=!0),i}function U(e,t,n){const i=new r("Property");return i.key=t,i.value=n,i.kind=e,i}function L(e,t){var n,i=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\d)/g,((e,t)=>(v(t<i.length,"Message reference must be in range"),i[t])));throw(n=new Error(r)).index=s,n.description=r,n}function I(e){2===e.type&&L(e,"Unexpected end of input"),6===e.type&&L(e,"Unexpected number"),8===e.type&&L(e,"Unexpected string"),3===e.type&&L(e,"Unexpected identifier"),4===e.type&&L(e,"Unexpected reserved word"),L(e,c,e.value)}function W(e){const t=Z();7===t.type&&t.value===e||I(t)}function X(e){return 7===l.type&&l.value===e}function V(e){return 4===l.type&&l.value===e}function H(){s=l.start;const e=Z();return 8===e.type||6===e.type?(e.octal&&L(e,p),q(e)):z(e.value)}function J(){var e,t,n;return s=l.start,3===(e=l).type?(n=H(),W(":"),U("init",n,ie())):2!==e.type&&7!==e.type?(t=H(),W(":"),U("init",t,ie())):void I(e)}const Y={if:1};function G(){var e,t,n,i,a,y,b;if(X("("))return function(){W("(");const e=re();return W(")"),e}();if(X("["))return function(){const e=[];for(s=l.start,W("[");!X("]");)X(",")?(Z(),e.push(null)):(e.push(ie()),X("]")||W(","));return Z(),function(e){const t=new r("ArrayExpression");return t.elements=e,t}(e)}();if(X("{"))return function(){var e,t,n=[],i={},a=String;for(s=l.start,W("{");!X("}");)t="$"+((e=J()).key.type===f?e.key.name:a(e.key.value)),Object.prototype.hasOwnProperty.call(i,t)?L({},"Duplicate data property in object literal not allowed in strict mode"):i[t]=!0,n.push(e),X("}")||W(",");return W("}"),function(e){const t=new r("ObjectExpression");return t.properties=e,t}(n)}();if(e=l.type,s=l.start,3===e||Y[l.value])n=z(Z().value);else if(8===e||6===e)l.octal&&L(l,p),n=q(Z());else{if(4===e)throw new Error(g);1===e?((t=Z()).value="true"===t.value,n=q(t)):5===e?((t=Z()).value=null,n=q(t)):X("/")||X("/=")?(n=q((l=null,F(),i=s,a=function(){var e,t,n,i;for(v("/"===(e=o[s]),"Regular expression literal must start with a slash"),t=o[s++],n=!1,i=!1;s<u;)if(t+=e=o[s++],"\\"===e)k((e=o[s++]).charCodeAt(0))&&L({},h),t+=e;else if(k(e.charCodeAt(0)))L({},h);else if(n)"]"===e&&(n=!1);else{if("/"===e){i=!0;break}"["===e&&(n=!0)}return i||L({},h),{value:t.substr(1,t.length-2),literal:t}}(),y=function(){var e,t,n;for(t="",n="";s<u&&D((e=o[s]).charCodeAt(0));)++s,"\\"===e&&s<u?L({},c,m):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&L({},d,n),{value:n,literal:t}}(),b=function(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,((e,t)=>{if(parseInt(t,16)<=1114111)return"x";L({},d)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){L({},d)}try{return new RegExp(e,t)}catch(e){return null}}(a.value,y.value),{literal:a.literal+y.literal,value:b,regex:{pattern:a.value,flags:y.value},start:i,end:s})),T()):I(Z())}return n}function K(){const e=[];if(W("("),!X(")"))for(;s<u&&(e.push(ie()),!X(")"));)W(",");return W(")"),e}function Q(){W("[");const e=re();return W("]"),e}function ee(){const e=function(){var e;for(e=G();;)if(X("."))e=N(".",e,(W("."),function(){s=l.start;const e=Z();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||I(e),z(e.value)}()));else if(X("("))e=j(e,K());else{if(!X("["))break;e=N("[",e,Q())}return e}();if(7===l.type&&(X("++")||X("--")))throw new Error(g);return e}function te(){var e,t;if(7!==l.type&&4!==l.type)t=ee();else{if(X("++")||X("--"))throw new Error(g);if(X("+")||X("-")||X("~")||X("!"))e=Z(),t=te(),t=function(e,t){const n=new r("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(V("delete")||V("void")||V("typeof"))throw new Error(g);t=ee()}}return t}function ne(e){let t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function ie(){var e,t;return e=function(){var e,t,n,i,r,a,o,s,u,f;if(e=l,u=te(),0===(r=ne(i=l)))return u;for(i.prec=r,Z(),t=[e,l],a=[u,i,o=te()];(r=ne(l))>0;){for(;a.length>2&&r<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,u=a.pop(),t.pop(),n=P(s,u,o),a.push(n);(i=Z()).prec=r,a.push(i),t.push(l),n=te(),a.push(n)}for(n=a[f=a.length-1],t.pop();f>1;)t.pop(),n=P(a[f-1].value,a[f-2],n),f-=2;return n}(),X("?")&&(Z(),t=ie(),W(":"),e=function(e,t,n){const i=new r("ConditionalExpression");return i.test=e,i.consequent=t,i.alternate=n,i}(e,t,ie())),e}function re(){const e=ie();if(X(","))throw new Error(g);return e}function ae(e){s=0,u=(o=e).length,l=null,T();const t=re();if(2!==l.type)throw new Error("Unexpect token after expression.");return t}var oe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function se(e){function t(t,n,i){return r=>function(t,n,i,r){let a=e(n[0]);return i&&(a=i+"("+a+")",0===i.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(r<0?"":0===r?"()":"("+n.slice(1).map(e).join(",")+")")}(t,r,n,i)}const n="new Date",r="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&(0,i.vU)("Missing arguments to clamp function."),t.length>3&&(0,i.vU)("Too many arguments to clamp function.");const n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),trim:t("trim",r,0),regexp:a,test:t("test",a),if:function(t){t.length<3&&(0,i.vU)("Missing arguments to if function."),t.length>3&&(0,i.vU)("Too many arguments to if function.");const n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function ue(e){const t=(e=e||{}).allowed?(0,i.Rg)(e.allowed):{},n=e.forbidden?(0,i.Rg)(e.forbidden):{},r=e.constants||oe,a=(e.functions||se)(d),o=e.globalvar,s=e.fieldvar,u=(0,i.mf)(o)?o:e=>`${o}["${e}"]`;let l={},f={},c=0;function d(e){if((0,i.HD)(e))return e;const t=h[e.type];return null==t&&(0,i.vU)("Unsupported type: "+e.type),t(e)}const h={Literal:e=>e.raw,Identifier:e=>{const a=e.name;return c>0?a:(0,i.nr)(n,a)?(0,i.vU)("Illegal identifier: "+a):(0,i.nr)(r,a)?r[a]:(0,i.nr)(t,a)?a:(l[a]=1,u(a))},MemberExpression:e=>{const t=!e.computed,n=d(e.object);t&&(c+=1);const i=d(e.property);return n===s&&(f[function(e){const t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(i)]=1),t&&(c-=1),n+(t?"."+i:"["+i+"]")},CallExpression:e=>{"Identifier"!==e.callee.type&&(0,i.vU)("Illegal callee type: "+e.callee.type);const t=e.callee.name,n=e.arguments,r=(0,i.nr)(a,t)&&a[t];return r||(0,i.vU)("Unrecognized function: "+t),(0,i.mf)(r)?r(n):r+"("+n.map(d).join(",")+")"},ArrayExpression:e=>"["+e.elements.map(d).join(",")+"]",BinaryExpression:e=>"("+d(e.left)+" "+e.operator+" "+d(e.right)+")",UnaryExpression:e=>"("+e.operator+d(e.argument)+")",ConditionalExpression:e=>"("+d(e.test)+"?"+d(e.consequent)+":"+d(e.alternate)+")",LogicalExpression:e=>"("+d(e.left)+e.operator+d(e.right)+")",ObjectExpression:e=>"{"+e.properties.map(d).join(",")+"}",Property:e=>{c+=1;const t=d(e.key);return c-=1,t+":"+d(e.value)}};function p(e){const t={code:d(e),globals:Object.keys(l),fields:Object.keys(f)};return l={},f={},t}return p.functions=a,p.constants=r,p}},32712:(e,t,n)=>{"use strict";n.r(t),n.d(t,{force:()=>y});var i=n(4036),r=n(48823),a=n(77715),o=n(1112),s=n(43231),u=n(58571),l=n(26464),f=n(32878),c=n(13238);const d={center:a.Z,collide:o.Z,nbody:s.Z,link:u.Z,x:l.Z,y:f.Z},h="forces",p=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],m=["static","iterations"],g=["x","y","vx","vy"];function y(e){i.wx.call(this,null,e)}function b(e,t,n,i){var a,o,s,u,l=(0,r.IX)(t.forces);for(a=0,o=p.length;a<o;++a)(s=p[a])!==h&&t.modified(s)&&e[s](t[s]);for(a=0,o=l.length;a<o;++a)u=h+a,(s=n||t.modified(h,a)?x(l[a]):i&&v(l[a],i)?e.force(u):null)&&e.force(u,s);for(o=e.numForces||0;a<o;++a)e.force(h+a,null);return e.numForces=l.length,e}function v(e,t){var n,i;for(n in e)if((0,r.mf)(i=e[n])&&t.modified((0,r.Oj)(i)))return 1;return 0}function x(e){var t,n;for(n in(0,r.nr)(d,e.force)||(0,r.vU)("Unrecognized force: "+e.force),t=d[e.force](),e)(0,r.mf)(t[n])&&_(t[n],e[n],e);return t}function _(e,t,n){e((0,r.mf)(t)?e=>t(e,n):t)}y.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:g}]},(0,r.XW)(y,i.wx,{transform(e,t){var n,i,r=this.value,a=t.changed(t.ADD_REM),o=e.modified(p),s=e.iterations||300;if(r?(a&&(t.modifies("index"),r.nodes(t.source)),(o||t.changed(t.MOD))&&b(r,e,0,t)):(this.value=r=function(e,t){const n=(0,c.Z)(e),i=n.stop,r=n.restart;let a=!1;return n.stopped=()=>a,n.restart=()=>(a=!1,r()),n.stop=()=>(a=!0,i()),b(n,t,!0).on("end",(()=>a=!0))}(t.source,e),r.on("tick",(n=t.dataflow,i=this,()=>n.touch(i).run())),e.static||(a=!0,r.tick()),t.modifies("index")),o||a||e.modified(m)||t.changed()&&e.restart)if(r.alpha(Math.max(r.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(r.alphaMin(),1/s)),e.static)for(r.stop();--s>=0;)r.tick();else if(r.stopped()&&r.restart(),!a)return t.StopPropagation;return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let e,t=this._argops,s=0,u=t.length;s<u;++s)if(e=t[s],e.name===h&&"link"===e.op._argval.force)for(var i,r=e.op._argops,a=0,o=r.length;a<o;++a)if("links"===r[a].name&&(i=r[a].op.source)){n.pulse(i,n.changeset().reflow());break}return t.reflow(e.modified()).modifies(g)}})},57400:(e,t,n)=>{"use strict";n.d(t,{al:()=>F,SP:()=>E,R7:()=>x,AX:()=>$,Ds:()=>O});var i=n(76728),r=n(46196),a=n(53726),o=n(37655),s=n(68195),u=n(47539),l=n(74463),f=n(73093),c=n(48823),d=n(90317),h=n(30472);function p(e){const t={};return n=>t[n]||(t[n]=e(n))}function m(e){const t=p(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(e){const n=(0,r.Z)(e||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return i=t(n),a=t(".1f")(1)[1],e=>{const t=i(e),n=t.indexOf(a);if(n<0)return t;let r=function(e,t){let n,i=e.lastIndexOf("e");if(i>0)return i;for(i=e.length;--i>t;)if(n=e.charCodeAt(i),n>=48&&n<=57)return i+1}(t,n);const o=r<t.length?t.slice(r):"";for(;--r>n;)if("0"!==t[r]){++r;break}return t.slice(0,r)+o}}return t(n);var i,a},formatSpan(e,u,l,f){f=(0,r.Z)(null==f?",f":f);const c=(0,i.ly)(e,u,l),d=Math.max(Math.abs(e),Math.abs(u));let h;if(null==f.precision)switch(f.type){case"s":return isNaN(h=(0,a.Z)(c,d))||(f.precision=h),n(f,d);case"":case"e":case"g":case"p":case"r":isNaN(h=(0,o.Z)(c,d))||(f.precision=h-("e"===f.type));break;case"f":case"%":isNaN(h=(0,s.Z)(c))||(f.precision=h-2*("%"===f.type))}return t(f)}}}let g,y;function b(){return g=m({format:u.WU,formatPrefix:u.jH})}function v(e){return m((0,l.Z)(e))}function x(e){return arguments.length?g=v(e):g}function _(e,t,n){n=n||{},(0,c.Kn)(n)||(0,c.vU)("Invalid time multi-format specifier: ".concat(n));const i=t(f.kG),r=t(f.DZ),a=t(f.gd),o=t(f.Hu),s=t(f.ps),u=t(f.vc),l=t(f.PD),d=t(f.oP),h=e(n[f.cw]||".%L"),p=e(n[f.kG]||":%S"),m=e(n[f.DZ]||"%I:%M"),g=e(n[f.gd]||"%I %p"),y=e(n[f.Hu]||n[f.x4]||"%a %d"),b=e(n[f.ps]||"%b %d"),v=e(n[f.vc]||"%B"),x=e(n[f.PD]||"%B"),_=e(n[f.oP]||"%Y");return e=>(i(e)<e?h:r(e)<e?p:a(e)<e?m:o(e)<e?g:u(e)<e?s(e)<e?y:b:d(e)<e?l(e)<e?v:x:_)(e)}function w(e){const t=p(e.format),n=p(e.utcFormat);return{timeFormat:e=>(0,c.HD)(e)?t(e):_(t,f.JZ,e),utcFormat:e=>(0,c.HD)(e)?n(e):_(n,f.zr,e),timeParse:p(e.parse),utcParse:p(e.utcParse)}}function A(){return y=w({format:d.i$,parse:d.Z1,utcFormat:d.g0,utcParse:d.wp})}function k(e){return w((0,h.Z)(e))}function O(e){return arguments.length?y=k(e):y}b(),A();const D=(e,t)=>(0,c.l7)({},e,t);function E(e,t){const n=e?v(e):x(),i=t?k(t):O();return D(n,i)}function F(e,t){const n=arguments.length;return n&&2!==n&&(0,c.vU)("defaultLocale expects either zero or two arguments."),n?D(x(e),O(t)):D(x(),O())}function $(){return b(),A(),F()}},76728:(e,t,n)=>{"use strict";n.d(t,{ly:()=>o});var i=Math.sqrt(50),r=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/s;return u>=i?s*=10:u>=r?s*=5:u>=a&&(s*=2),t<e?-s:s}},87999:(e,t,n)=>{"use strict";n.r(t),n.d(t,{contour:()=>M,geojson:()=>B,geopath:()=>Z,geopoint:()=>T,geoshape:()=>P,graticule:()=>j,heatmap:()=>z,isocontour:()=>_,kde2d:()=>F,projection:()=>N});var i=n(4036),r=n(48823),a=n(94227),o=n(45530),s=n(68228),u=n(54080),l=n(90195),f=n(76039),c=n(86876),d=n(16372),h=n(17786);function p(){}const m=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function g(){var e=1,t=1,n=s;function i(e,t){return t.map((t=>a(e,t)))}function a(i,r){var a=[],s=[];return function(n,i,r){var a,s,u,l,f,c,d=new Array,h=new Array;for(a=s=-1,l=n[0]>=i,m[l<<1].forEach(p);++a<e-1;)u=l,l=n[a+1]>=i,m[u|l<<1].forEach(p);for(m[l<<0].forEach(p);++s<t-1;){for(a=-1,l=n[s*e+e]>=i,f=n[s*e]>=i,m[l<<1|f<<2].forEach(p);++a<e-1;)u=l,l=n[s*e+e+a+1]>=i,c=f,f=n[s*e+a+1]>=i,m[u|l<<1|f<<2|c<<3].forEach(p);m[l|f<<3].forEach(p)}for(a=-1,f=n[s*e]>=i,m[f<<2].forEach(p);++a<e-1;)c=f,f=n[s*e+a+1]>=i,m[f<<2|c<<3].forEach(p);function p(e){var t,n,i=[e[0][0]+a,e[0][1]+s],u=[e[1][0]+a,e[1][1]+s],l=o(i),f=o(u);(t=h[l])?(n=d[f])?(delete h[t.end],delete d[n.start],t===n?(t.ring.push(u),r(t.ring)):d[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(u),h[t.end=f]=t):(t=d[f])?(n=h[l])?(delete d[t.start],delete h[n.end],t===n?(t.ring.push(u),r(t.ring)):d[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(i),d[t.start=l]=t):d[l]=h[f]={start:l,end:f,ring:[i,u]}}m[f<<3].forEach(p)}(i,r,(e=>{n(e,i,r),function(e){for(var t=0,n=e.length,i=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return i}(e)>0?a.push([e]):s.push(e)})),s.forEach((e=>{for(var t,n=0,i=a.length;n<i;++n)if(-1!==y((t=a[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:r,coordinates:a}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function s(n,i,r){n.forEach((n=>{var a,o=n[0],s=n[1],u=0|o,l=0|s,f=i[l*e+u];o>0&&o<e&&u===o&&(a=i[l*e+u-1],n[0]=o+(r-a)/(f-a)-.5),s>0&&s<t&&l===s&&(a=i[(l-1)*e+u],n[1]=s+(r-a)/(f-a)-.5)}))}return i.contour=a,i.size=function(n){if(!arguments.length)return[e,t];var a=Math.floor(n[0]),o=Math.floor(n[1]);return a>=0&&o>=0||(0,r.vU)("invalid size"),e=a,t=o,i},i.smooth=function(e){return arguments.length?(n=e?s:p,i):n===s},i}function y(e,t){for(var n,i=-1,r=t.length;++i<r;)if(n=b(e,t[i]))return n;return 0}function b(e,t){for(var n=t[0],i=t[1],r=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var u=e[a],l=u[0],f=u[1],c=e[s],d=c[0],h=c[1];if(v(u,c,t))return 0;f>i!=h>i&&n<(d-l)*(i-f)/(h-f)+l&&(r=-r)}return r}function v(e,t,n){var i,r,a,o;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(r=e[i=+(e[0]===t[0])],a=n[i],o=t[i],r<=a&&a<=o||o<=a&&a<=r)}function x(e,t,n){return function(i){var s=(0,r.We)(i),u=n?Math.min(s[0],0):s[0],l=s[1],f=l-u,c=t?(0,a.ly)(u,l,e):f/(e+1);return(0,o.Z)(u+c,l,c)}}function _(e){i.wx.call(this,null,e)}function w(e,t,n,i,r){const a=e.x1||0,o=e.y1||0,s=t*n<0;function u(e){e.forEach(l)}function l(e){s&&e.reverse(),e.forEach(f)}function f(e){e[0]=(e[0]-a)*t+i,e[1]=(e[1]-o)*n+r}return function(e){return e.coordinates.forEach(u),e}}function A(e,t,n){const i=e>=0?e:(0,l.U_)(t,n);return Math.round((Math.sqrt(4*i*i+1)-1)/2)}function k(e){return(0,r.mf)(e)?e:(0,r.a9)(+e)}function O(){var e=e=>e[0],t=e=>e[1],n=r.kX,i=[-1,-1],a=960,o=500,s=2;function l(r,l){const f=A(i[0],r,e)>>s,c=A(i[1],r,t)>>s,d=f?f+2:0,h=c?c+2:0,p=2*d+(a>>s),m=2*h+(o>>s),g=new Float32Array(p*m),y=new Float32Array(p*m);let b=g;r.forEach((i=>{const r=d+(+e(i)>>s),a=h+(+t(i)>>s);r>=0&&r<p&&a>=0&&a<m&&(g[r+a*p]+=+n(i))})),f>0&&c>0?(D(p,m,g,y,f),E(p,m,y,g,c),D(p,m,g,y,f),E(p,m,y,g,c),D(p,m,g,y,f),E(p,m,y,g,c)):f>0?(D(p,m,g,y,f),D(p,m,y,g,f),D(p,m,g,y,f),b=y):c>0&&(E(p,m,g,y,c),E(p,m,y,g,c),E(p,m,g,y,c),b=y);const v=l?Math.pow(2,-2*s):1/(0,u.Z)(b);for(let e=0,t=p*m;e<t;++e)b[e]*=v;return{values:b,scale:1<<s,width:p,height:m,x1:d,y1:h,x2:d+(a>>s),y2:h+(o>>s)}}return l.x=function(t){return arguments.length?(e=k(t),l):e},l.y=function(e){return arguments.length?(t=k(e),l):t},l.weight=function(e){return arguments.length?(n=k(e),l):n},l.size=function(e){if(!arguments.length)return[a,o];var t=+e[0],n=+e[1];return t>=0&&n>=0||(0,r.vU)("invalid size"),a=t,o=n,l},l.cellSize=function(e){return arguments.length?((e=+e)>=1||(0,r.vU)("invalid cell size"),s=Math.floor(Math.log(e)/Math.LN2),l):1<<s},l.bandwidth=function(e){return arguments.length?(1===(e=(0,r.IX)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&(0,r.vU)("invalid bandwidth"),i=e,l):i},l}function D(e,t,n,i,r){const a=1+(r<<1);for(let o=0;o<t;++o)for(let t=0,s=0;t<e+r;++t)t<e&&(s+=n[t+o*e]),t>=r&&(t>=a&&(s-=n[t-a+o*e]),i[t-r+o*e]=s/Math.min(t+1,e-1+a-t,a))}function E(e,t,n,i,r){const a=1+(r<<1);for(let o=0;o<e;++o)for(let s=0,u=0;s<t+r;++s)s<t&&(u+=n[o+s*e]),s>=r&&(s>=a&&(u-=n[o+(s-a)*e]),i[o+(s-r)*e]=u/Math.min(s+1,t-1+a-s,a))}function F(e){i.wx.call(this,null,e)}_.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},(0,r.XW)(_,i.wx,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=t.materialize(t.SOURCE).source,o=e.field||r.yR,u=g().smooth(!1!==e.smooth),l=e.thresholds||function(e,t,n){const i=x(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?i:i(e.map((e=>(0,s.Z)(t(e).values))))}(a,o,e),f=null===e.as?null:e.as||"contour",c=[];return a.forEach((t=>{const n=o(t),a=u.size([n.width,n.height])(n.values,(0,r.kJ)(l)?l:l(n.values));!function(e,t,n,i){let a=i.scale||t.scale,o=i.translate||t.translate;if((0,r.mf)(a)&&(a=a(n,i)),(0,r.mf)(o)&&(o=o(n,i)),(1===a||null==a)&&!o)return;const s=((0,r.hj)(a)?a:a[0])||1,u=((0,r.hj)(a)?a:a[1])||1,l=o&&o[0]||0,f=o&&o[1]||0;e.forEach(w(t,s,u,l,f))}(a,n,t,e),a.forEach((e=>{c.push((0,i.BW)(t,(0,i.ax)(null!=f?{[f]:e}:e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=c,n}}),F.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const $=["x","y","weight","size","cellSize","bandwidth"];function C(e,t){return $.forEach((n=>null!=t[n]?e[n](t[n]):0)),e}function M(e){i.wx.call(this,null,e)}(0,r.XW)(F,i.wx,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=function(e,t){var n,i,r,a,o,s,u=[],l=e=>e(a);if(null==t)u.push(e);else for(n={},i=0,r=e.length;i<r;++i)a=e[i],(s=n[o=t.map(l)])||(n[o]=s=[],s.dims=o,u.push(s)),s.push(a);return u}(t.materialize(t.SOURCE).source,e.groupby),s=(e.groupby||[]).map(r.el),u=C(O(),e),l=e.as||"grid";return n=o.map((t=>(0,i.ax)(function(e,t){for(let n=0;n<s.length;++n)e[s[n]]=t[n];return e}({[l]:u(t,e.counts)},t.dims)))),this.value&&(a.rem=this.value),this.value=a.source=a.add=n,a}}),M.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},(0,r.XW)(M,i.wx,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,a,o=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=g().smooth(!1!==e.smooth),u=e.values,l=e.thresholds||x(e.count||10,e.nice,!!u),f=e.size;return u||(u=t.materialize(t.SOURCE).source,a=w(n=C(O(),e)(u,!0),n.scale||1,n.scale||1,0,0),f=[n.width,n.height],u=n.values),l=(0,r.kJ)(l)?l:l(u),u=s.size(f)(u,l),a&&u.forEach(a),this.value&&(o.rem=this.value),this.value=o.source=o.add=(u||[]).map(i.ax),o}});const R="Feature",S="FeatureCollection";function B(e){i.wx.call(this,null,e)}function Z(e){i.wx.call(this,null,e)}function T(e){i.wx.call(this,null,e)}function P(e){i.wx.call(this,null,e)}function j(e){i.wx.call(this,[],e),this.generator=(0,c.Z)()}function z(e){i.wx.call(this,null,e)}function q(e){if(!(0,r.mf)(e))return!1;const t=(0,r.Rg)((0,r.Oj)(e));return t.$x||t.$y||t.$value||t.$max}function N(e){i.wx.call(this,null,e),this.modified(!0)}function U(e,t,n){(0,r.mf)(e[t])&&e[t](n)}B.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},(0,r.XW)(B,i.wx,{transform(e,t){var n,i=this._features,a=this._points,o=e.fields,s=o&&o[0],u=o&&o[1],l=e.geojson||!o&&r.yR,f=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified((0,r.Oj)(l))||s&&t.modified((0,r.Oj)(s))||u&&t.modified((0,r.Oj)(u)),this.value&&!n||(f=t.SOURCE,this._features=i=[],this._points=a=[]),l&&t.visit(f,(e=>i.push(l(e)))),s&&u&&(t.visit(f,(e=>{var t=s(e),n=u(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&a.push([t,n])})),i=i.concat({type:R,geometry:{type:"MultiPoint",coordinates:a}})),this.value={type:S,features:i}}}),Z.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},(0,r.XW)(Z,i.wx,{transform(e,t){var n=t.fork(t.ALL),i=this.value,a=e.field||r.yR,o=e.as||"path",s=n.SOURCE;!i||e.modified()?(this.value=i=(0,f.bd)(e.projection),n.materialize().reflow()):s=a===r.yR||t.modified(a.fields)?n.ADD_MOD:n.ADD;const u=function(e,t){const n=e.pointRadius();return e.context(null),null!=t&&e.pointRadius(t),n}(i,e.pointRadius);return n.visit(s,(e=>e[o]=i(a(e)))),i.pointRadius(u),n.modifies(o)}}),T.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},(0,r.XW)(T,i.wx,{transform(e,t){var n,i=e.projection,r=e.fields[0],a=e.fields[1],o=e.as||["x","y"],s=o[0],u=o[1];function l(e){const t=i([r(e),a(e)]);t?(e[s]=t[0],e[u]=t[1]):(e[s]=void 0,e[u]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,l):(n=t.modified(r.fields)||t.modified(a.fields),t.visit(n?t.ADD_MOD:t.ADD,l)),t.modifies(o)}}),P.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},(0,r.XW)(P,i.wx,{transform(e,t){var n=t.fork(t.ALL),i=this.value,a=e.as||"shape",o=n.ADD;return i&&!e.modified()||(this.value=i=function(e,t,n){const i=null==n?n=>e(t(n)):i=>{var r=e.pointRadius(),a=e.pointRadius(n)(t(i));return e.pointRadius(r),a};return i.context=t=>(e.context(t),i),i}((0,f.bd)(e.projection),e.field||(0,r.EP)("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(e=>e[a]=i)),n.modifies(a)}}),j.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},(0,r.XW)(j,i.wx,{transform(e,t){var n,a=this.value,o=this.generator;if(!a.length||e.modified())for(const t in e)(0,r.mf)(o[t])&&o[t](e[t]);return n=o(),a.length?t.mod.push((0,i.gx)(a[0],n)):t.add.push((0,i.ax)(n)),a[0]=n,t}}),z.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},(0,r.XW)(z,i.wx,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,i="shared"===e.resolve,a=e.field||r.yR,o=function(e,t){let n;return(0,r.mf)(e)?(n=n=>e(n,t),n.dep=q(e)):e?n=(0,r.a9)(e):(n=e=>e.$value/e.$max||0,n.dep=!0),n}(e.opacity,e),u=function(e,t){let n;return(0,r.mf)(e)?(n=n=>(0,d.B8)(e(n,t)),n.dep=q(e)):n=(0,r.a9)((0,d.B8)(e||"#888")),n}(e.color,e),l=e.as||"image",f={$x:0,$y:0,$value:0,$max:i?(0,s.Z)(n.map((e=>(0,s.Z)(a(e).values)))):0};return n.forEach((e=>{const t=a(e),n=(0,r.l7)({},e,f);i||(n.$max=(0,s.Z)(t.values||[])),e[l]=function(e,t,n,i){const a=e.width,o=e.height,s=e.x1||0,u=e.y1||0,l=e.x2||a,f=e.y2||o,c=e.values,d=c?e=>c[e]:r.bM,p=(0,h.v)(l-s,f-u),m=p.getContext("2d"),g=m.getImageData(0,0,l-s,f-u),y=g.data;for(let e=u,r=0;e<f;++e){t.$y=e-u;for(let o=s,u=e*a;o<l;++o,r+=4){t.$x=o-s,t.$value=d(o+u);const e=n(t);y[r+0]=e.r,y[r+1]=e.g,y[r+2]=e.b,y[r+3]=~~(255*i(t))}}return m.putImageData(g,0,0),p}(t,n,u.dep?u:(0,r.a9)(u(n)),o.dep?o:(0,r.a9)(o(n)))})),t.reflow(!0).modifies(l)}}),(0,r.XW)(N,i.wx,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=function(e){const t=(0,f.CJ)((e||"mercator").toLowerCase());return t||(0,r.vU)("Unrecognized projection type: "+e),t()}(e.type),f.di.forEach((t=>{null!=e[t]&&U(n,t,e[t])}))):f.di.forEach((t=>{e.modified(t)&&U(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){const n=function(e){return 1===(e=(0,r.IX)(e)).length?e[0]:{type:S,features:e.reduce(((e,t)=>e.concat(function(e){return e.type===S?e.features:(0,r.IX)(e).filter((e=>null!=e)).map((e=>e.type===R?e:{type:R,geometry:e}))}(t))),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}})},68228:(e,t,n)=>{"use strict";function i(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}n.d(t,{Z:()=>i})},45530:(e,t,n)=>{"use strict";function i(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(r);++i<r;)a[i]=e+i*n;return a}n.d(t,{Z:()=>i})},54080:(e,t,n)=>{"use strict";function i(e,t){let n=0;if(void 0===t)for(let t of e)(t=+t)&&(n+=t);else{let i=-1;for(let r of e)(r=+t(r,++i,e))&&(n+=r)}return n}n.d(t,{Z:()=>i})},94227:(e,t,n)=>{"use strict";n.d(t,{ly:()=>o});var i=Math.sqrt(50),r=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/s;return u>=i?s*=10:u>=r?s*=5:u>=a&&(s*=2),t<e?-s:s}},82964:(e,t,n)=>{"use strict";n.r(t),n.d(t,{nest:()=>v,pack:()=>O,partition:()=>E,stratify:()=>F,tree:()=>M,treelinks:()=>R,treemap:()=>Z});var i=n(4036),r=n(48823),a=n(26003),o=n(87093),s=n(61406),u=n(47370),l=n(81594),f=n(95608),c=n(70239),d=n(36849),h=n(71831),p=n(54786),m=n(58834),g=n(84173),y=n(33533);function b(e,t,n){const i={};return e.each((e=>{const r=e.data;n(r)&&(i[t(r)]=e)})),e.lookup=i,e}function v(e){i.wx.call(this,null,e)}v.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const x=e=>e.values;function _(){const e=[],t={entries:e=>i(n(e,0),0),key:n=>(e.push(n),t)};function n(t,i){if(i>=e.length)return t;const r=t.length,a=e[i++],o={},s={};let u,l,f,c=-1;for(;++c<r;)u=a(l=t[c])+"",(f=o[u])?f.push(l):o[u]=[l];for(u in o)s[u]=n(o[u],i);return s}function i(t,n){if(++n>e.length)return t;const r=[];for(const e in t)r.push({key:e,values:i(t[e],n)});return r}return t}function w(e){i.wx.call(this,null,e)}(0,r.XW)(v,i.wx,{transform(e,t){t.source||(0,r.vU)("Nest transform requires an upstream data source.");var n=e.generate,o=e.modified(),s=t.clone(),u=this.value;return(!u||o||t.changed())&&(u&&u.each((e=>{e.children&&(0,i.x3)(e.data)&&s.rem.push(e.data)})),this.value=u=(0,a.ZP)({values:(0,r.IX)(e.keys).reduce(((e,t)=>(e.key(t),e)),_()).entries(s.source)},x),n&&u.each((e=>{e.children&&(e=(0,i.ax)(e.data),s.add.push(e),s.source.push(e))})),b(u,i.ai,i.ai)),s.source.root=u,s}});const A=(e,t)=>e.parent===t.parent?1:2;(0,r.XW)(w,i.wx,{transform(e,t){t.source&&t.source.root||(0,r.vU)(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),a=this.fields,o=t.source.root,s=e.as||a;e.field?o.sum(e.field):o.count(),e.sort&&o.sort((0,i.vo)(e.sort,(e=>e.data))),function(e,t,n){for(let i,r=0,a=t.length;r<a;++r)i=t[r],i in n&&e[i](n[i])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?A:r.kX);try{this.value=n(o)}catch(e){(0,r.vU)(e)}return o.each((e=>function(e,t,n){const i=e.data,r=t.length-1;for(let a=0;a<r;++a)i[n[a]]=e[t[a]];i[n[r]]=e.children?e.children.length:0}(e,a,s))),t.reflow(e.modified()).modifies(s).modifies("leaf")}});const k=["x","y","r","depth","children"];function O(e){w.call(this,e)}O.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:k.length,default:k}]},(0,r.XW)(O,w,{layout:o.Z,params:["radius","size","padding"],fields:k});const D=["x0","y0","x1","y1","depth","children"];function E(e){w.call(this,e)}function F(e){i.wx.call(this,null,e)}E.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,default:D}]},(0,r.XW)(E,w,{layout:s.Z,params:["size","round","padding"],fields:D}),F.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},(0,r.XW)(F,i.wx,{transform(e,t){t.source||(0,r.vU)("Stratify transform requires an upstream data source.");let n=this.value;const i=e.modified(),a=t.fork(t.ALL).materialize(t.SOURCE),o=!n||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return a.source=a.source.slice(),o&&(n=a.source.length?b((0,u.Z)().id(e.key).parentId(e.parentKey)(a.source),e.key,r.yb):b((0,u.Z)()([{}]),e.key,e.key)),a.source.root=this.value=n,a}});const $={tidy:l.Z,cluster:f.Z},C=["x","y","depth","children"];function M(e){w.call(this,e)}function R(e){i.wx.call(this,[],e)}M.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:C.length,default:C}]},(0,r.XW)(M,w,{layout(e){const t=e||"tidy";if((0,r.nr)($,t))return $[t]();(0,r.vU)("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:C}),R.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},(0,r.XW)(R,i.wx,{transform(e,t){const n=this.value,a=t.source&&t.source.root,o=t.fork(t.NO_SOURCE),s={};return a||(0,r.vU)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(o.rem=n,t.visit(t.SOURCE,(e=>s[(0,i.ai)(e)]=1)),a.each((e=>{const t=e.data,n=e.parent&&e.parent.data;n&&s[(0,i.ai)(t)]&&s[(0,i.ai)(n)]&&o.add.push((0,i.ax)({source:n,target:t}))})),this.value=o.add):t.changed(t.MOD)&&(t.visit(t.MOD,(e=>s[(0,i.ai)(e)]=1)),n.forEach((e=>{(s[(0,i.ai)(e.source)]||s[(0,i.ai)(e.target)])&&o.mod.push(e)}))),o}});const S={binary:c.Z,dice:d.Z,slice:h.Z,slicedice:p.Z,squarify:m.ZP,resquarify:g.Z},B=["x0","y0","x1","y1","depth","children"];function Z(e){w.call(this,e)}Z.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:B.length,default:B}]},(0,r.XW)(Z,w,{layout(){const e=(0,y.Z)();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{(0,r.nr)(S,t)?e.tile(S[t]):(0,r.vU)("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:B})},87829:(e,t,n)=>{"use strict";Math.E,Math.LN2,Math.LN10,Math.LOG2E,Math.LOG10E,Math.PI,Math.SQRT1_2,Math.SQRT2,Number.MIN_VALUE,Number.MAX_VALUE;Array.prototype.slice;Number.isNaN,Number.isFinite,Math.abs,Math.acos,Math.asin,Math.atan,Math.atan2,Math.ceil,Math.cos,Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.random,Math.round,Math.sin,Math.sqrt,Math.tan,Date.now,Date.UTC,parseFloat,parseInt,RegExp},76081:(e,t,n)=>{"use strict";n.r(t),n.d(t,{label:()=>F});var i=n(17786),r=n(4036),a=n(38940),o=n(48823);function s(e,t,n,r){const a=e.width,o=e.height,s=n||r,l=(0,i.v)(a,o).getContext("2d");t.forEach((e=>u(l,e,s)));const f=new Uint32Array(l.getImageData(0,0,a,o).data.buffer),c=e.bitmap(),d=s&&e.bitmap();let h,p,m,g,y;for(p=0;p<o;++p)for(h=0;h<a;++h)y=4278190080&f[p*a+h],y&&(m=e(h),g=e(p),r||c.set(m,g),s&&268435456^y&&d.set(m,g));return[c,d]}function u(e,t,n){if(!t.length)return;const i=t[0].mark.marktype;"group"===i?t.forEach((t=>{t.items.forEach((t=>u(e,t.items,n)))})):a.zT[i].draw(e,{items:n?t.map(l):t})}function l(e){const t=(0,r.BW)(e,{});return t.stroke&&(t.strokeOpacity=1),t.fill&&(t.fillOpacity=.0625,t.stroke="#000",t.strokeOpacity=1,t.strokeWidth=2),t}const f=31,c=new Uint32Array(33),d=new Uint32Array(33);d[0]=0,c[0]=~d[0];for(let e=1;e<=32;++e)d[e]=d[e-1]<<1|1,c[e]=~d[e];function h(e,t,n,i,r,a){let o=n/2;return e-o<0||e+o>r||t-(o=i/2)<0||t+o>a}function p(){return!1}function m(e,t,n,i,r,a,o,s){const u=r*a/(2*i),l=e(t-u),f=e(t+u),c=e(n-(a/=2)),d=e(n+a);return o.outOfBounds(l,c,f,d)||o.getRange(l,c,f,d)||s&&s.getRange(l,c,f,d)}function g(e,t,n,i,r,a,o,s){const u=r*a/(2*i);let l=e(t-u),f=e(t+u),c=e(n-(a/=2)),d=e(n+a);return l=l>0?l:0,c=c>0?c:0,f=f<e.width?f:e.width-1,d=d<e.height?d:e.height-1,o.getRange(l,c,f,d)||s&&s.getRange(l,c,f,d)}function y(e){return e?[g,p]:[m,h]}const b=[-1,-1,1,1],v=[-1,1,-1,1],x=["right","center","left"],_=["bottom","middle","top"];function w(e,t,n,i,r,a,o,s,u,l,f,c){return!(r.outOfBounds(e,n,t,i)||(c&&a?a.getRange(e,n,t,i)||!function(e,t,n,i,r){return r[0]<=e&&n<=r[2]&&r[3]<=t&&i<=r[5]}(o,u,s,l,f):r.getRange(e,n,t,i)))}const A={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},k={naive:function(e,t,n,i){const r=e.width,o=e.height;return function(e){const t=e.datum.datum.items[i].items,n=t.length,s=e.datum.fontSize,u=a.Zd.width(e.datum,e.datum.text);let l,f,c,d,h,p,m,g=0;for(let i=0;i<n;++i)l=t[i].x,c=t[i].y,f=void 0===t[i].x2?l:t[i].x2,d=void 0===t[i].y2?c:t[i].y2,h=(l+f)/2,p=(c+d)/2,m=Math.abs(f-l+d-c),m>=g&&(g=m,e.x=h,e.y=p);return h=u/2,p=s/2,l=e.x-h,f=e.x+h,c=e.y-p,d=e.y+p,e.align="center",l<0&&f<=r?e.align="left":0<=l&&r<f&&(e.align="right"),e.baseline="middle",c<0&&d<=o?e.baseline="top":0<=c&&o<d&&(e.baseline="bottom"),!0}},"reduced-search":function(e,t,n,i,r){const o=e.width,s=e.height,[u,l]=y(r),f=t[0],c=t[1];function d(t,n,i,r,a){const d=e.invert(t),h=e.invert(n);let p,m=i,g=s;if(!l(d,h,r,a,o,s)&&!u(e,d,h,a,r,m,f,c)&&!u(e,d,h,a,r,a,f,null)){for(;g-m>=1;)p=(m+g)/2,u(e,d,h,a,r,p,f,c)?g=p:m=p;if(m>i)return[d,h,m,!0]}}return function(t){const r=t.datum.datum.items[i].items,c=r.length,h=t.datum.fontSize,p=a.Zd.width(t.datum,t.datum.text);let m,g,y,b,v,x,_,w,A,k,O,D,E,F,$,C,M,R=n?h:0,S=!1,B=!1,Z=0;for(let i=0;i<c;++i){for(m=r[i].x,y=r[i].y,g=void 0===r[i].x2?m:r[i].x2,b=void 0===r[i].y2?y:r[i].y2,m>g&&(M=m,m=g,g=M),y>b&&(M=y,y=b,b=M),A=e(m),O=e(g),k=~~((A+O)/2),D=e(y),F=e(b),E=~~((D+F)/2),_=k;_>=A;--_)for(w=E;w>=D;--w)C=d(_,w,R,p,h),C&&([t.x,t.y,R,S]=C);for(_=k;_<=O;++_)for(w=E;w<=F;++w)C=d(_,w,R,p,h),C&&([t.x,t.y,R,S]=C);S||n||($=Math.abs(g-m+b-y),v=(m+g)/2,x=(y+b)/2,$>=Z&&!l(v,x,p,h,o,s)&&!u(e,v,x,h,p,h,f,null)&&(Z=$,t.x=v,t.y=x,B=!0))}return!(!S&&!B||(v=p/2,x=h/2,f.setRange(e(t.x-v),e(t.y-x),e(t.x+v),e(t.y+x)),t.align="center",t.baseline="middle",0))}},floodfill:function(e,t,n,i,r){const o=e.width,s=e.height,[u,l]=y(r),f=t[0],c=t[1],d=e.bitmap();return function(t){const r=t.datum.datum.items[i].items,h=r.length,p=t.datum.fontSize,m=a.Zd.width(t.datum,t.datum.text),g=[];let y,x,_,w,A,k,O,D,E,F,$,C,M=n?p:0,R=!1,S=!1,B=0;for(let i=0;i<h;++i){for(y=r[i].x,_=r[i].y,x=void 0===r[i].x2?y:r[i].x2,w=void 0===r[i].y2?_:r[i].y2,g.push([e((y+x)/2),e((_+w)/2)]);g.length;)if([O,D]=g.pop(),!(f.get(O,D)||c.get(O,D)||d.get(O,D))){d.set(O,D);for(let e=0;e<4;++e)A=O+b[e],k=D+v[e],d.outOfBounds(A,k,A,k)||g.push([A,k]);if(A=e.invert(O),k=e.invert(D),E=M,F=s,!l(A,k,m,p,o,s)&&!u(e,A,k,p,m,E,f,c)&&!u(e,A,k,p,m,p,f,null)){for(;F-E>=1;)$=(E+F)/2,u(e,A,k,p,m,$,f,c)?F=$:E=$;E>M&&(t.x=A,t.y=k,M=E,R=!0)}}R||n||(C=Math.abs(x-y+w-_),A=(y+x)/2,k=(_+w)/2,C>=B&&!l(A,k,m,p,o,s)&&!u(e,A,k,p,m,p,f,null)&&(B=C,t.x=A,t.y=k,S=!0))}return!(!R&&!S||(A=m/2,k=p/2,f.setRange(e(t.x-A),e(t.y-k),e(t.x+A),e(t.y+k)),t.align="center",t.baseline="middle",0))}}};function O(e,t,n,i,r,o,u,l,h,p,m){if(!e.length)return e;const g=Math.max(i.length,r.length),y=function(e,t){const n=new Float64Array(t),i=e.length;for(let t=0;t<i;++t)n[t]=e[t]||0;for(let e=i;e<t;++e)n[e]=n[i-1];return n}(i,g),b=function(e,t){const n=new Int8Array(t),i=e.length;for(let t=0;t<i;++t)n[t]|=A[e[t]];for(let e=i;e<t;++e)n[e]=n[i-1];return n}(r,g),v=(M=e[0].datum)&&M.mark&&M.mark.marktype,O="group"===v&&e[0].datum.items[h].marktype,D="area"===O,E=function(e,t,n,i){const r=e=>[e.x,e.x,e.x,e.y,e.y,e.y];return e?"line"===e||"area"===e?e=>r(e.datum):"line"===t?e=>{const t=e.datum.items[i].items;return r(t.length?t["start"===n?0:t.length-1]:{x:NaN,y:NaN})}:e=>{const t=e.datum.bounds;return[t.x1,(t.x1+t.x2)/2,t.x2,t.y1,(t.y1+t.y2)/2,t.y2]}:r}(v,O,l,h),F=null===p||p===1/0,$=function(e,t,n){const i=Math.max(1,Math.sqrt(e*t/1e6)),r=~~((e+2*n+i)/i),a=~~((t+2*n+i)/i),o=e=>~~((e+n)/i);return o.invert=e=>e*i-n,o.bitmap=()=>function(e,t){const n=new Uint32Array(~~((e*t+32)/32));function i(e,t){n[e]|=t}function r(e,t){n[e]&=t}return{array:n,get:(t,i)=>{const r=i*e+t;return n[r>>>5]&1<<(r&f)},set:(t,n)=>{const r=n*e+t;i(r>>>5,1<<(r&f))},clear:(t,n)=>{const i=n*e+t;r(i>>>5,~(1<<(i&f)))},getRange:(t,i,r,a)=>{let o,s,u,l,h=a;for(;h>=i;--h)if(o=h*e+t,s=h*e+r,u=o>>>5,l=s>>>5,u===l){if(n[u]&c[o&f]&d[1+(s&f)])return!0}else{if(n[u]&c[o&f])return!0;if(n[l]&d[1+(s&f)])return!0;for(let e=u+1;e<l;++e)if(n[e])return!0}return!1},setRange:(t,n,r,a)=>{let o,s,u,l,h;for(;n<=a;++n)if(o=n*e+t,s=n*e+r,u=o>>>5,l=s>>>5,u===l)i(u,c[o&f]&d[1+(s&f)]);else for(i(u,c[o&f]),i(l,d[1+(s&f)]),h=u+1;h<l;++h)i(h,4294967295)},clearRange:(t,n,i,a)=>{let o,s,u,l,h;for(;n<=a;++n)if(o=n*e+t,s=n*e+i,u=o>>>5,l=s>>>5,u===l)r(u,d[o&f]|c[1+(s&f)]);else for(r(u,d[o&f]),r(l,c[1+(s&f)]),h=u+1;h<l;++h)r(h,0)},outOfBounds:(n,i,r,a)=>n<0||i<0||a>=t||r>=e}}(r,a),o.ratio=i,o.padding=n,o.width=e,o.height=t,o}(t[0],t[1],F?0:p),C=D&&"naive"===m;var M;const R=e.map((e=>({datum:e,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:E(e)})));let S;if(!C){n&&R.sort(((e,t)=>n(e.datum,t.datum)));let t=!1;for(let e=0;e<b.length&&!t;++e)t=5===b[e]||y[e]<0;v&&(u||D)&&(o=[e.map((e=>e.datum))].concat(o)),S=o.length?s($,o,t,D):function(e,t){const n=e.bitmap();return(t||[]).forEach((t=>n.set(e(t.boundary[0]),e(t.boundary[3])))),[n,void 0]}($,u&&R)}const B=D?k[m]($,S,u,h,F):function(e,t,n,i,r){const o=e.width,s=e.height,u=t[0],l=t[1],f=i.length;return function(t){const c=t.boundary,d=t.datum.fontSize;if(!r&&(c[2]<0||c[5]<0||c[0]>o||c[3]>s))return!1;let h,p,m,g,y,b,v,A,k,O,D,E,F,$,C,M=0;for(let o=0;o<f;++o){if(h=(3&n[o])-1,p=(n[o]>>>2&3)-1,m=0===h&&0===p||i[o]<0,g=h&&p?Math.SQRT1_2:1,y=i[o]<0?-1:1,b=c[1+h]+i[o]*h*g,D=c[4+p]+y*d*p/2+i[o]*p*g,A=D-d/2,k=D+d/2,E=e(b),$=e(A),C=e(k),r&&(E=E<0?0:E,$=$<0?0:$,C=C>=e.height?e.height-1:C),!M){if(!w(E,E,$,C,u,l,b,b,A,k,c,m))continue;M=a.Zd.width(t.datum,t.datum.text)}if(O=b+y*M*h/2,b=O-M/2,v=O+M/2,E=e(b),F=e(v),r&&(E=E<0?0:E,F=F>=e.width?e.width-1:F),w(E,F,$,C,u,l,b,v,A,k,c,m))return t.x=h?h*y<0?v:b:O,t.y=p?p*y<0?k:A:D,t.align=x[h*y+1],t.baseline=_[p*y+1],u.setRange(E,$,F,C),!0}return!1}}($,S,b,y,F);return R.forEach((e=>e.opacity=+B(e))),R}const D=["x","y","opacity","align","baseline"],E=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function F(e){r.wx.call(this,null,e)}F.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:E},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:D.length,default:D}]},(0,o.XW)(F,r.wx,{transform(e,t){const n=e.modified();if(!(n||t.changed(t.ADD_REM)||function(n){const i=e.sort;return(0,o.mf)(i)&&t.modified(i.fields)}()))return;e.size&&2===e.size.length||(0,o.vU)("Size parameter should be specified as a [width, height] array.");const i=e.as||D;return O(t.materialize(t.SOURCE).source||[],e.size,e.sort,(0,o.IX)(null==e.offset?1:e.offset),(0,o.IX)(e.anchor||E),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach((e=>{const t=e.datum;t[i[0]]=e.x,t[i[1]]=e.y,t[i[2]]=e.opacity,t[i[3]]=e.align,t[i[4]]=e.baseline})),t.reflow(n).modifies(i)}})},92987:(e,t,n)=>{"use strict";n.d(t,{WU:()=>$,bd:()=>C,O3:()=>w,FM:()=>A,_m:()=>S,ij:()=>R,hh:()=>M,sL:()=>v});var i=n(48823),r=n(42132),a=n(19986),o=n(55269),s=n(57400);const u=/^(data:|([A-Za-z]+:)?\/\/)/,l=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,f=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,c="file://";async function d(e,t){const n=await this.sanitize(e,t),i=n.href;return n.localFile?this.file(i):this.http(i,t)}async function h(e,t){t=(0,i.l7)({},this.options,t);const n=this.fileAccess,r={href:null};let a,o,s;const d=l.test(e.replace(f,""));null!=e&&"string"==typeof e&&d||(0,i.vU)("Sanitize failure, invalid URI: "+(0,i.m8)(e));const h=u.test(e);return(s=t.baseURL)&&!h&&(e.startsWith("/")||s.endsWith("/")||(e="/"+e),e=s+e),o=(a=e.startsWith(c))||"file"===t.mode||"http"!==t.mode&&!h&&n,a?e=e.slice(c.length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function p(e){return e?t=>new Promise(((n,i)=>{e.readFile(t,((e,t)=>{e?i(e):n(t)}))})):m}async function m(){(0,i.vU)("No file system access.")}function g(e){return e?async function(t,n){const r=(0,i.l7)({},this.options.http,n),a=n&&n.response,o=await e(t,r);return o.ok?(0,i.mf)(o[a])?o[a]():o.text():(0,i.vU)(o.status+""+o.statusText)}:y}async function y(){(0,i.vU)("No HTTP fetch method available.")}const b=e=>!(Number.isNaN(+e)||e instanceof Date),v={boolean:i.sw,integer:i.He,number:i.He,date:i.ZU,string:i.BB,unknown:i.yR},x=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>b(e)&&Number.isInteger(+e),b,e=>!Number.isNaN(Date.parse(e))],_=["boolean","integer","number","date"];function w(e,t){if(!e||!e.length)return"unknown";const n=e.length,i=x.length,r=x.map(((e,t)=>t+1));for(let o,s,u=0,l=0;u<n;++u)for(s=t?e[u][t]:e[u],o=0;o<i;++o)if(r[o]&&null!=(a=s)&&a==a&&!x[o](s)&&(r[o]=0,++l,l===x.length))return"string";var a;return _[r.reduce(((e,t)=>0===e?t:e),0)-1]}function A(e,t){return t.reduce(((t,n)=>(t[n]=w(e,n),t)),{})}function k(e){const t=function(t,n){const r={delimiter:e};return O(t,n?(0,i.l7)(n,r):r)};return t.responseType="text",t}function O(e,t){return t.header&&(e=t.header.map(i.m8).join(t.delimiter)+"\n"+e),(0,r.Z)(t.delimiter).parse(e+"")}function D(e,t){const n=t&&t.property?(0,i.EP)(t.property):i.yR;return!(0,i.Kn)(e)||(r=e,"function"==typeof Buffer&&(0,i.mf)(Buffer.isBuffer)&&Buffer.isBuffer(r))?n(JSON.parse(e)):function(e,t){return!(0,i.kJ)(e)&&(0,i.TW)(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}(n(e),t);var r}O.responseType="text",D.responseType="json";const E={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function F(e,t){let n,r,s,u;return e=D(e,t),t&&t.feature?(n=a.Z,s=t.feature):t&&t.mesh?(n=o.Z,s=t.mesh,u=E[t.filter]):(0,i.vU)("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[s])?n(e,r,u):(0,i.vU)("Invalid TopoJSON object: "+s),r&&r.features||[r]}F.responseType="json";const $={dsv:O,csv:k(","),tsv:k("\t"),json:D,topojson:F};function C(e,t){return arguments.length>1?($[e]=t,this):(0,i.nr)($,e)?$[e]:null}function M(e){const t=C(e);return t&&t.responseType||"text"}function R(e,t,n,r){const a=C((t=t||{}).type||"json");return a||(0,i.vU)("Unknown data format type: "+t.type),e=a(e,t),t.parse&&function(e,t,n,i){if(!e.length)return;const r=(0,s.Ds)();n=n||r.timeParse,i=i||r.utcParse;let a,o,u,l,f,c,d=e.columns||Object.keys(e[0]);"auto"===t&&(t=A(e,d)),d=Object.keys(t);const h=d.map((e=>{const r=t[e];let a,o;if(r&&(r.startsWith("date:")||r.startsWith("utc:")))return a=r.split(/:(.+)?/,2),o=a[1],("'"===o[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.slice(1,-1)),("utc"===a[0]?i:n)(o);if(!v[r])throw Error("Illegal format pattern: "+e+":"+r);return v[r]}));for(u=0,f=e.length,c=d.length;u<f;++u)for(a=e[u],l=0;l<c;++l)o=d[l],a[o]=h[l](a[o])}(e,t.parse,n,r),(0,i.nr)(e,"columns")&&delete e.columns,e}const S=function(e,t){return t=>({options:t||{},sanitize:h,load:d,fileAccess:!1,file:p(null),http:g(e)})}("undefined"!=typeof fetch&&fetch)},48799:(e,t,n)=>{"use strict";n.d(t,{Qc:()=>Tn});var i=n(48823),r=n(41275),a=n(83082),o=n(87180),s=n(4036);function u(e){return(0,i.Kn)(e)?e:{type:e||"pad"}}const l=e=>+e||0;function f(e){return(0,i.Kn)(e)?e.signal?e:{top:l(e.top),bottom:l(e.bottom),left:l(e.left),right:l(e.right)}:{top:t=l(e),bottom:t,left:t,right:t};var t}const c=e=>(0,i.Kn)(e)&&!(0,i.kJ)(e)?(0,i.l7)({},e):{value:e};function d(e,t,n,r){return null!=n?((0,i.Kn)(n)&&!(0,i.kJ)(n)||(0,i.kJ)(n)&&n.length&&(0,i.Kn)(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function h(e,t,n){for(const n in t)d(e,n,t[n]);for(const t in n)d(e,t,n[t],"update")}function p(e,t,n){for(const r in t)n&&(0,i.nr)(n,r)||(e[r]=(0,i.l7)(e[r]||{},t[r]));return e}function m(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const g="mark",y="frame",b="scope",v="legend-label";function x(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const _=e=>(0,i.HD)(e)?(0,i.m8)(e):e.signal?`(${e.signal})`:O(e);function w(e){if(null!=e.gradient)return function(e){const t=[e.start,e.stop,e.count].map((e=>null==e?null:(0,i.m8)(e)));for(;t.length&&null==(0,i.fj)(t);)t.pop();return t.unshift(_(e.gradient)),`gradient(${t.join(",")})`}(e);let t=e.signal?`(${e.signal})`:e.color?function(e){return e.c?A("hcl",e.h,e.c,e.l):e.h||e.s?A("hsl",e.h,e.s,e.l):e.l||e.a?A("lab",e.l,e.a,e.b):e.r||e.g||e.b?A("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?O(e.field):void 0!==e.value?(0,i.m8)(e.value):void 0;return null!=e.scale&&(t=function(e,t){const n=_(e.scale);return null!=e.range?t=`lerp(_range(${n}), ${+e.range})`:(void 0!==t&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(1==+e.band?"":"*"+k(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),null==t&&(t="0")),t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t=`pow(${t},${k(e.exponent)})`),null!=e.mult&&(t+=`*${k(e.mult)}`),null!=e.offset&&(t+=`+${k(e.offset)}`),e.round&&(t=`round(${t})`),t}const A=(e,t,n,i)=>`(${e}(${[t,n,i].map(w).join(",")})+'')`;function k(e){return(0,i.Kn)(e)?"("+w(e)+")":e}function O(e){return D((0,i.Kn)(e)?e:{datum:e})}function D(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):(0,i.vU)("Invalid field reference: "+(0,i.m8)(e));return e.signal||(r=(0,i.HD)(r)?(0,i._k)(r).map(i.m8).join("]["):D(r)),t+"["+r+"]"}function E(e,t,n,r,a,o){const s={};(o=o||{}).encoders={$encode:s},e=function(e,t,n,r,a){const o={},s={};let u,l,f,c;for(l in l="lineBreak","text"!==t||null==a[l]||m(l,e)||x(o,l,a[l]),("legend"==n||String(n).startsWith("axis"))&&(n=null),c=n===y?a.group:n===g?(0,i.l7)({},a.mark,a[t]):null,c)f=m(l,e)||("fill"===l||"stroke"===l)&&(m("fill",e)||m("stroke",e)),f||x(o,l,c[l]);for(l in(0,i.IX)(r).forEach((t=>{const n=a.style&&a.style[t];for(const t in n)m(t,e)||x(o,t,n[t])})),e=(0,i.l7)({},e),o)c=o[l],c.signal?(u=u||{})[l]=c:s[l]=c;return e.enter=(0,i.l7)(s,e.enter),u&&(e.update=(0,i.l7)(u,e.update)),e}(e,t,n,r,a.config);for(const n in e)s[n]=F(e[n],t,o,a);return o}function F(e,t,n,r){const a={},o={};for(const t in e)null!=e[t]&&(a[t]=$((s=e[t],(0,i.kJ)(s)?function(e){let t="";return e.forEach((e=>{const n=w(e);t+=e.test?`(${e.test})?${n}:`:n})),":"===(0,i.fj)(t)&&(t+="null"),t}(s):w(s)),r,n,o));var s;return{$expr:{marktype:t,channels:a},$fields:Object.keys(o),$output:Object.keys(e)}}function $(e,t,n,a){const o=(0,r.BJ)(e,t);return o.$fields.forEach((e=>a[e]=1)),(0,i.l7)(n,o.$params),o.$expr}const C=["value","update","init","react","bind"];function M(e,t){(0,i.vU)(e+' for "outer" push: '+(0,i.m8)(t))}function R(e,t){const n=e.name;if("outer"===e.push)t.signals[n]||M("No prior signal definition",n),C.forEach((t=>{void 0!==e[t]&&M("Invalid property ",t)}));else{const i=t.addSignal(n,e.value);!1===e.react&&(i.react=!1),e.bind&&t.addBinding(n,e.bind)}}function S(e,t,n,i){this.id=-1,this.type=e,this.value=t,this.params=n,i&&(this.parent=i)}function B(e,t,n,i){return new S(e,t,n,i)}function Z(e,t){return B("operator",e,t)}function T(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function P(e,t){return t?{$field:e,$name:t}:{$field:e}}const j=P("key");function z(e,t){return{$compare:e,$order:t}}function q(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const N="scope",U="view";function L(e){return e&&e.signal}function I(e){if(L(e))return!0;if((0,i.Kn)(e))for(const t in e)if(I(e[t]))return!0;return!1}function W(e,t){return null!=e?e:t}function X(e){return e&&e.signal||e}const V="timer";function H(e,t){return(e.merge?J:e.stream?Y:e.type?G:(0,i.vU)("Invalid stream specification: "+(0,i.m8)(e)))(e,t)}function J(e,t){const n=K({merge:e.merge.map((e=>H(e,t)))},e,t);return t.addStream(n).id}function Y(e,t){const n=K({stream:H(e.stream,t)},e,t);return t.addStream(n).id}function G(e,t){let n;var i;e.type===V?(n=t.event(V,e.throttle),e={between:e.between,filter:e.filter}):n=t.event((i=e.source)===N?U:i||U,e.type);const r=K({stream:n},e,t);return 1===Object.keys(r).length?n:t.addStream(r).id}function K(e,t,n){let a=t.between;return a&&(2!==a.length&&(0,i.vU)('Stream "between" parameter must have 2 entries: '+(0,i.m8)(t)),e.between=[H(a[0],n),H(a[1],n)]),a=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&a.push(function(e,t,n){const i="event.item";return i+(e&&"*"!==e?"&&"+i+".mark.marktype==='"+e+"'":"")+(n?"&&"+i+".mark.role==='"+n+"'":"")+(t?"&&"+i+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===N&&a.push("inScope(event.item)"),a.length&&(e.filter=(0,r.BJ)("("+a.join(")&&(")+")",n).$expr),null!=(a=t.throttle)&&(e.throttle=+a),null!=(a=t.debounce)&&(e.debounce=+a),t.consume&&(e.consume=!0),e}const Q={code:"_.$value",ast:{type:"Identifier",value:"value"}};function ee(e){return{signal:"["+e.map((e=>e.scale?'scale("'+e.scale+'")':e.signal))+"]"}}const te=e=>(t,n,i)=>B(e,n,t||void 0,i),ne=te("aggregate"),ie=te("axisticks"),re=te("bound"),ae=te("collect"),oe=te("compare"),se=te("datajoin"),ue=te("encode"),le=te("expression"),fe=te("facet"),ce=te("field"),de=te("key"),he=te("legendentries"),pe=te("load"),me=te("mark"),ge=te("multiextent"),ye=te("multivalues"),be=te("overlap"),ve=te("params"),xe=te("prefacet"),_e=te("projection"),we=te("proxy"),Ae=te("relay"),ke=te("render"),Oe=te("scale"),De=te("sieve"),Ee=te("sortitems"),Fe=te("viewlayout"),$e=te("values");let Ce=0;const Me={min:"min",max:"max",count:"sum"};function Re(e,t){const n=t.getScale(e.name).params;let r;var a;for(r in n.domain=Te(e.domain,e,t),null!=e.range&&(n.range=Ie(e,t,n)),null!=e.interpolate&&function(e,t){t.interpolate=Se(e.type||e),null!=e.gamma&&(t.interpolateGamma=Se(e.gamma))}(e.interpolate,n),null!=e.nice&&(n.nice=(a=e.nice,(0,i.Kn)(a)?{interval:Se(a.interval),step:Se(a.step)}:Se(a))),null!=e.bins&&(n.bins=function(e,t){return e.signal||(0,i.kJ)(e)?Be(e,t):t.objectProperty(e)}(e.bins,t)),e)(0,i.nr)(n,r)||"name"===r||(n[r]=Se(e[r],t))}function Se(e,t){return(0,i.Kn)(e)?e.signal?t.signalRef(e.signal):(0,i.vU)("Unsupported object: "+(0,i.m8)(e)):e}function Be(e,t){return e.signal?t.signalRef(e.signal):e.map((e=>Se(e,t)))}function Ze(e){(0,i.vU)("Can not find data set: "+(0,i.m8)(e))}function Te(e,t,n){if(e)return e.signal?n.signalRef(e.signal):((0,i.kJ)(e)?Pe:e.fields?ze:je)(e,t,n);null==t.domainMin&&null==t.domainMax||(0,i.vU)("No scale domain defined for domainMin/domainMax to override.")}function Pe(e,t,n){return e.map((e=>Se(e,n)))}function je(e,t,n){const i=n.getData(e.data);return i||Ze(e.data),(0,o.lK)(t.type)?i.valuesRef(n,e.field,Ne(e.sort,!1)):(0,o.W1)(t.type)?i.domainRef(n,e.field):i.extentRef(n,e.field)}function ze(e,t,n){const r=e.data,a=e.fields.reduce(((e,t)=>(t=(0,i.HD)(t)?{data:r,field:t}:(0,i.kJ)(t)||t.signal?function(e,t){const n="_:vega:_"+Ce++,r=ae({});if((0,i.kJ)(e))r.value={$ingest:e};else if(e.signal){const a="setdata("+(0,i.m8)(n)+","+e.signal+")";r.params.input=t.signalRef(a)}return t.addDataPipeline(n,[r,De({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e)),[]);return((0,o.lK)(t.type)?qe:(0,o.W1)(t.type)?Ue:Le)(e,n,a)}function qe(e,t,n){const i=Ne(e.sort,!0);let r,a;const o=n.map((e=>{const n=t.getData(e.data);return n||Ze(e.data),n.countsRef(t,e.field,i)})),s={groupby:j,pulse:o};i&&(r=i.op||"count",a=i.field?q(r,i.field):"count",s.ops=[Me[r]],s.fields=[t.fieldRef(a)],s.as=[a]),r=t.add(ne(s));const u=t.add(ae({pulse:T(r)}));return a=t.add($e({field:j,sort:t.sortRef(i),pulse:T(u)})),T(a)}function Ne(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!Me[e.op]&&(0,i.vU)("Multiple domain scales can not be sorted using "+e.op):(0,i.vU)("No field provided for sort aggregate op: "+e.op):(0,i.Kn)(e)?e.field="key":e={field:"key"}),e}function Ue(e,t,n){const i=n.map((e=>{const n=t.getData(e.data);return n||Ze(e.data),n.domainRef(t,e.field)}));return T(t.add(ye({values:i})))}function Le(e,t,n){const i=n.map((e=>{const n=t.getData(e.data);return n||Ze(e.data),n.extentRef(t,e.field)}));return T(t.add(ge({extents:i})))}function Ie(e,t,n){const r=t.config.range;let a=e.range;if(a.signal)return t.signalRef(a.signal);if((0,i.HD)(a)){if(r&&(0,i.nr)(r,a))return Ie(e=(0,i.l7)({},e,{range:r[a]}),t,n);"width"===a?a=[0,{signal:"width"}]:"height"===a?a=(0,o.lK)(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:(0,i.vU)("Unrecognized scale range value: "+(0,i.m8)(a))}else{if(a.scheme)return n.scheme=(0,i.kJ)(a.scheme)?Be(a.scheme,t):Se(a.scheme,t),a.extent&&(n.schemeExtent=Be(a.extent,t)),void(a.count&&(n.schemeCount=Se(a.count,t)));if(a.step)return void(n.rangeStep=Se(a.step,t));if((0,o.lK)(e.type)&&!(0,i.kJ)(a))return Te(a,e,t);(0,i.kJ)(a)||(0,i.vU)("Unsupported range type: "+(0,i.m8)(a))}return a.map((e=>((0,i.kJ)(e)?Be:Se)(e,t)))}function We(e,t,n){return(0,i.kJ)(e)?e.map((e=>We(e,t,n))):(0,i.Kn)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:(0,i.vU)("Unsupported parameter object: "+(0,i.m8)(e)):e}const Xe="top",Ve="left",He="right",Je="bottom",Ye="label",Ge="perc",Ke="value",Qe="guide-label",et="guide-title",tt="symbol",nt="gradient",it="discrete",rt="size",at=[rt,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],ot={name:1,style:1,interactive:1},st={value:0},ut={value:1},lt="group",ft="rect",ct="rule",dt="text";function ht(e){return e.type=lt,e.interactive=e.interactive||!1,e}function pt(e,t){const n=(n,i)=>W(e[n],W(t[n],i));return n.isVertical=n=>"vertical"===W(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>W(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>W(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>W(e.columns,W(t.columns,+n.isVertical(!0))),n}function mt(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function gt(e,t,n){return`item.anchor === 'start' ? ${e} : item.anchor === 'end' ? ${t} : ${n}`}const yt=gt((0,i.m8)(Ve),(0,i.m8)(He),(0,i.m8)("center"));function bt(e,t){return t?e?(0,i.Kn)(e)?Object.assign({},e,{offset:bt(e.offset,t)}):{value:e,offset:t}:t:e}function vt(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=p(e.encode,t,ot)):e.interactive=!1,e}function xt(e,t,n,r){const a=pt(e,n),o=a.isVertical(),s=a.gradientThickness(),u=a.gradientLength();let l,f,d,p,m;o?(f=[0,1],d=[0,0],p=s,m=u):(f=[0,0],d=[1,0],p=u,m=s);const g={enter:l={opacity:st,x:st,y:st,width:c(p),height:c(m)},update:(0,i.l7)({},l,{opacity:ut,fill:{gradient:t,start:f,stop:d}}),exit:{opacity:st}};return h(g,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")}),vt({type:ft,role:"legend-gradient",encode:g},r)}function _t(e,t,n,r,a){const o=pt(e,n),s=o.isVertical(),u=o.gradientThickness(),l=o.gradientLength();let f,d,p,m,g="";s?(f="y",p="y2",d="x",m="width",g="1-"):(f="x",p="x2",d="y",m="height");const y={opacity:st,fill:{scale:t,field:Ke}};y[f]={signal:g+"datum."+Ge,mult:l},y[d]=st,y[p]={signal:g+"datum.perc2",mult:l},y[m]=c(u);const b={enter:y,update:(0,i.l7)({},y,{opacity:ut}),exit:{opacity:st}};return h(b,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),vt({type:ft,role:"legend-band",key:Ke,from:a,encode:b},r)}function wt(e,t,n,i){const r=pt(e,t),a=r.isVertical(),o=c(r.gradientThickness()),s=r.gradientLength();let u,l,f,d,p=r("labelOverlap"),m="";const g={enter:u={opacity:st},update:l={opacity:ut,text:{field:Ye}},exit:{opacity:st}};return h(g,{fill:r("labelColor"),fillOpacity:r("labelOpacity"),font:r("labelFont"),fontSize:r("labelFontSize"),fontStyle:r("labelFontStyle"),fontWeight:r("labelFontWeight"),limit:W(e.labelLimit,t.gradientLabelLimit)}),a?(u.align={value:"left"},u.baseline=l.baseline={signal:'datum.perc<=0?"bottom":datum.perc>=1?"top":"middle"'},f="y",d="x",m="1-"):(u.align=l.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},u.baseline={value:"top"},f="x",d="y"),u[f]=l[f]={signal:m+"datum."+Ge,mult:s},u[d]=l[d]=o,o.offset=W(e.labelOffset,t.gradientLabelOffset)||0,p=p?{separation:r("labelSeparation"),method:p,order:"datum.index"}:void 0,vt({type:dt,role:v,style:Qe,key:Ke,from:i,encode:g,overlap:p},n)}function At(e,t,n,i,r){const a=pt(e,t),o=n.entries,s=!(!o||!o.interactive),u=o?o.name:void 0,l=a("clipHeight"),f=a("symbolOffset"),d={data:"value"},m=`(${r}) ? datum.offset : datum.size`,g=l?c(l):{field:rt},y="datum.index",x=`max(1, ${r})`;let _,w,A,k,O;g.mult=.5,_={enter:w={opacity:st,x:{signal:m,mult:.5,offset:f},y:g},update:A={opacity:ut,x:w.x,y:w.y},exit:{opacity:st}};let D=null,E=null;e.fill||(D=t.symbolBaseFillColor,E=t.symbolBaseStrokeColor),h(_,{fill:a("symbolFillColor",D),shape:a("symbolType"),size:a("symbolSize"),stroke:a("symbolStrokeColor",E),strokeDash:a("symbolDash"),strokeDashOffset:a("symbolDashOffset"),strokeWidth:a("symbolStrokeWidth")},{opacity:a("symbolOpacity")}),at.forEach((t=>{e[t]&&(A[t]=w[t]={scale:e[t],field:Ke})}));const F=vt({type:"symbol",role:"legend-symbol",key:Ke,from:d,clip:!!l||void 0,encode:_},n.symbols),$=c(f);$.offset=a("labelOffset"),_={enter:w={opacity:st,x:{signal:m,offset:$},y:g},update:A={opacity:ut,text:{field:Ye},x:w.x,y:w.y},exit:{opacity:st}},h(_,{align:a("labelAlign"),baseline:a("labelBaseline"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontStyle:a("labelFontStyle"),fontWeight:a("labelFontWeight"),limit:a("labelLimit")});const C=vt({type:dt,role:v,style:Qe,key:Ke,from:d,encode:_},n.labels);return _={enter:{noBound:{value:!l},width:st,height:l?c(l):st,opacity:st},exit:{opacity:st},update:A={opacity:ut,row:{signal:null},column:{signal:null}}},a.isVertical(!0)?(k=`ceil(item.mark.items.length / ${x})`,A.row.signal=`${y}%${k}`,A.column.signal=`floor(${y} / ${k})`,O={field:["row",y]}):(A.row.signal=`floor(${y} / ${x})`,A.column.signal=`${y} % ${x}`,O={field:y}),A.column.signal=`(${r})?${A.column.signal}:${y}`,ht({role:b,from:i={facet:{data:i,name:"value",groupby:"index"}},encode:p(_,o,ot),marks:[F,C],name:u,interactive:s,sort:O})}const kt='item.orient === "left"',Ot='item.orient === "right"',Dt=`(${kt} || ${Ot})`,Et=`datum.vgrad && ${Dt}`,Ft=gt('"top"','"bottom"','"middle"'),$t=`datum.vgrad && ${Ot} ? (${gt('"right"','"left"','"center"')}) : (${Dt} && !(datum.vgrad && ${kt})) ? "left" : ${yt}`,Ct=`item._anchor || (${Dt} ? "middle" : "start")`,Mt=`${Et} ? (${kt} ? -90 : 90) : 0`,Rt=`${Dt} ? (datum.vgrad ? (${Ot} ? "bottom" : "top") : ${Ft}) : "top"`;function St(e,t){let n;return(0,i.Kn)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+Bt(e.path)+")":e.sphere&&(n="geoShape("+Bt(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function Bt(e){return(0,i.Kn)(e)&&e.signal?e.signal:(0,i.m8)(e)}function Zt(e){const t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===lt?b:t||g:t}function Tt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Zt(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function Pt(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function jt(e,t){const n=(0,s.DF)(e.type);n||(0,i.vU)("Unrecognized transform type: "+(0,i.m8)(e.type));const r=B(n.type.toLowerCase(),null,zt(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function zt(e,t,n){const i={},r=e.params.length;for(let a=0;a<r;++a){const r=e.params[a];i[r.name]=qt(r,t,n)}return i}function qt(e,t,n){const r=e.type,a=t[e.name];return"index"===r?function(e,t,n){return(0,i.HD)(t.from)||(0,i.vU)('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==a?"param"===r?function(e,t,n){const r=t[e.name];return e.array?((0,i.kJ)(r)||(0,i.vU)("Expected an array of sub-parameters. Instead: "+(0,i.m8)(r)),r.map((t=>Ut(e,t,n)))):Ut(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!L(a)?a.map((t=>Nt(e,t,n))):Nt(e,a,n):void(e.required&&(0,i.vU)("Missing required "+(0,i.m8)(t.type)+" parameter: "+(0,i.m8)(e.name)))}function Nt(e,t,n){const a=e.type;if(L(t))return Xt(a)?(0,i.vU)("Expression references can not be signals."):Vt(a)?n.fieldRef(t):Ht(a)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||Vt(a);return i&&Lt(t)?n.exprRef(t.expr,t.as):i&&It(t)?P(t.field,t.as):Xt(a)?(0,r.BJ)(t,n):Wt(a)?T(n.getData(t).values):Vt(a)?P(t):Ht(a)?n.compareRef(t):t}}function Ut(e,t,n){const r=e.params.length;let a;for(let n=0;n<r;++n){a=e.params[n];for(const e in a.key)if(a.key[e]!==t[e]){a=null;break}if(a)break}a||(0,i.vU)("Unsupported parameter: "+(0,i.m8)(t));const o=(0,i.l7)(zt(a,t,n),a.key);return T(n.add(ve(o)))}const Lt=e=>e&&e.expr,It=e=>e&&e.field,Wt=e=>"data"===e,Xt=e=>"expr"===e,Vt=e=>"field"===e,Ht=e=>"compare"===e;function Jt(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:T(t.getData(e.data).output)}function Yt(e,t,n,i,r){this.scope=e,this.input=t,this.output=n,this.values=i,this.aggregate=r,this.index={}}function Gt(e){return(0,i.HD)(e)?e:null}function Kt(e,t,n){const i=q(n.op,n.field);let r;if(t.ops){for(let e=0,n=t.as.length;e<n;++e)if(t.as[e]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function Qt(e,t,n,r,a,o,s){const u=t[n]||(t[n]={}),l=function(e){return(0,i.Kn)(e)?("descending"===e.order?"-":"+")+q(e.op,e.field):""}(o);let f,c,d=Gt(a);if(null!=d&&(e=t.scope,d+=l?"|"+l:"",f=u[d]),!f){const n=o?{field:j,pulse:t.countsRef(e,a,o)}:{field:e.fieldRef(a),pulse:T(t.output)};l&&(n.sort=e.sortRef(o)),c=e.add(B(r,void 0,n)),s&&(t.index[a]=c),f=T(c),null!=d&&(u[d]=f)}return f}function en(e,t,n){const i=e.remove,a=e.insert,o=e.toggle,s=e.modify,u=e.values,l=t.add(Z()),f="if("+e.trigger+',modify("'+n+'",'+[a,i,o,s,u].map((e=>null==e?"null":e)).join(",")+"),0)",c=(0,r.BJ)(f,t);l.update=c.$expr,l.params=c.$params}function tn(e,t){const n=Zt(e),r=e.type===lt,a=e.from&&e.from.facet,o=e.overlap;let s,u,l,f,c,d,h,p=e.layout||n===b||n===y;const m=n===g||p||a,v=function(e,t,n){let r,a,o,s,u;return e?(r=e.facet)&&(t||(0,i.vU)("Only group marks can be faceted."),null!=r.field?s=u=Jt(r,n):(e.data?u=T(n.getData(e.data).aggregate):(o=jt((0,i.l7)({type:"aggregate",groupby:(0,i.IX)(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=Jt(r,n),s=u=T(n.add(o))),a=n.keyRef(r.groupby,!0))):s=T(n.add(ae(null,[{}]))),s||(s=Jt(e,n)),{key:a,pulse:s,parent:u}}(e.from,r,t);u=t.add(se({key:v.key||(e.key?P(e.key):void 0),pulse:v.pulse,clean:!r}));const x=T(u);u=l=t.add(ae({pulse:x})),u=t.add(me({markdef:Tt(e),interactive:Pt(e.interactive,t),clip:St(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:T(u)}));const _=T(u);u=f=t.add(ue(E(e.encode,e.type,n,e.style,t,{mod:!1,pulse:_}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach((e=>{const n=jt(e,t),r=n.metadata;(r.generates||r.changes)&&(0,i.vU)("Mark transforms should not generate new data."),r.nomod||(f.params.mod=!0),n.params.pulse=T(u),t.add(u=n)})),e.sort&&(u=t.add(Ee({sort:t.compareRef(e.sort),pulse:T(u)})));const w=T(u);(a||p)&&(p=t.add(Fe({layout:t.objectProperty(e.layout),legends:t.legends,mark:_,pulse:w})),d=T(p));const A=t.add(re({mark:_,pulse:d||w}));h=T(A),r&&(m&&(s=t.operators,s.pop(),p&&s.pop()),t.pushState(w,d||h,x),a?function(e,t,n){const r=e.from.facet,a=r.name,o=Jt(r,t);let s;r.name||(0,i.vU)("Facet must have a name: "+(0,i.m8)(r)),r.data||(0,i.vU)("Facet must reference a data set: "+(0,i.m8)(r)),r.field?s=t.add(xe({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(fe({key:t.keyRef(r.groupby),group:T(t.proxy(n.parent)),pulse:o})):(0,i.vU)("Facet must specify groupby or field: "+(0,i.m8)(r));const u=t.fork(),l=u.add(ae()),f=u.add(De({pulse:T(l)}));u.addData(a,new Yt(u,l,l,f)),u.addSignal("parent",null),s.params.subflow={$subflow:u.parse(e).toRuntime()}}(e,t,v):m?function(e,t,n){const i=t.add(xe({pulse:n.pulse})),r=t.fork();r.add(De()),r.addSignal("parent",null),i.params.subflow={$subflow:r.parse(e).toRuntime()}}(e,t,v):t.parse(e),t.popState(),m&&(p&&s.push(p),s.push(A))),o&&(h=function(e,t,n){const i=e.method,r=e.bound,a=e.separation,o={separation:L(a)?n.signalRef(a.signal):a,method:L(i)?n.signalRef(i.signal):i,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),r){const e=r.tolerance;o.boundTolerance=L(e)?n.signalRef(e.signal):+e,o.boundScale=n.scaleRef(r.scale),o.boundOrient=r.orient}return T(n.add(be(o)))}(o,h,t));const k=t.add(ke({pulse:h})),O=t.add(De({pulse:T(k)},void 0,t.parent()));null!=e.name&&(c=e.name,t.addData(c,new Yt(t,l,k,O)),e.on&&e.on.forEach((e=>{(e.insert||e.remove||e.toggle)&&(0,i.vU)("Marks only support modify triggers."),en(e,t,c)})))}function nn(e,t,n){const i={enter:{},update:{}};return h(i,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),i}function rn(e,t,n){return t[e]?`scale("${t[e]}",datum)`:mt(e,n[0].encode)}function an(e,t){const n={enter:{},update:{}};return h(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:yt},angle:{signal:'item.orient==="left"?-90:item.orient==="right"?90:0'},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),p(n,t,ot)}function on(e){const t=ae({},e);return t.metadata={source:!0},t}function sn(e,t){return pe({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}Yt.fromEntries=function(e,t){const n=t.length,i=t[n-1],r=t[n-2];let a=t[0],o=null,s=1;for(a&&"load"===a.type&&(a=t[1]),e.add(t[0]);s<n;++s)t[s].params.pulse=T(t[s-1]),e.add(t[s]),"aggregate"===t[s].type&&(o=t[s]);return new Yt(e,a,r,i,o)},Yt.prototype={countsRef(e,t,n){const i=this,r=i.counts||(i.counts={}),a=Gt(t);let o,s,u;return null!=a&&(e=i.scope,o=r[a]),o?n&&n.field&&Kt(e,o.agg.params,n):(u={groupby:e.fieldRef(t,"key"),pulse:T(i.output)},n&&n.field&&Kt(e,u,n),s=e.add(ne(u)),o=e.add(ae({pulse:T(s)})),o={agg:s,ref:T(o)},null!=a&&(r[a]=o)),o.ref},tuplesRef(){return T(this.values)},extentRef(e,t){return Qt(e,this,"extent","extent",t,!1)},domainRef(e,t){return Qt(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Qt(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Qt(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Qt(e,this,"indata","tupleindex",t,!0,!0)}};const un=e=>e===Je||e===Xe,ln=(e,t,n)=>L(e)?mn(e.signal,t,n):e===Ve||e===Xe?t:n,fn=(e,t,n)=>L(e)?hn(e.signal,t,n):un(e)?t:n,cn=(e,t,n)=>L(e)?pn(e.signal,t,n):un(e)?n:t,dn=(e,t,n)=>L(e)?gn(e.signal,t,n):e===Xe?{value:t}:{value:n},hn=(e,t,n)=>yn(`${e} === 'top' || ${e} === 'bottom'`,t,n),pn=(e,t,n)=>yn(`${e} !== 'top' && ${e} !== 'bottom'`,t,n),mn=(e,t,n)=>vn(`${e} === 'left' || ${e} === 'top'`,t,n),gn=(e,t,n)=>vn(`${e} === 'top'`,t,n),yn=(e,t,n)=>(t=null!=t?c(t):t,n=null!=n?c(n):n,bn(t)&&bn(n)?{signal:`${e} ? (${t=t?t.signal||(0,i.m8)(t.value):null}) : (${n=n?n.signal||(0,i.m8)(n.value):null})`}:[(0,i.l7)({test:e},t)].concat(n||[])),bn=e=>null==e||1===Object.keys(e).length,vn=(e,t,n)=>({signal:`${e} ? (${xn(t)}) : (${xn(n)})`}),xn=e=>L(e)?e.signal:null==e?null:(0,i.m8)(e),_n=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function wn(e,t,n,r){let a;if(t&&(0,i.nr)(t,e))return t[e];if((0,i.nr)(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":a="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":a=e[5].toLowerCase()+e.slice(6)}return r["guide-title"][a]}if(e.startsWith("label")){switch(e){case"labelColor":a="fill";break;case"labelFont":case"labelFontSize":a=e[5].toLowerCase()+e.slice(6)}return r["guide-label"][a]}return null}function An(e){const t={};for(const n of e)if(n)for(const e in n)t[e]=1;return Object.keys(t)}function kn(e,t){return{scale:e.scale,range:t}}function On(e,t,n,i,r){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+i+","+r+")"}}function Dn(e,t,n,i,r,a){const o=pt(e,t),s=e.orient,u=e.scale,l=ln(s,-1,1),f=X(o("labelFlush")),d=X(o("labelFlushOffset")),p=o("labelAlign"),m=o("labelBaseline");let g,y=0===f||!!f;const b=c(r);b.mult=l,b.offset=c(o("labelPadding")||0),b.offset.mult=l;const v={scale:u,field:Ke,band:.5,offset:bt(a.offset,o("labelOffset"))},x=fn(s,y?On(u,f,'"left"','"right"','"center"'):{value:"center"},((e,t,n)=>L(e)?((e,t,n)=>vn(`${e} === 'right'`,t,n))(e.signal,t,n):e===He?{value:t}:{value:n})(s,"left","right")),_=fn(s,dn(s,"bottom","top"),y?On(u,f,'"top"','"bottom"','"middle"'):{value:"middle"}),w=On(u,f,`-(${d})`,d,0);y=y&&d;const A={opacity:st,x:fn(s,v,b),y:cn(s,v,b)},k={enter:A,update:g={opacity:ut,text:{field:Ye},x:A.x,y:A.y,align:x,baseline:_},exit:{opacity:st,x:A.x,y:A.y}};h(k,{dx:!p&&y?fn(s,w):null,dy:!m&&y?cn(s,w):null}),h(k,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:p,baseline:m});const O=o("labelBound");let D=o("labelOverlap");return D=D||O?{separation:o("labelSeparation"),method:D,order:"datum.index",bound:O?{scale:u,orient:s,tolerance:O}:null}:void 0,g.align!==x&&(g.align=_n(g.align,x)),g.baseline!==_&&(g.baseline=_n(g.baseline,_)),vt({type:dt,role:"axis-label",style:Qe,key:Ke,from:i,encode:k,overlap:D},n)}function En(e,t){const n=function(e,t){var n,r,a,o,s,u,l,f,c=t.config,d=c.style,h=c.axis,p="band"===t.scaleType(e.scale)&&c.axisBand,m=e.orient;if(L(m)){const e=An([c.axisX,c.axisY]),t=An([c.axisTop,c.axisBottom,c.axisLeft,c.axisRight]);for(a of(n={},e))n[a]=fn(m,wn(a,c.axisX,h,d),wn(a,c.axisY,h,d));for(a of(r={},t))r[a]=(o=m.signal,s=wn(a,c.axisTop,h,d),u=wn(a,c.axisBottom,h,d),l=wn(a,c.axisLeft,h,d),f=wn(a,c.axisRight,h,d),{signal:(null!=l?`${o} === 'left' ? (${xn(l)}) : `:"")+(null!=u?`${o} === 'bottom' ? (${xn(u)}) : `:"")+(null!=f?`${o} === 'right' ? (${xn(f)}) : `:"")+(null!=s?`${o} === 'top' ? (${xn(s)}) : `:"")+"(null)"})}else n=m===Xe||m===Je?c.axisX:c.axisY,r=c["axis"+m[0].toUpperCase()+m.slice(1)];return n||r||p?(0,i.l7)({},h,n,r,p):h}(e,t),r=e.encode||{},a=r.axis||{},o=a.name||void 0,s=a.interactive,u=a.style,l=pt(e,n),f=function(e){const t=e("tickBand");let n,r,a=e("tickOffset");return t?t.signal?(n={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},r={signal:`(${t.signal}) === 'extent'`},(0,i.Kn)(a)||(a={signal:`(${t.signal}) === 'extent' ? 0 : ${a}`})):"extent"===t?(n=1,r=!0,a=0):(n=.5,r=!1):(n=e("bandPosition"),r=e("tickExtra")),{extra:r,band:n,offset:a}}(l),d={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:null!=e.title},g=T(t.add(ae({},[d]))),y=T(t.add(ie({scale:t.scaleRef(e.scale),extra:t.property(f.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),b=[];let v;return d.grid&&b.push(function(e,t,n,r,a){const o=pt(e,t),s=e.orient,u=e.gridScale,l=ln(s,1,-1),f=function(e,t){if(1===t);else if((0,i.Kn)(e)){let n=e=(0,i.l7)({},e);for(;null!=n.mult;){if(!(0,i.Kn)(n.mult))return n.mult=L(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n=n.mult=(0,i.l7)({},n.mult)}n.mult=t}else e=L(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);return e}(e.offset,l);let c,d,p;const m={enter:c={opacity:st},update:p={opacity:ut},exit:d={opacity:st}};h(m,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const g={scale:e.scale,field:Ke,band:a.band,extra:a.extra,offset:a.offset,round:o("tickRound")},y=fn(s,{signal:"height"},{signal:"width"}),b=u?{scale:u,range:0,mult:l,offset:f}:{value:0,offset:f},v=u?{scale:u,range:1,mult:l,offset:f}:(0,i.l7)(y,{mult:l,offset:f});return c.x=p.x=fn(s,g,b),c.y=p.y=cn(s,g,b),c.x2=p.x2=cn(s,v),c.y2=p.y2=fn(s,v),d.x=fn(s,g),d.y=cn(s,g),vt({type:ct,role:"axis-grid",key:Ke,from:r,encode:m},n)}(e,n,r.grid,y,f)),d.ticks&&(v=l("tickSize"),b.push(function(e,t,n,i,r,a){const o=pt(e,t),s=e.orient,u=ln(s,-1,1);let l,f,d;const p={enter:l={opacity:st},update:d={opacity:ut},exit:f={opacity:st}};h(p,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const m=c(r);m.mult=u;const g={scale:e.scale,field:Ke,band:a.band,extra:a.extra,offset:a.offset,round:o("tickRound")};return d.y=l.y=fn(s,st,g),d.y2=l.y2=fn(s,m),f.x=fn(s,g),d.x=l.x=cn(s,st,g),d.x2=l.x2=cn(s,m),f.y=cn(s,g),vt({type:ct,role:"axis-tick",key:Ke,from:i,encode:p},n)}(e,n,r.ticks,y,v,f))),d.labels&&(v=d.ticks?v:0,b.push(Dn(e,n,r.labels,y,v,f))),d.domain&&b.push(function(e,t,n,i){const r=pt(e,t),a=e.orient;let o,s;const u={enter:o={opacity:st},update:s={opacity:ut},exit:{opacity:st}};h(u,{stroke:r("domainColor"),strokeCap:r("domainCap"),strokeDash:r("domainDash"),strokeDashOffset:r("domainDashOffset"),strokeWidth:r("domainWidth"),strokeOpacity:r("domainOpacity")});const l=kn(e,0),f=kn(e,1);return o.x=s.x=fn(a,l,st),o.x2=s.x2=fn(a,f),o.y=s.y=cn(a,l,st),o.y2=s.y2=cn(a,f),vt({type:ct,role:"axis-domain",from:i,encode:u},n)}(e,n,r.domain,g)),d.title&&b.push(function(e,t,n,r){const a=pt(e,t),o=e.orient,s=ln(o,-1,1);let u,l;const f={enter:u={opacity:st,anchor:c(a("titleAnchor",null)),align:{signal:yt}},update:l=(0,i.l7)({},u,{opacity:ut,text:c(e.title)}),exit:{opacity:st}},d={signal:`lerp(range("${e.scale}"), ${gt(0,1,.5)})`};return l.x=fn(o,d),l.y=cn(o,d),u.angle=fn(o,st,((e,t)=>L(e)?{signal:`(${e.signal}) * 90`}:{value:90*e})(s)),u.baseline=fn(o,dn(o,Je,Xe),{value:Je}),l.angle=u.angle,l.baseline=u.baseline,h(f,{fill:a("titleColor"),fillOpacity:a("titleOpacity"),font:a("titleFont"),fontSize:a("titleFontSize"),fontStyle:a("titleFontStyle"),fontWeight:a("titleFontWeight"),limit:a("titleLimit"),lineHeight:a("titleLineHeight")},{align:a("titleAlign"),angle:a("titleAngle"),baseline:a("titleBaseline")}),function(e,t,n,i){const r=(e,t)=>null!=e?(n.update[t]=_n(c(e),n.update[t]),!1):!m(t,i),a=r(e("titleX"),"x"),o=r(e("titleY"),"y");n.enter.auto=o===a?c(o):fn(t,c(o),c(a))}(a,o,f,n),f.update.align=_n(f.update.align,u.align),f.update.angle=_n(f.update.angle,u.angle),f.update.baseline=_n(f.update.baseline,u.baseline),vt({type:dt,role:"axis-title",style:et,from:r,encode:f},n)}(e,n,r.title,g)),tn(ht({role:"axis",from:g,encode:p(Fn(l,e),a,ot),marks:b,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:u}),t)}function Fn(e,t){const n={enter:{},update:{}};return h(n,{orient:e("orient"),offset:e("offset")||0,position:W(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function $n(e,t,n){const s=(0,i.IX)(e.signals),u=(0,i.IX)(e.scales);return n||s.forEach((e=>R(e,t))),(0,i.IX)(e.projections).forEach((e=>function(e,t){const n=t.config.projection||{},i={};for(const n in e)"name"!==n&&(i[n]=We(e[n],n,t));for(const e in n)null==i[e]&&(i[e]=We(n[e],e,t));t.addProjection(e.name,i)}(e,t))),u.forEach((e=>function(e,t){const n=e.type||"linear";(0,o.dx)(n)||(0,i.vU)("Unrecognized scale type: "+(0,i.m8)(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t))),(0,i.IX)(e.data).forEach((e=>function(e,t){const n=[];e.transform&&e.transform.forEach((e=>{n.push(jt(e,t))})),e.on&&e.on.forEach((n=>{en(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){const r=[];let a,o,s,u,l,f=null,c=!1,d=!1;for(e.values?L(e.values)||I(e.format)?(r.push(sn(t,e)),r.push(f=on())):r.push(f=on({$ingest:e.values,$format:e.format})):e.url?I(e.url)||I(e.format)?(r.push(sn(t,e)),r.push(f=on())):r.push(f=on({$request:e.url,$format:e.format})):e.source&&(f=a=(0,i.IX)(e.source).map((e=>T(t.getData(e).output))),r.push(null)),o=0,s=n.length;o<s;++o)u=n[o],l=u.metadata,f||l.source||r.push(f=on()),r.push(u),l.generates&&(d=!0),l.modifies&&!d&&(c=!0),l.source?f=u:l.changes&&(f=null);return a&&(s=a.length-1,r[0]=Ae({derive:c,pulse:s?a:a[0]}),(c||s)&&r.splice(1,0,on())),f||r.push(on()),r.push(De({})),r}(e,t,n))}(e,t))),u.forEach((e=>Re(e,t))),(n||s).forEach((e=>function(e,t){const n=t.getSignal(e.name);let o=e.update;e.init&&(o?(0,i.vU)("Signals can not include both init and update expressions."):(o=e.init,n.initonly=!0)),o&&(o=(0,r.BJ)(o,t),n.update=o.$expr,n.params=o.$params),e.on&&e.on.forEach((e=>function(e,t,n){const o=e.encode,s={target:n};let u=e.events,l=e.update,f=[];u||(0,i.vU)("Signal update missing events specification."),(0,i.HD)(u)&&(u=(0,a.r)(u,t.isSubscope()?N:U)),u=(0,i.IX)(u).filter((e=>e.signal||e.scale?(f.push(e),0):1)),f.length>1&&(f=[ee(f)]),u.length&&f.push(u.length>1?{merge:u}:u[0]),null!=o&&(l&&(0,i.vU)("Signal encode and update are mutually exclusive."),l="encode(item(),"+(0,i.m8)(o)+")"),s.update=(0,i.HD)(l)?(0,r.BJ)(l,t):null!=l.expr?(0,r.BJ)(l.expr,t):null!=l.value?l.value:null!=l.signal?{$expr:Q,$params:{$value:t.signalRef(l.signal)}}:(0,i.vU)("Invalid signal update specification."),e.force&&(s.options={force:!0}),f.forEach((e=>t.addUpdate((0,i.l7)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):H(e,t)}}(e,t),s))))}(e,t,n.id)))}(e,t))),(0,i.IX)(e.axes).forEach((e=>En(e,t))),(0,i.IX)(e.marks).forEach((e=>tn(e,t))),(0,i.IX)(e.legends).forEach((e=>function(e,t){const n=t.config.legend,a=e.encode||{},s=pt(e,n),u=a.legend||{},l=u.name||void 0,f=u.interactive,c=u.style,d={};let m,g,y,b=0;at.forEach((t=>e[t]?(d[t]=e[t],b=b||e[t]):0)),b||(0,i.vU)("Missing valid scale for legend.");const v=function(e,t){let n=e.type||tt;return e.type||1!==function(e){return at.reduce(((t,n)=>t+(e[n]?1:0)),0)}(e)||!e.fill&&!e.stroke||(n=(0,o.z2)(t)?nt:(0,o.WE)(t)?it:tt),n!==nt?n:(0,o.WE)(t)?it:nt}(e,t.scaleType(b)),x={title:null!=e.title,scales:d,type:v,vgrad:"symbol"!==v&&s.isVertical()},_=T(t.add(ae(null,[x]))),w=T(t.add(he(g={type:v,scale:t.scaleRef(b),count:t.objectProperty(s("tickCount")),limit:t.property(s("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return v===nt?(y=[xt(e,b,n,a.gradient),wt(e,n,a.labels,w)],g.count=g.count||t.signalRef(`max(2,2*floor((${X(s.gradientLength())})/100))`)):v===it?y=[_t(e,b,n,a.gradient,w),wt(e,n,a.labels,w)]:(m=function(e,t){const n=pt(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,n),y=[At(e,n,a,w,X(m.columns))],g.size=function(e,t,n){const i=X(rn("size",e,n)),a=X(rn("strokeWidth",e,n)),o=X(function(e,t,n){return mt("fontSize",e)||function(e,t,n){const i=t.config.style["guide-label"];return i&&i.fontSize}(0,t)}(n[1].encode,t));return(0,r.BJ)(`max(ceil(sqrt(${i})+${a}),${o})`,t)}(e,t,y[0].marks)),y=[ht({role:"legend-entry",from:_,encode:{enter:{x:{value:0},y:{value:0}}},marks:y,layout:m,interactive:f})],x.title&&y.push(function(e,t,n,i){const r=pt(e,t),a={enter:{opacity:st},update:{opacity:ut,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:st}};return h(a,{orient:r("titleOrient"),_anchor:r("titleAnchor"),anchor:{signal:Ct},angle:{signal:Mt},align:{signal:$t},baseline:{signal:Rt},text:e.title,fill:r("titleColor"),fillOpacity:r("titleOpacity"),font:r("titleFont"),fontSize:r("titleFontSize"),fontStyle:r("titleFontStyle"),fontWeight:r("titleFontWeight"),limit:r("titleLimit"),lineHeight:r("titleLineHeight")},{align:r("titleAlign"),baseline:r("titleBaseline")}),vt({type:dt,role:"legend-title",style:et,from:i,encode:a},n)}(e,n,a.title,_)),tn(ht({role:"legend",from:_,encode:p(nn(s,e,n),u,ot),marks:y,aria:s("aria"),description:s("description"),zindex:s("zindex"),name:l,interactive:f,style:c}),t)}(e,t))),e.title&&function(e,t){const n=pt(e=(0,i.HD)(e)?{text:e}:e,t.config.title),r=e.encode||{},a=r.group||{},o=a.name||void 0,s=a.interactive,u=a.style,l=[],f=T(t.add(ae(null,[{}])));l.push(function(e,t,n,i){const r={value:0},a={enter:{opacity:r},update:{opacity:{value:1}},exit:{opacity:r}};return h(a,{text:e.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),vt({type:dt,role:"title-text",style:"group-title",from:i,encode:a},n)}(e,n,function(e){const t=e.encode;return t&&t.title||(0,i.l7)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),f)),e.subtitle&&l.push(function(e,t,n,i){const r={value:0},a={enter:{opacity:r},update:{opacity:{value:1}},exit:{opacity:r}};return h(a,{text:e.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),vt({type:dt,role:"title-subtitle",style:"group-subtitle",from:i,encode:a},n)}(e,n,r.subtitle,f)),tn(ht({role:"title",from:f,encode:an(n,a),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:u}),t)}(e.title,t),t.parseLambdas(),t}function Cn(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function Mn(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Rn(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function Sn(e){return((0,i.kJ)(e)?Bn:Zn)(e)}function Bn(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const t=e[r];n+=(r>0?",":"")+((0,i.Kn)(t)?t.signal||Sn(t):(0,i.m8)(t))}return n+"]"}function Zn(e){let t,n,r="{",a=0;for(t in e)n=e[t],r+=(++a>1?",":"")+(0,i.m8)(t)+":"+((0,i.Kn)(n)?n.signal||Sn(n):(0,i.m8)(n));return r+"}"}function Tn(e,t,n){return(0,i.Kn)(e)||(0,i.vU)("Input Vega specification must be an object."),function(e,t){const n=t.config,r=T(t.root=t.add(Z())),a=function(e,t){const n=n=>W(e[n],t[n]),r=[Cn("background",n("background")),Cn("autosize",u(n("autosize"))),Cn("padding",f(n("padding"))),Cn("width",n("width")||0),Cn("height",n("height")||0)],a=r.reduce(((e,t)=>(e[t.name]=t,e)),{}),o={};return(0,i.IX)(e.signals).forEach((e=>{(0,i.nr)(a,e.name)?e=(0,i.l7)(a[e.name],e):r.push(e),o[e.name]=e})),(0,i.IX)(t.signals).forEach((e=>{(0,i.nr)(o,e.name)||(0,i.nr)(a,e.name)||r.push(e)})),r}(e,n);a.forEach((e=>R(e,t))),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(ae()),s=t.add(ue(E((e=>p({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e))(e.encode),lt,y,e.style,t,{pulse:T(o)}))),l=t.add(Fe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:T(s)}));t.operators.pop(),t.pushState(T(s),T(l),null),$n(e,t,a),t.operators.push(l);let c=t.add(re({mark:r,pulse:T(l)}));return c=t.add(ke({pulse:T(c)})),c=t.add(De({pulse:T(c)})),t.addData("root",new Yt(t,o,o,c)),t}(e,new Mn(t=(0,i.fE)(function(){const e="sans-serif",t="#4c78a8",n="#000",i="#888",r="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:t},area:{fill:t},image:null,line:{stroke:t,strokeWidth:2},path:{stroke:t},rect:{fill:t},rule:{stroke:n},shape:{stroke:t},symbol:{fill:t,size:64},text:{fill:n,font:e,fontSize:11},trail:{fill:t,size:2},style:{"guide-label":{fill:n,font:e,fontSize:10},"guide-title":{fill:n,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:n,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:n,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:r}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:i,grid:!1,gridWidth:1,gridColor:r,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:i,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:r,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:i,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}(),t,e.config),n)).toRuntime()}Mn.prototype=Rn.prototype={parse(e){return $n(e,this)},fork(){return new Rn(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((t=>{t.$ref=e.id})),e.refs=null),e},proxy(e){const t=e instanceof S?T(e):e;return this.add(we({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){let i,r;e&&(i=e.data||(e.data={}),r=i[t]||(i[t]=[]),r.push(n))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const i in t.index)n(t.index[i],e,"index:"+i)}return this},pushState(e,t,n){this._encode.push(T(this.add(De({pulse:e})))),this._parent.push(t),this._lookup.push(n?T(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return(0,i.fj)(this._parent)},encode(){return(0,i.fj)(this._encode)},lookup(){return(0,i.fj)(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if((0,i.HD)(e))return P(e,t);e.signal||(0,i.vU)("Unsupported field reference: "+(0,i.m8)(e));const n=e.signal;let r=this.field[n];if(!r){const e={name:this.signalRef(n)};t&&(e.as=t),this.field[n]=r=T(this.add(ce(e)))}return r},compareRef(e){let t=!1;const n=e=>L(e)?(t=!0,this.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(t=!0,this.exprRef(e.expr)):e,r=(0,i.IX)(e.field).map(n),a=(0,i.IX)(e.order).map(n);return t?T(this.add(oe({fields:r,orders:a}))):z(r,a)},keyRef(e,t){let n=!1;const r=this.signals;return e=(0,i.IX)(e).map((e=>L(e)?(n=!0,T(r[e.signal])):e)),n?T(this.add(de({fields:e,flat:t}))):function(e,t){const n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef(e){if(!e)return e;const t=q(e.op,e.field),n=e.order||"ascending";return n.signal?T(this.add(oe({fields:t,orders:this.signalRef(n.signal)}))):z(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const i=this.id();this.streams.push({id:i,source:e,type:t}),this.events[n]=i}return this.events[n]},hasOwnSignal(e){return(0,i.nr)(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&(0,i.vU)("Duplicate signal name: "+(0,i.m8)(e));const n=t instanceof S?t:this.add(Z(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||(0,i.vU)("Unrecognized signal name: "+(0,i.m8)(e)),this.signals[e]},signalRef(e){return this.signals[e]?T(this.signals[e]):((0,i.nr)(this.lambdas,e)||(this.lambdas[e]=this.add(Z(null))),T(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const n=e[t],i=(0,r.BJ)(n,this),a=this.lambdas[n];a.params=i.$params,a.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&(0,i.Kn)(e)?this.signalRef(e.signal||Sn(e)):e},exprRef(e,t){const n={expr:(0,r.BJ)(e,this)};return t&&(n.expr.$name=t),T(this.add(le(n)))},addBinding(e,t){this.bindings||(0,i.vU)("Nested signals do not support binding: "+(0,i.m8)(e)),this.bindings.push((0,i.l7)({signal:e},t))},addScaleProj(e,t){(0,i.nr)(this.scales,e)&&(0,i.vU)("Duplicate scale or projection name: "+(0,i.m8)(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,Oe(t))},addProjection(e,t){this.addScaleProj(e,_e(t))},getScale(e){return this.scales[e]||(0,i.vU)("Unrecognized scale name: "+(0,i.m8)(e)),this.scales[e]},scaleRef(e){return T(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return(0,i.nr)(this.data,e)&&(0,i.vU)("Duplicate data set name: "+(0,i.m8)(e)),this.data[e]=t},getData(e){return this.data[e]||(0,i.vU)("Undefined data set name: "+(0,i.m8)(e)),this.data[e]},addDataPipeline(e,t){return(0,i.nr)(this.data,e)&&(0,i.vU)("Duplicate data set name: "+(0,i.m8)(e)),this.addData(e,Yt.fromEntries(this,t))}}},76039:(e,t,n)=>{"use strict";n.d(t,{bd:()=>O,CJ:()=>k,di:()=>w});var i=n(35545),r=n(33487),a=n(60261),o=n(84699),s=n(58271),u=n(72051),l=n(14970),f=n(75053),c=n(40552),d=n(11261),h=n(40916),p=n(93437),m=n(23007),g=n(38839),y=n(50435),b=n(30378),v=n(17421),x=n(38182);const _=(0,i.Z)(),w=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function A(e,t){return function n(){const r=t();return r.type=e,r.path=(0,i.Z)().projection(r),r.copy=r.copy||function(){const e=n();return w.forEach((t=>{r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function k(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(D[e]=A(e,t),this):D[e]||null}function O(e){return e&&e.path||_}const D={albers:r.Z,albersusa:a.Z,azimuthalequalarea:o.Z,azimuthalequidistant:s.Z,conicconformal:u.Z,conicequalarea:l.Z,conicequidistant:f.Z,equalEarth:c.Z,equirectangular:d.Z,gnomonic:h.Z,identity:p.Z,mercator:m.ZP,mollweide:x.ZP,naturalEarth1:g.Z,orthographic:y.Z,stereographic:b.Z,transversemercator:v.Z};for(const e in D)k(e,D[e])},89873:(e,t,n)=>{"use strict";n.d(t,{Wn:()=>i,mC:()=>r,O$:()=>a,Ho:()=>o,pi:()=>s,ou:()=>u,fC:()=>l,ZR:()=>f});var i=Math.abs,r=(Math.atan,Math.atan2,Math.ceil,Math.cos),a=(Math.exp,Math.floor,Math.log,Math.max,Math.min,Math.pow,Math.round,Math.sign,Math.sin),o=(Math.tan,1e-6),s=Math.PI,u=s/2,l=(Math.SQRT1_2,c(2));function f(e){return e>1?u:e<-1?-u:Math.asin(e)}function c(e){return e>0?Math.sqrt(e):0}c(s)},38182:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s});var i=n(4308),r=n(89873);function a(e,t){var n,i=e*(0,r.O$)(t),a=30;do{t-=n=(t+(0,r.O$)(t)-i)/(1+(0,r.mC)(t))}while((0,r.Wn)(n)>r.Ho&&--a>0);return t/2}var o=function(e,t,n){function i(i,o){return[e*i*(0,r.mC)(o=a(n,o)),t*(0,r.O$)(o)]}return i.invert=function(i,a){return a=(0,r.ZR)(a/t),[i/(e*(0,r.mC)(a)),(0,r.ZR)((2*a+(0,r.O$)(2*a))/n)]},i}(r.fC/r.ou,r.fC,r.pi);function s(){return(0,i.Z)(o).scale(169.529)}},71246:(e,t,n)=>{"use strict";n.r(t),n.d(t,{loess:()=>s,regression:()=>l});var i=n(90195),r=n(4036),a=n(48823);function o(e,t){var n,i,r,a,o,s,u=[],l=function(e){return e(a)};if(null==t)u.push(e);else for(n={},i=0,r=e.length;i<r;++i)a=e[i],(s=n[o=t.map(l)])||(n[o]=s=[],s.dims=o,u.push(s)),s.push(a);return u}function s(e){r.wx.call(this,null,e)}s.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},(0,a.XW)(s,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=o(t.materialize(t.SOURCE).source,e.groupby),u=(e.groupby||[]).map(a.el),l=u.length,f=e.as||[(0,a.el)(e.x),(0,a.el)(e.y)],c=[];s.forEach((t=>{(0,i.$S)(t,e.x,e.y,e.bandwidth||.3).forEach((e=>{const n={};for(let e=0;e<l;++e)n[u[e]]=t.dims[e];n[f[0]]=e[0],n[f[1]]=e[1],c.push((0,r.ax)(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});const u={linear:i.fw,log:i.jE,exp:i.lI,pow:i.kp,quad:i.p9,poly:i.gS};function l(e){r.wx.call(this,null,e)}l.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(u)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},(0,a.XW)(l,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=o(t.materialize(t.SOURCE).source,e.groupby),l=(e.groupby||[]).map(a.el),f=e.method||"linear",c=e.order||3,d=((e,t)=>"poly"===e?t:"quad"===e?2:1)(f,c),h=e.as||[(0,a.el)(e.x),(0,a.el)(e.y)],p=u[f],m=[];let g=e.extent;(0,a.nr)(u,f)||(0,a.vU)("Invalid regression method: "+f),null!=g&&"log"===f&&g[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),g=null),s.forEach((n=>{if(n.length<=d)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const o=p(n,e.x,e.y,c);if(e.params)return void m.push((0,r.ax)({keys:n.dims,coef:o.coef,rSquared:o.rSquared}));const s=g||(0,a.We)(n,e.x),u=e=>{const t={};for(let e=0;e<l.length;++e)t[l[e]]=n.dims[e];t[h[0]]=e[0],t[h[1]]=e[1],m.push((0,r.ax)(t))};"linear"===f?s.forEach((e=>u([e,o.predict(e)]))):(0,i.sR)(o.predict,s,25,200).forEach(u)})),this.value&&(n.rem=this.value),this.value=n.add=n.source=m}return n}})},14644:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var i=n(48823),r=n(4036);const a=(0,i.Rg)(["rule"]),o=(0,i.Rg)(["group","image","rect"]);function s(e){return(e+"").toLowerCase()}function u(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");const i=Function(...t.concat(n));return e&&e.functions?i.bind(e.functions):i}var l={operator:(e,t)=>u(e,["_"],t.code),parameter:(e,t)=>u(e,["datum","_"],t.code),event:(e,t)=>u(e,["event"],t.code),handler:(e,t)=>u(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";")),encode:(e,t)=>{const{marktype:n,channels:r}=t;let s="var o=item,datum=o.datum,m=0,$;";for(const e in r){const t="o["+(0,i.m8)(e)+"]";s+="$=".concat(r[e].code,";if(").concat(t,"!==$)").concat(t,"=$,m=1;")}return s+=function(e,t){let n="";return a[t]||(e.x2&&(e.x?(o[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(o[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),s+="return m;",u(e,["item","_"],s)},codegen:{get(e){const t="[".concat(e.map(i.m8).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator(e,t){let n;const i=Function("a","b","var u, v; return "+e.map(((e,i)=>{const r=t[i];let a,o;return e.path?(a="a".concat(e.path),o="b".concat(e.path)):((n=n||{})["f"+i]=e,a="this.f".concat(i,"(a)"),o="this.f".concat(i,"(b)")),function(e,t,n,i){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(i,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(i," : ")}(a,o,-r,r)})).join("")+"0;");return n?i.bind(n):i}}};function f(e,t,n){if(!e||!(0,i.Kn)(e))return e;for(let r,a=0,o=c.length;a<o;++a)if(r=c[a],(0,i.nr)(e,r.key))return r.parse(e,t,n);return e}var c=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||(0,i.vU)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=(0,i.Jy)(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=(0,i.ZE)(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=(0,i.EP)(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){const n=e.$encode,r={};for(const e in n){const a=n[e];r[e]=(0,i.ZE)(t.encodeExpression(a.$expr),a.$fields),r[e].output=a.$output}return r}},{key:"$compare",parse:function(e,t){const n="c:"+e.$compare+"_"+e.$order,a=(0,i.IX)(e.$compare).map((e=>e&&e.$tupleid?r.ai:e));return t.fn[n]||(t.fn[n]=(0,i.qu)(a,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){const n=e.$subflow;return function(e,i,r){const a=t.fork().parse(n),o=a.get(n.operators[0].id),s=a.signals.parent;return s&&s.set(r),o.detachSubflow=()=>t.detach(a),o}}},{key:"$tupleid",parse:function(){return r.ai}}];const d={skip:!0};function h(e,t,n,i){return new p(e,t,n,i)}function p(e,t,n,i){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=i||l,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function m(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}p.prototype=m.prototype={fork(){const e=new m(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter((t=>t!==e));const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,i=n.dataflow,r=e.value;if(n.set(e.id,t),"collect"===s(e.type)&&r&&(r.$ingest?i.ingest(t,r.$ingest,r.$format):r.$request?i.preload(t,r.$request,r.$format):i.pulse(t,i.changeset().insert(r))),e.root&&(n.root=t),e.parent){let r=n.get(e.parent.$ref);r?(i.connect(r,[t]),t.targets().add(r)):(n.unresolved=n.unresolved||[]).push((()=>{r=n.get(e.parent.$ref),i.connect(r,[t]),t.targets().add(r)}))}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const i in e.data){const r=n.data[i]||(n.data[i]={});e.data[i].forEach((e=>r[e]=t))}},resolve(){return(this.unresolved||[]).forEach((e=>e())),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[s(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,i,r){this.dataflow.on(t,n,i,r,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach((e=>t.parseOperator(e))),n.forEach((e=>t.parseOperatorParameters(e))),(e.streams||[]).forEach((e=>t.parseStream(e))),(e.updates||[]).forEach((e=>t.parseUpdate(e))),t.resolve()},parseOperator:function(e){const t=this;"operator"!==s(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){const t=this;if(e.params){const n=t.get(e.id);n||(0,i.vU)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};const n=this;for(const r in e){const a=e[r];t[r]=(0,i.kJ)(a)?a.map((e=>f(e,n,t))):f(a,n,t)}return t},parseStream:function(e){var t,n=this,r=null!=e.filter?n.eventExpression(e.filter):void 0,a=null!=e.stream?n.get(e.stream):void 0;e.source?a=n.events(e.source,e.type,r):e.merge&&(a=(t=e.merge.map((e=>n.get(e))))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map((e=>n.get(e))),a=a.between(t[0],t[1])),e.filter&&(a=a.filter(r)),null!=e.throttle&&(a=a.throttle(+e.throttle)),null!=e.debounce&&(a=a.debounce(+e.debounce)),null==a&&(0,i.vU)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&a.consume(!0),n.stream(e,a)},parseUpdate:function(e){var t,n=this,r=(0,i.Kn)(r=e.source)?r.$ref:r,a=n.get(r),o=e.update,s=void 0;a||(0,i.vU)("Source not defined: "+e.source),t=e.target&&e.target.$expr?n.eventExpression(e.target.$expr):n.get(e.target),o&&o.$expr&&(o.$params&&(s=n.parseParameters(o.$params)),o=n.handlerExpression(o.$expr)),n.update(e,a,t,o,s)},getState:function(e){var t=this,n={};if(e.signals){var i=n.signals={};Object.keys(t.signals).forEach((n=>{const r=t.signals[n];e.signals(n,r)&&(i[n]=r.value)}))}if(e.data){var r=n.data={};Object.keys(t.data).forEach((n=>{const i=t.data[n];e.data(n,i)&&(r[n]=i.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((t=>t.getState(e)))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,a=e.signals;Object.keys(a||{}).forEach((e=>{n.update(t.signals[e],a[e],d)})),Object.keys(r||{}).forEach((e=>{n.pulse(t.data[e].input,n.changeset().remove(i.yb).insert(r[e]))})),(e.subcontext||[]).forEach(((e,n)=>{const i=t.subcontext[n];i&&i.setState(e)}))}}},87180:(e,t,n)=>{"use strict";n.d(t,{qm:()=>o.O,td:()=>j,a7:()=>z,QZ:()=>R,Aq:()=>be,bJ:()=>k,Zb:()=>O,r7:()=>T,E9:()=>P,pe:()=>D,cO:()=>S,J$:()=>B,sb:()=>M,FK:()=>E,UX:()=>ye,PB:()=>F,Ms:()=>Z,qp:()=>$,zR:()=>C,U6:()=>A,A_:()=>Pe,sX:()=>de,Nz:()=>le,ST:()=>ue,z2:()=>te,lK:()=>ne,WE:()=>ie,hC:()=>ae,dh:()=>re,W1:()=>oe,dx:()=>Q,n7:()=>Ce,cA:()=>Te,PL:()=>$e,u1:()=>fe,bA:()=>K,NR:()=>ce,rC:()=>ge,QL:()=>we,uk:()=>Oe,DP:()=>ke,bX:()=>Ae});var i=n(48823),r=n(52569),a=n(98956),o=n(94194),s=n(6847),u=n(70920),l=n(61131),f=n(43228),c=n(21313),d=n(23530),h=n(4963),p=n(67),m=n(78834),g=n(94144),y=n(34543),b=n(64143),v=n(80715),x=n(23413),_=n(30108),w=n(73093);function A(e,t,n){const i=e-t+2*n;return e?i>0?i:1:0}const k="linear",O="log",D="pow",E="sqrt",F="symlog",$="time",C="utc",M="sequential",R="diverging",S="quantile",B="quantize",Z="threshold",T="ordinal",P="point",j="band",z="bin-ordinal",q="continuous",N="discrete",U="discretizing",L="interpolating",I="temporal";function W(){const e=(0,o.Z)().unknown(void 0),t=e.domain,n=e.range;let i,s,u=[0,1],l=!1,f=0,c=0,d=.5;function h(){const e=t().length,a=u[1]<u[0],o=u[1-a],h=A(e,f,c);let p=u[a-0];i=(o-p)/(h||1),l&&(i=Math.floor(i)),p+=(o-p-i*(e-f))*d,s=i*(1-f),l&&(p=Math.round(p),s=Math.round(s));const m=(0,r.Z)(e).map((e=>p+i*e));return n(a?m.reverse():m)}return delete e.unknown,e.domain=function(e){return arguments.length?(t(e),h()):t()},e.range=function(e){return arguments.length?(u=[+e[0],+e[1]],h()):u.slice()},e.rangeRound=function(e){return u=[+e[0],+e[1]],l=!0,h()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(e){return arguments.length?(l=!!e,h()):l},e.padding=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),f=c,h()):f},e.paddingInner=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),h()):f},e.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),h()):c},e.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),h()):d},e.invertRange=function(e){if(null==e[0]||null==e[1])return;const i=u[1]<u[0],r=i?n().reverse():n(),o=r.length-1;let l,f,c,d=+e[0],h=+e[1];return d!=d||h!=h||(h<d&&(c=d,d=h,h=c),h<r[0]||d>u[1-i])?void 0:(l=Math.max(0,(0,a.ml)(r,d)-1),f=d===h?l:(0,a.ml)(r,h)-1,d-r[l]>s+1e-10&&++l,i&&(c=l,l=o-f,f=o-c),l>f?void 0:t().slice(l,f+1))},e.invert=function(t){const n=e.invertRange([t,t]);return n?n[0]:n},e.copy=function(){return W().domain(t()).range(u).round(l).paddingInner(f).paddingOuter(c).align(d)},h()}function X(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return X(t())},e}var V=Array.prototype.map;function H(e){return V.call(e,i.He)}const J=Array.prototype.slice,Y={};function G(e,t,n){const r=function(){const n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){let n,i=t[0],r=t[1];return r<i&&(n=i,i=r,r=n),[e.invert(i),e.invert(r)]}}(n):n.invertExtent?function(e){return function(t){const n=e.range();let i,r,a,o,s=t[0],u=t[1],l=-1;for(u<s&&(r=s,s=u,u=r),a=0,o=n.length;a<o;++a)n[a]>=s&&n[a]<=u&&(l<0&&(l=a),i=a);if(!(l<0))return s=e.invertExtent(n[l]),u=e.invertExtent(n[i]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}}(n):void 0),n.type=e,n};return r.metadata=(0,i.Rg)((0,i.IX)(n)),r}function K(e,t,n){return arguments.length>1?(Y[e]=G(e,t,n),this):Q(e)?Y[e]:void 0}function Q(e){return(0,i.nr)(Y,e)}function ee(e,t){const n=Y[e];return n&&n.metadata[t]}function te(e){return ee(e,q)}function ne(e){return ee(e,N)}function ie(e){return ee(e,U)}function re(e){return ee(e,O)}function ae(e){return ee(e,L)}function oe(e){return ee(e,S)}K("identity",u.Z),K(k,l.Z,q),K(O,f.Z,[q,O]),K(D,c.ZP,q),K(E,c._b,q),K(F,d.Z,q),K($,h.Z,[q,I]),K(C,p.Z,[q,I]),K(M,m.ZP,[q,L]),K("".concat(M,"-").concat(k),m.ZP,[q,L]),K("".concat(M,"-").concat(O),m.S5,[q,L,O]),K("".concat(M,"-").concat(D),m.UN,[q,L]),K("".concat(M,"-").concat(E),m.L2,[q,L]),K("".concat(M,"-").concat(F),m.cV,[q,L]),K("".concat(R,"-").concat(k),g.ZP,[q,L]),K("".concat(R,"-").concat(O),g.QA,[q,L,O]),K("".concat(R,"-").concat(D),g.ld,[q,L]),K("".concat(R,"-").concat(E),g.Km,[q,L]),K("".concat(R,"-").concat(F),g.UM,[q,L]),K(S,y.Z,[U,S]),K(B,b.Z,U),K(Z,v.Z,U),K(z,(function e(){let t=[],n=[];function r(e){return null==e||e!=e?void 0:n[((0,a.ZP)(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=H(e),r):t.slice()},r.range=function(e){return arguments.length?(n=J.call(e),r):n.slice()},r.tickFormat=function(e,n){return(0,s.Z)(t[0],(0,i.fj)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[N,U]),K(T,o.Z,N),K(j,W,N),K(P,(function(){return X(W().paddingInner(1))}),N);const se=["clamp","base","constant","exponent"];function ue(e,t){const n=t[0],r=(0,i.fj)(t)-n;return function(t){return e(n+t*r)}}function le(e,t,n){return(0,_.Z)(de(t||"rgb",n),e)}function fe(e,t){const n=new Array(t),i=t+1;for(let r=0;r<t;)n[r]=e(++r/i);return n}function ce(e,t,n){const r=n-t;let a,o,s;return r&&Number.isFinite(r)?(a=(o=e.type).indexOf("-"),o=a<0?o:o.slice(a+1),s=K(o)().domain([t,n]).range([0,1]),se.forEach((t=>e[t]?s[t](e[t]()):0)),s):(0,i.a9)(.5)}function de(e,t){const n=x[function(e){return"interpolate"+e.toLowerCase().split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function he(e){const t=e.length/6|0,n=new Array(t);for(let i=0;i<t;)n[i]="#"+e.slice(6*i,6*++i);return n}function pe(e,t){for(const n in e)ge(n,t(e[n]))}const me={};function ge(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(me[e]=t,this):me[e]}pe({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},he),pe({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(e=>le(he(e))));const ye="symbol",be="gradient",ve=e=>(0,i.kJ)(e)?e.map((e=>String(e))):String(e),xe=(e,t)=>e[1]-t[1],_e=(e,t)=>t[1]-e[1];function we(e,t,n){let r;return(0,i.hj)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor((0,i.yP)(e.domain())/n||1)))),(0,i.Kn)(t)&&(r=t.step,t=t.interval),(0,i.HD)(t)&&(t=e.type===$?(0,w.JZ)(t):e.type==C?(0,w.zr)(t):(0,i.vU)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function Ae(e,t,n){let r=e.range(),a=r[0],o=(0,i.fj)(r),s=xe;if(a>o&&(r=o,o=a,a=r,s=_e),a=Math.floor(a),o=Math.ceil(o),t=t.map((t=>[t,e(t)])).filter((e=>a<=e[1]&&e[1]<=o)).sort(s).map((e=>e[0])),n>0&&t.length>1){const e=[t[0],(0,i.fj)(t)];for(;t.length>n&&t.length>=3;)t=t.filter(((e,t)=>!(t%2)));t.length<3&&(t=e)}return t}function ke(e,t){return e.bins?Ae(e,e.bins):e.ticks?e.ticks(t):e.domain()}function Oe(e,t,n,i,r,a){const o=t.type;let s=ve;if(o===$||r===$)s=e.timeFormat(i);else if(o===C||r===C)s=e.utcFormat(i);else if(re(o)){const r=e.formatFloat(i);if(a||t.bins)s=r;else{const e=De(t,n,!1);s=t=>e(t)?r(t):""}}else if(t.tickFormat){const r=t.domain();s=e.formatSpan(r[0],r[r.length-1],n,i)}else i&&(s=e.format(i));return s}function De(e,t,n){const i=ke(e,t),r=e.base(),a=Math.log(r),o=Math.max(1,r*t/i.length),s=e=>{let t=e/Math.pow(r,Math.round(Math.log(e)/a));return t*r<r-.5&&(t*=r),t<=o};return n?i.filter(s):s}const Ee={[S]:"quantiles",[B]:"thresholds",[Z]:"domain"},Fe={[S]:"quantiles",[B]:"domain"};function $e(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=(0,i.fj)(e),t}(e.bins):e.type===O?De(e,t,!0):Ee[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[Ee[e.type]]()):ke(e,t)}function Ce(e,t,n,i,r,a,o){const s=Fe[t.type]&&a!==$&&a!==C?function(e,t,n){const i=t[Fe[t.type]](),r=i.length;let a,o=r>1?i[1]-i[0]:i[0];for(a=1;a<r;++a)o=Math.min(o,i[a]-i[a-1]);return e.formatSpan(0,o,30,n)}(e,t,r):Oe(e,t,n,r,a,o);return i===ye&&(e=>Ee[e.type]||e.bins)(t)?Me(s):"discrete"===i?Se(s):Be(s)}const Me=e=>(t,n,i)=>{const r=Re(i[n+1],Re(i.max,1/0)),a=Ze(t,e),o=Ze(r,e);return a&&o?a+" – "+o:o?"< "+o:"≥ "+a},Re=(e,t)=>null!=e?e:t,Se=e=>(t,n)=>n?e(t):null,Be=e=>t=>e(t),Ze=(e,t)=>Number.isFinite(e)?t(e):null;function Te(e){const t=e.domain(),n=t.length-1;let r=+t[0],a=+(0,i.fj)(t),o=a-r;if(e.type===Z){const e=n?o/n:.1;r-=e,a+=e,o=a-r}return e=>(e-r)/o}function Pe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),a=function(e,t,n,r){const a=r||t.type;return(0,i.HD)(n)&&ee(a,I)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||a!==$?n||a!==C?Ce(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,n.format,n.formatType);if(ie(t.type)){const e=$e(t).slice(1).map(a),n=e.length;return"".concat(n," boundar").concat(1===n?"y":"ies",": ").concat(e.join(", "))}if(ne(t.type)){const e=t.domain(),n=e.length,i=n>r?e.slice(0,r-2).map(a).join(", ")+", ending with "+e.slice(-1).map(a):e.map(a).join(", ");return"".concat(n," value").concat(1===n?"":"s",": ").concat(i)}{const e=t.domain();return"values from ".concat(a(e[0])," to ").concat(a((0,i.fj)(e)))}}},58511:(e,t,n)=>{"use strict";function i(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:()=>i})},98956:(e,t,n)=>{"use strict";n.d(t,{ml:()=>s,ZP:()=>u});var i=n(58511),r=n(85238),a=n(15605);const o=(0,r.Z)(i.Z),s=o.right,u=(o.left,(0,r.Z)(a.Z).center,s)},85238:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(58511);function r(e){let t=e,n=e;function r(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const a=i+r>>>1;n(e[a],t)<0?i=a+1:r=a}return i}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>(0,i.Z)(e(t),n)}(e)),{left:r,center:function(e,n,i,a){null==i&&(i=0),null==a&&(a=e.length);const o=r(e,n,i,a-1);return o>i&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const a=i+r>>>1;n(e[a],t)>0?r=a:i=a+1}return i}}}},15605:(e,t,n)=>{"use strict";function i(e){return null===e?NaN:+e}n.d(t,{Z:()=>i})},57652:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var i=n(15605);function r(e,t,n=i.Z){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,o=Math.floor(a),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(a-o)}}},52569:(e,t,n)=>{"use strict";function i(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(r);++i<r;)a[i]=e+i*n;return a}n.d(t,{Z:()=>i})},31567:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>o,G9:()=>s,ly:()=>u});var i=Math.sqrt(50),r=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){var i,r,a,o,u=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(o=s(e,t,n))||!isFinite(o))return[];if(o>0){let n=Math.round(e/o),i=Math.round(t/o);for(n*o<e&&++n,i*o>t&&--i,a=new Array(r=i-n+1);++u<r;)a[u]=(n+u)*o}else{o=-o;let n=Math.round(e*o),i=Math.round(t*o);for(n/o<e&&++n,i/o>t&&--i,a=new Array(r=i-n+1);++u<r;)a[u]=(n+u)/o}return i&&a.reverse(),a}function s(e,t,n){var o=(t-e)/Math.max(0,n),s=Math.floor(Math.log(o)/Math.LN10),u=o/Math.pow(10,s);return s>=0?(u>=i?10:u>=r?5:u>=a?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=i?10:u>=r?5:u>=a?2:1)}function u(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/s;return u>=i?s*=10:u>=r?s*=5:u>=a&&(s*=2),t<e?-s:s}},70129:(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.d(t,{Z:()=>i})},49565:(e,t,n)=>{"use strict";n.d(t,{yR:()=>f,JG:()=>p,l4:()=>m,ZP:()=>g});var i=n(98956),r=n(81265),a=n(73626),o=n(55720),s=n(70129),u=n(87),l=[0,1];function f(e){return e}function c(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(0,s.Z)(isNaN(t)?NaN:.5)}function d(e,t,n){var i=e[0],r=e[1],a=t[0],o=t[1];return r<i?(i=c(r,i),a=n(o,a)):(i=c(i,r),a=n(a,o)),function(e){return a(i(e))}}function h(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=c(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=(0,i.ZP)(e,t,1,r)-1;return o[n](a[n](t))}}function p(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function m(){var e,t,n,i,s,c,p=l,m=l,g=r.Z,y=f;function b(){var e,t,n,r=Math.min(p.length,m.length);return y!==f&&(e=p[0],t=p[r-1],e>t&&(n=e,e=t,t=n),y=function(n){return Math.max(e,Math.min(t,n))}),i=r>2?h:d,s=c=null,v}function v(t){return null==t||isNaN(t=+t)?n:(s||(s=i(p.map(e),m,g)))(e(y(t)))}return v.invert=function(n){return y(t((c||(c=i(m,p.map(e),a.Z)))(n)))},v.domain=function(e){return arguments.length?(p=Array.from(e,u.Z),b()):p.slice()},v.range=function(e){return arguments.length?(m=Array.from(e),b()):m.slice()},v.rangeRound=function(e){return m=Array.from(e),g=o.Z,b()},v.clamp=function(e){return arguments.length?(y=!!e||f,b()):y!==f},v.interpolate=function(e){return arguments.length?(g=e,b()):g},v.unknown=function(e){return arguments.length?(n=e,v):n},function(n,i){return e=n,t=i,b()}}function g(){return m()(f,f)}},94144:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p,QA:()=>m,UM:()=>g,ld:()=>y,Km:()=>b});var i=n(30108),r=n(81265),a=n(55720),o=n(49565),s=n(21843),u=n(61131),l=n(43228),f=n(78834),c=n(23530),d=n(21313);function h(){var e,t,n,s,u,l,f,c=0,d=.5,h=1,p=1,m=o.yR,g=!1;function y(e){return isNaN(e=+e)?f:(e=.5+((e=+l(e))-t)*(p*e<p*t?s:u),m(g?Math.max(0,Math.min(1,e)):e))}function b(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,m=(0,i.Z)(e,[n,r,a]),y):[m(0),m(.5),m(1)]}}return y.domain=function(i){return arguments.length?([c,d,h]=i,e=l(c=+c),t=l(d=+d),n=l(h=+h),s=e===t?0:.5/(t-e),u=t===n?0:.5/(n-t),p=t<e?-1:1,y):[c,d,h]},y.clamp=function(e){return arguments.length?(g=!!e,y):g},y.interpolator=function(e){return arguments.length?(m=e,y):m},y.range=b(r.Z),y.rangeRound=b(a.Z),y.unknown=function(e){return arguments.length?(f=e,y):f},function(i){return l=i,e=i(c),t=i(d),n=i(h),s=e===t?0:.5/(t-e),u=t===n?0:.5/(n-t),p=t<e?-1:1,y}}function p(){var e=(0,u.Q)(h()(o.yR));return e.copy=function(){return(0,f.JG)(e,p())},s.O.apply(e,arguments)}function m(){var e=(0,l.Q)(h()).domain([.1,1,10]);return e.copy=function(){return(0,f.JG)(e,m()).base(e.base())},s.O.apply(e,arguments)}function g(){var e=(0,c.P)(h());return e.copy=function(){return(0,f.JG)(e,g()).constant(e.constant())},s.O.apply(e,arguments)}function y(){var e=(0,d.Hh)(h());return e.copy=function(){return(0,f.JG)(e,y()).exponent(e.exponent())},s.O.apply(e,arguments)}function b(){return y.apply(null,arguments).exponent(.5)}},70920:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(61131),r=n(87);function a(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,r.Z),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return a(e).unknown(t)},e=arguments.length?Array.from(e,r.Z):[0,1],(0,i.Q)(n)}},21843:(e,t,n)=>{"use strict";function i(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function r(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}n.d(t,{o:()=>i,O:()=>r})},61131:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s,Z:()=>u});var i=n(31567),r=n(49565),a=n(21843),o=n(6847);function s(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,i.ZP)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return(0,o.Z)(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,o=t(),s=0,u=o.length-1,l=o[s],f=o[u],c=10;for(f<l&&(a=l,l=f,f=a,a=s,s=u,u=a);c-- >0;){if((a=(0,i.G9)(l,f,n))===r)return o[s]=l,o[u]=f,t(o);if(a>0)l=Math.floor(l/a)*a,f=Math.ceil(f/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,f=Math.floor(f*a)/a}r=a}return e},e}function u(){var e=(0,r.ZP)();return e.copy=function(){return(0,r.JG)(e,u())},a.o.apply(e,arguments),s(e)}},43228:(e,t,n)=>{"use strict";n.d(t,{Q:()=>p,Z:()=>m});var i=n(31567),r=n(47539),a=n(35871),o=n(49565),s=n(21843);function u(e){return Math.log(e)}function l(e){return Math.exp(e)}function f(e){return-Math.log(-e)}function c(e){return-Math.exp(-e)}function d(e){return isFinite(e)?+("1e"+e):e<0?0:e}function h(e){return function(t){return-e(-t)}}function p(e){var t,n,o=e(u,l),s=o.domain,p=10;function m(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(p),n=function(e){return 10===e?d:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(p),s()[0]<0?(t=h(t),n=h(n),e(f,c)):e(u,l),o}return o.base=function(e){return arguments.length?(p=+e,m()):p},o.domain=function(e){return arguments.length?(s(e),m()):s()},o.ticks=function(e){var r,a=s(),o=a[0],u=a[a.length-1];(r=u<o)&&(d=o,o=u,u=d);var l,f,c,d=t(o),h=t(u),m=null==e?10:+e,g=[];if(!(p%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(f=1,l=n(d);f<p;++f)if(!((c=l*f)<o)){if(c>u)break;g.push(c)}}else for(;d<=h;++d)for(f=p-1,l=n(d);f>=1;--f)if(!((c=l*f)<o)){if(c>u)break;g.push(c)}2*g.length<m&&(g=(0,i.ZP)(o,u,m))}else g=(0,i.ZP)(d,h,Math.min(h-d,m)).map(n);return r?g.reverse():g},o.tickFormat=function(e,i){if(null==i&&(i=10===p?".0e":","),"function"!=typeof i&&(i=(0,r.WU)(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,p*e/o.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*p<p-.5&&(r*=p),r<=a?i(e):""}},o.nice=function(){return s((0,a.Z)(s(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},o}function m(){var e=p((0,o.l4)()).domain([1,10]);return e.copy=function(){return(0,o.JG)(e,m()).base(e.base())},s.o.apply(e,arguments),e}},35871:(e,t,n)=>{"use strict";function i(e,t){var n,i=0,r=(e=e.slice()).length-1,a=e[i],o=e[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),e[i]=t.floor(a),e[r]=t.ceil(o),e}n.d(t,{Z:()=>i})},87:(e,t,n)=>{"use strict";function i(e){return+e}n.d(t,{Z:()=>i})},94194:(e,t,n)=>{"use strict";n.d(t,{O:()=>r,Z:()=>a});var i=n(21843);const r=Symbol("implicit");function a(){var e=new Map,t=[],n=[],o=r;function s(i){var a=i+"",s=e.get(a);if(!s){if(o!==r)return o;e.set(a,s=t.push(i))}return n[(s-1)%n.length]}return s.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const i of n){const n=i+"";e.has(n)||e.set(n,t.push(i))}return s},s.range=function(e){return arguments.length?(n=Array.from(e),s):n.slice()},s.unknown=function(e){return arguments.length?(o=e,s):o},s.copy=function(){return a(t,n).unknown(o)},i.o.apply(s,arguments),s}},21313:(e,t,n)=>{"use strict";n.d(t,{Hh:()=>l,ZP:()=>f,_b:()=>c});var i=n(61131),r=n(49565),a=n(21843);function o(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function s(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function u(e){return e<0?-e*e:e*e}function l(e){var t=e(r.yR,r.yR),n=1;function a(){return 1===n?e(r.yR,r.yR):.5===n?e(s,u):e(o(n),o(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,a()):n},(0,i.Q)(t)}function f(){var e=l((0,r.l4)());return e.copy=function(){return(0,r.JG)(e,f()).exponent(e.exponent())},a.o.apply(e,arguments),e}function c(){return f.apply(null,arguments).exponent(.5)}},34543:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(57652),r=n(98956),a=n(58511),o=n(21843);function s(){var e,t=[],n=[],u=[];function l(){var e=0,r=Math.max(1,n.length);for(u=new Array(r-1);++e<r;)u[e-1]=(0,i.s)(t,e/r);return f}function f(t){return null==t||isNaN(t=+t)?e:n[(0,r.ZP)(u,t)]}return f.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?u[i-1]:t[0],i<u.length?u[i]:t[t.length-1]]},f.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(a.Z),l()},f.range=function(e){return arguments.length?(n=Array.from(e),l()):n.slice()},f.unknown=function(t){return arguments.length?(e=t,f):e},f.quantiles=function(){return u.slice()},f.copy=function(){return s().domain(t).range(n).unknown(e)},o.o.apply(f,arguments)}},64143:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(98956),r=n(61131),a=n(21843);function o(){var e,t=0,n=1,s=1,u=[.5],l=[0,1];function f(t){return null!=t&&t<=t?l[(0,i.ZP)(u,t,0,s)]:e}function c(){var e=-1;for(u=new Array(s);++e<s;)u[e]=((e+1)*n-(e-s)*t)/(s+1);return f}return f.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,c()):[t,n]},f.range=function(e){return arguments.length?(s=(l=Array.from(e)).length-1,c()):l.slice()},f.invertExtent=function(e){var i=l.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,u[0]]:i>=s?[u[s-1],n]:[u[i-1],u[i]]},f.unknown=function(t){return arguments.length?(e=t,f):f},f.thresholds=function(){return u.slice()},f.copy=function(){return o().domain([t,n]).range(l).unknown(e)},a.o.apply((0,r.Q)(f),arguments)}},78834:(e,t,n)=>{"use strict";n.d(t,{JG:()=>d,ZP:()=>h,S5:()=>p,cV:()=>m,UN:()=>g,L2:()=>y});var i=n(81265),r=n(55720),a=n(49565),o=n(21843),s=n(61131),u=n(43228),l=n(23530),f=n(21313);function c(){var e,t,n,o,s,u=0,l=1,f=a.yR,c=!1;function d(t){return null==t||isNaN(t=+t)?s:f(0===n?.5:(t=(o(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function h(e){return function(t){var n,i;return arguments.length?([n,i]=t,f=e(n,i),d):[f(0),f(1)]}}return d.domain=function(i){return arguments.length?([u,l]=i,e=o(u=+u),t=o(l=+l),n=e===t?0:1/(t-e),d):[u,l]},d.clamp=function(e){return arguments.length?(c=!!e,d):c},d.interpolator=function(e){return arguments.length?(f=e,d):f},d.range=h(i.Z),d.rangeRound=h(r.Z),d.unknown=function(e){return arguments.length?(s=e,d):s},function(i){return o=i,e=i(u),t=i(l),n=e===t?0:1/(t-e),d}}function d(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function h(){var e=(0,s.Q)(c()(a.yR));return e.copy=function(){return d(e,h())},o.O.apply(e,arguments)}function p(){var e=(0,u.Q)(c()).domain([1,10]);return e.copy=function(){return d(e,p()).base(e.base())},o.O.apply(e,arguments)}function m(){var e=(0,l.P)(c());return e.copy=function(){return d(e,m()).constant(e.constant())},o.O.apply(e,arguments)}function g(){var e=(0,f.Hh)(c());return e.copy=function(){return d(e,g()).exponent(e.exponent())},o.O.apply(e,arguments)}function y(){return g.apply(null,arguments).exponent(.5)}},23530:(e,t,n)=>{"use strict";n.d(t,{P:()=>u,Z:()=>l});var i=n(61131),r=n(49565),a=n(21843);function o(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function s(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u(e){var t=1,n=e(o(t),s(t));return n.constant=function(n){return arguments.length?e(o(t=+n),s(t)):t},(0,i.Q)(n)}function l(){var e=u((0,r.l4)());return e.copy=function(){return(0,r.JG)(e,l()).constant(e.constant())},a.o.apply(e,arguments)}},80715:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(98956),r=n(21843);function a(){var e,t=[.5],n=[0,1],o=1;function s(r){return null!=r&&r<=r?n[(0,i.ZP)(t,r,0,o)]:e}return s.domain=function(e){return arguments.length?(t=Array.from(e),o=Math.min(t.length,n.length-1),s):t.slice()},s.range=function(e){return arguments.length?(n=Array.from(e),o=Math.min(t.length,n.length-1),s):n.slice()},s.invertExtent=function(e){var i=n.indexOf(e);return[t[i-1],t[i]]},s.unknown=function(t){return arguments.length?(e=t,s):e},s.copy=function(){return a().domain(t).range(n).unknown(e)},r.o.apply(s,arguments)}},6847:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(31567),r=n(46196),a=n(53726),o=n(47539),s=n(37655),u=n(68195);function l(e,t,n,l){var f,c=(0,i.ly)(e,t,n);switch((l=(0,r.Z)(null==l?",f":l)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(t));return null!=l.precision||isNaN(f=(0,a.Z)(c,d))||(l.precision=f),(0,o.jH)(l,d);case"":case"e":case"g":case"p":case"r":null!=l.precision||isNaN(f=(0,s.Z)(c,Math.max(Math.abs(e),Math.abs(t))))||(l.precision=f-("e"===l.type));break;case"f":case"%":null!=l.precision||isNaN(f=(0,u.Z)(c))||(l.precision=f-2*("%"===l.type))}return(0,o.WU)(l)}},4963:(e,t,n)=>{"use strict";n.d(t,{Y:()=>y,Z:()=>b});var i=n(41955),r=n(82209),a=n(4584),o=n(22776),s=n(69478),u=n(42784),l=n(7197),f=n(15086),c=n(90317),d=n(49565),h=n(21843),p=n(35871);function m(e){return new Date(e)}function g(e){return e instanceof Date?+e:+new Date(+e)}function y(e,t,n,i,r,a,o,s,u,l){var f=(0,d.ZP)(),c=f.invert,h=f.domain,b=l(".%L"),v=l(":%S"),x=l("%I:%M"),_=l("%I %p"),w=l("%a %d"),A=l("%b %d"),k=l("%B"),O=l("%Y");function D(e){return(u(e)<e?b:s(e)<e?v:o(e)<e?x:a(e)<e?_:i(e)<e?r(e)<e?w:A:n(e)<e?k:O)(e)}return f.invert=function(e){return new Date(c(e))},f.domain=function(e){return arguments.length?h(Array.from(e,g)):h().map(m)},f.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},f.tickFormat=function(e,t){return null==t?D:l(t)},f.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h((0,p.Z)(n,e)):f},f.copy=function(){return(0,d.JG)(f,y(e,t,n,i,r,a,o,s,u,l))},f}function b(){return h.o.apply(y(i.jK,i._g,r.Z,a.Z,o.OM,s.Z,u.Z,l.Z,f.Z,c.i$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},67:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(41955),r=n(31181),a=n(47512),o=n(97326),s=n(89692),u=n(60590),l=n(74878),f=n(15086),c=n(90317),d=n(4963),h=n(21843);function p(){return h.o.apply((0,d.Y)(i.WG,i.jo,r.Z,a.Z,o.Ox,s.Z,u.Z,l.Z,f.Z,c.g0).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}},38940:(e,t,n)=>{"use strict";n.d(t,{YZ:()=>Oe,fd:()=>ai,uK:()=>fi,ph:()=>R,MN:()=>Ee,RW:()=>qn,ck:()=>De,zT:()=>kn,y2:()=>Gi,Th:()=>Un,hZ:()=>Fe,H_:()=>di,uM:()=>Ti,Xh:()=>Yi,Yo:()=>Rn,bs:()=>ar,I_:()=>Je,of:()=>On,Ui:()=>En,Hz:()=>Me,D2:()=>Tn,d7:()=>Pn,$9:()=>Bn,nz:()=>Zn,LZ:()=>gn,I8:()=>mn,JB:()=>fn,wf:()=>er,jy:()=>ot,n8:()=>nt,Pk:()=>it,VC:()=>at,Nv:()=>cn,ND:()=>$i,N_:()=>hn,NV:()=>B,C7:()=>sr,LY:()=>P,LP:()=>se,dW:()=>H,cb:()=>K,Xs:()=>ue,xm:()=>zn,fS:()=>Qi,le:()=>Ae,Y7:()=>ur,M7:()=>or,Eu:()=>Cn,mI:()=>bt,kd:()=>$n,X4:()=>yt,jE:()=>gt,mS:()=>Ci,Zd:()=>rn});var i=n(48823),r=n(67829),a=n(79938),o=n(99717),s=n(24849),u=n(97018),l=n(55669),f=n(85200),c=n(79039),d=n(68286),h=n(33506),p=n(18143),m=n(57481),g=n(65165),y=n(56732),b=n(77059),v=n(10233),x=n(37633),_=n(25049),w=n(77553),A=n(11108),k=n(17786),O=n(92987),D=n(87180);let E=0;const F="p_";function $(e){return e&&e.gradient}function C(e,t,n){const i=e.gradient;let r=e.id,a="radial"===i?F:"";return r||(r=e.id="gradient_"+E++,"radial"===i?(e.x1=M(e.x1,.5),e.y1=M(e.y1,.5),e.r1=M(e.r1,0),e.x2=M(e.x2,.5),e.y2=M(e.y2,.5),e.r2=M(e.r2,.5),a=F):(e.x1=M(e.x1,0),e.y1=M(e.y1,0),e.x2=M(e.x2,1),e.y2=M(e.y2,0))),t[r]=e,"url("+(n||"")+"#"+a+r+")"}function M(e,t){return null!=e?e:t}function R(e,t){var n,i=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:i,stop:function(e,t){return i.push({offset:e,color:t}),n}}}const S={basis:{curve:r.ZP},"basis-closed":{curve:a.Z},"basis-open":{curve:o.Z},bundle:{curve:s.Z,tension:"beta",value:.85},cardinal:{curve:u.ZP,tension:"tension",value:0},"cardinal-open":{curve:l.Z,tension:"tension",value:0},"cardinal-closed":{curve:f.Z,tension:"tension",value:0},"catmull-rom":{curve:c.Z,tension:"alpha",value:.5},"catmull-rom-closed":{curve:d.Z,tension:"alpha",value:.5},"catmull-rom-open":{curve:h.Z,tension:"alpha",value:.5},linear:{curve:p.Z},"linear-closed":{curve:m.Z},monotone:{horizontal:g.s,vertical:g.Z},natural:{curve:y.Z},step:{curve:b.ZP},"step-after":{curve:b.cD},"step-before":{curve:b.RN}};function B(e,t,n){var r=(0,i.nr)(S,e)&&S[e],a=null;return r&&(a=r.curve||r[t||"vertical"],r.tension&&null!=n&&(a=a[r.tension](n))),a}const Z={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},T=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function P(e){const t=[];let n,i,r,a,o,s,u,l,f,c;const d=e.slice().replace(T[0],"###$1").split(T[1]).slice(1);for(u=0,f=d.length;u<f;++u){for(n=d[u],i=n.slice(1).trim().replace(T[2],"$1###$2").replace(T[3],"$1###$2").split(T[4]),o=n.charAt(0),r=[o],l=0,c=i.length;l<c;++l)(a=+i[l])===a&&r.push(a);if(s=Z[o.toLowerCase()],r.length-1>s){const e=r.length;for(l=1,t.push([o].concat(r.slice(l,l+=s))),o="M"===o?"L":"m"===o?"l":o;l<e;l+=s)t.push([o].concat(r.slice(l,l+s)))}else t.push(r)}return t}const j=Math.PI/180,z=Math.PI/2,q=2*Math.PI,N=Math.sqrt(3)/2;var U={},L={},I=[].join;function W(e){const t=I.call(e);if(L[t])return L[t];var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7];const f=l*o,c=-u*s,d=u*o,h=l*s,p=Math.cos(r),m=Math.sin(r),g=Math.cos(a),y=Math.sin(a),b=.5*(a-r),v=Math.sin(.5*b),x=8/3*v*v/Math.sin(b),_=n+p-x*m,w=i+m+x*p,A=n+g,k=i+y,O=A+x*y,D=k-x*g;return L[t]=[f*_+c*w,d*_+h*w,f*O+c*D,d*O+h*D,f*A+c*k,d*A+h*k]}const X=["l",0,0,0,0,0,0,0];function V(e,t,n){const i=X[0]=e[0];if("a"===i||"A"===i)X[1]=t*e[1],X[2]=n*e[2],X[3]=e[3],X[4]=e[4],X[5]=e[5],X[6]=t*e[6],X[7]=n*e[7];else if("h"===i||"H"===i)X[1]=t*e[1];else if("v"===i||"V"===i)X[1]=n*e[1];else for(var r=1,a=e.length;r<a;++r)X[r]=(r%2==1?t:n)*e[r];return X}function H(e,t,n,i,r,a){var o,s,u,l,f,c=null,d=0,h=0,p=0,m=0;null==n&&(n=0),null==i&&(i=0),null==r&&(r=1),null==a&&(a=r),e.beginPath&&e.beginPath();for(var g=0,y=t.length;g<y;++g){switch(o=t[g],1===r&&1===a||(o=V(o,r,a)),o[0]){case"l":d+=o[1],h+=o[2],e.lineTo(d+n,h+i);break;case"L":d=o[1],h=o[2],e.lineTo(d+n,h+i);break;case"h":d+=o[1],e.lineTo(d+n,h+i);break;case"H":d=o[1],e.lineTo(d+n,h+i);break;case"v":h+=o[1],e.lineTo(d+n,h+i);break;case"V":h=o[1],e.lineTo(d+n,h+i);break;case"m":d+=o[1],h+=o[2],e.moveTo(d+n,h+i);break;case"M":d=o[1],h=o[2],e.moveTo(d+n,h+i);break;case"c":s=d+o[5],u=h+o[6],p=d+o[3],m=h+o[4],e.bezierCurveTo(d+o[1]+n,h+o[2]+i,p+n,m+i,s+n,u+i),d=s,h=u;break;case"C":d=o[5],h=o[6],p=o[3],m=o[4],e.bezierCurveTo(o[1]+n,o[2]+i,p+n,m+i,d+n,h+i);break;case"s":s=d+o[3],u=h+o[4],p=2*d-p,m=2*h-m,e.bezierCurveTo(p+n,m+i,d+o[1]+n,h+o[2]+i,s+n,u+i),p=d+o[1],m=h+o[2],d=s,h=u;break;case"S":s=o[3],u=o[4],p=2*d-p,m=2*h-m,e.bezierCurveTo(p+n,m+i,o[1]+n,o[2]+i,s+n,u+i),d=s,h=u,p=o[1],m=o[2];break;case"q":s=d+o[3],u=h+o[4],p=d+o[1],m=h+o[2],e.quadraticCurveTo(p+n,m+i,s+n,u+i),d=s,h=u;break;case"Q":s=o[3],u=o[4],e.quadraticCurveTo(o[1]+n,o[2]+i,s+n,u+i),d=s,h=u,p=o[1],m=o[2];break;case"t":s=d+o[1],u=h+o[2],null===c[0].match(/[QqTt]/)?(p=d,m=h):"t"===c[0]?(p=2*d-l,m=2*h-f):"q"===c[0]&&(p=2*d-p,m=2*h-m),l=p,f=m,e.quadraticCurveTo(p+n,m+i,s+n,u+i),h=u,p=(d=s)+o[1],m=h+o[2];break;case"T":s=o[1],u=o[2],p=2*d-p,m=2*h-m,e.quadraticCurveTo(p+n,m+i,s+n,u+i),d=s,h=u;break;case"a":J(e,d+n,h+i,[o[1],o[2],o[3],o[4],o[5],o[6]+d+n,o[7]+h+i]),d+=o[6],h+=o[7];break;case"A":J(e,d+n,h+i,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+i]),d=o[6],h=o[7];break;case"z":case"Z":e.closePath()}c=o}}function J(e,t,n,i){const r=function(e,t,n,i,r,a,o,s,u){const l=I.call(arguments);if(U[l])return U[l];const f=o*j,c=Math.sin(f),d=Math.cos(f),h=d*(s-e)*.5+c*(u-t)*.5,p=d*(u-t)*.5-c*(s-e)*.5;let m=h*h/((n=Math.abs(n))*n)+p*p/((i=Math.abs(i))*i);m>1&&(m=Math.sqrt(m),n*=m,i*=m);const g=d/n,y=c/n,b=-c/i,v=d/i,x=g*s+y*u,_=b*s+v*u,w=g*e+y*t,A=b*e+v*t;let k=1/((w-x)*(w-x)+(A-_)*(A-_))-.25;k<0&&(k=0);let O=Math.sqrt(k);a==r&&(O=-O);const D=.5*(x+w)-O*(A-_),E=.5*(_+A)+O*(w-x),F=Math.atan2(_-E,x-D);let $=Math.atan2(A-E,w-D)-F;$<0&&1===a?$+=q:$>0&&0===a&&($-=q);const C=Math.ceil(Math.abs($/(z+.001))),M=[];for(let e=0;e<C;++e){const t=F+e*$/C,r=F+(e+1)*$/C;M[e]=[D,E,t,r,n,i,c,d]}return U[l]=M}(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,n);for(let t=0;t<r.length;++t){const n=W(r[t]);e.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}}const Y=.5773502691896257,G={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,q)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/2.5;e.moveTo(-n,-i),e.lineTo(-n,i),e.lineTo(-i,i),e.lineTo(-i,n),e.lineTo(i,n),e.lineTo(i,i),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(i,-i),e.lineTo(i,-n),e.lineTo(-i,-n),e.lineTo(-i,-i),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/7,r=n/2.5,a=n/8;e.moveTo(-i,n),e.lineTo(i,n),e.lineTo(i,-a),e.lineTo(r,-a),e.lineTo(0,-n),e.lineTo(-r,-a),e.lineTo(-i,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n,r=i-n*Y,a=n/4;e.moveTo(0,-i-r),e.lineTo(-a,i-r),e.lineTo(a,i-r),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n,r=i-n*Y;e.moveTo(0,-i-r),e.lineTo(-n,i-r),e.lineTo(n,i-r),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n;e.moveTo(0,-i),e.lineTo(-n,i),e.lineTo(n,i),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n;e.moveTo(0,i),e.lineTo(-n,-i),e.lineTo(n,-i),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n;e.moveTo(i,0),e.lineTo(-i,-n),e.lineTo(-i,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n;e.moveTo(-i,0),e.lineTo(i,-n),e.lineTo(i,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function K(e){return(0,i.nr)(G,e)?G[e]:function(e){if(!(0,i.nr)(Q,e)){const t=P(e);Q[e]={draw:function(e,n){H(e,t,0,0,Math.sqrt(n)/2)}}}return Q[e]}(e)}var Q={};const ee=.448084975506;function te(e){return e.x}function ne(e){return e.y}function ie(e){return e.width}function re(e){return e.height}function ae(e){return"function"==typeof e?e:()=>+e}function oe(e,t,n){return Math.max(t,Math.min(e,n))}function se(){var e=te,t=ne,n=ie,i=re,r=ae(0),a=r,o=r,s=r,u=null;function l(l,f,c){var d,h=null!=f?f:+e.call(this,l),p=null!=c?c:+t.call(this,l),m=+n.call(this,l),g=+i.call(this,l),y=Math.min(m,g)/2,b=oe(+r.call(this,l),0,y),v=oe(+a.call(this,l),0,y),x=oe(+o.call(this,l),0,y),_=oe(+s.call(this,l),0,y);if(u||(u=d=(0,A.Z)()),b<=0&&v<=0&&x<=0&&_<=0)u.rect(h,p,m,g);else{var w=h+m,k=p+g;u.moveTo(h+b,p),u.lineTo(w-v,p),u.bezierCurveTo(w-ee*v,p,w,p+ee*v,w,p+v),u.lineTo(w,k-_),u.bezierCurveTo(w,k-ee*_,w-ee*_,k,w-_,k),u.lineTo(h+x,k),u.bezierCurveTo(h+ee*x,k,h,k-ee*x,h,k-x),u.lineTo(h,p+b),u.bezierCurveTo(h,p+ee*b,h+ee*b,p,h+b,p),u.closePath()}if(d)return u=null,d+""||null}return l.x=function(t){return arguments.length?(e=ae(t),l):e},l.y=function(e){return arguments.length?(t=ae(e),l):t},l.width=function(e){return arguments.length?(n=ae(e),l):n},l.height=function(e){return arguments.length?(i=ae(e),l):i},l.cornerRadius=function(e,t,n,i){return arguments.length?(r=ae(e),a=null!=t?ae(t):r,s=null!=n?ae(n):r,o=null!=i?ae(i):a,l):r},l.context=function(e){return arguments.length?(u=null==e?null:e,l):u},l}function ue(){var e,t,n,i,r,a,o,s,u=null;function l(e,t,n){const i=n/2;if(r){var l=o-t,f=e-a;if(l||f){var c=Math.sqrt(l*l+f*f),d=(l/=c)*s,h=(f/=c)*s,p=Math.atan2(f,l);u.moveTo(a-d,o-h),u.lineTo(e-l*i,t-f*i),u.arc(e,t,i,p-Math.PI,p),u.lineTo(a+d,o+h),u.arc(a,o,s,p,p+Math.PI)}else u.arc(e,t,i,0,q);u.closePath()}else r=1;a=e,o=t,s=i}function f(a){var o,s,f,c=a.length,d=!1;for(null==u&&(u=f=(0,A.Z)()),o=0;o<=c;++o)!(o<c&&i(s=a[o],o,a))===d&&(d=!d)&&(r=0),d&&l(+e(s,o,a),+t(s,o,a),+n(s,o,a));if(f)return u=null,f+""||null}return f.x=function(t){return arguments.length?(e=t,f):e},f.y=function(e){return arguments.length?(t=e,f):t},f.size=function(e){return arguments.length?(n=e,f):n},f.defined=function(e){return arguments.length?(i=e,f):i},f.context=function(e){return arguments.length?(u=null==e?null:e,f):u},f}function le(e,t){return null!=e?e:t}const fe=e=>e.x||0,ce=e=>e.y||0,de=e=>!(!1===e.defined),he=(0,v.Z)().startAngle((e=>e.startAngle||0)).endAngle((e=>e.endAngle||0)).padAngle((e=>e.padAngle||0)).innerRadius((e=>e.innerRadius||0)).outerRadius((e=>e.outerRadius||0)).cornerRadius((e=>e.cornerRadius||0)),pe=(0,x.Z)().x(fe).y1(ce).y0((e=>(e.y||0)+(e.height||0))).defined(de),me=(0,x.Z)().y(ce).x1(fe).x0((e=>(e.x||0)+(e.width||0))).defined(de),ge=(0,_.Z)().x(fe).y(ce).defined(de),ye=se().x(fe).y(ce).width((e=>e.width||0)).height((e=>e.height||0)).cornerRadius((e=>le(e.cornerRadiusTopLeft,e.cornerRadius)||0),(e=>le(e.cornerRadiusTopRight,e.cornerRadius)||0),(e=>le(e.cornerRadiusBottomRight,e.cornerRadius)||0),(e=>le(e.cornerRadiusBottomLeft,e.cornerRadius)||0)),be=(0,w.Z)().type((e=>K(e.shape||"circle"))).size((e=>le(e.size,64))),ve=ue().x(fe).y(ce).defined(de).size((e=>e.size||1));function xe(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function _e(e,t,n,i){return ye.context(e)(t,n,i)}var we=1;function Ae(){we=1}function ke(e,t,n){var r=t.clip,a=e._defs,o=t.clip_id||(t.clip_id="clip"+we++),s=a.clipping[o]||(a.clipping[o]={id:o});return(0,i.mf)(r)?s.path=r(null):xe(n)?s.path=_e(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function Oe(e){this.clear(),e&&this.union(e)}function De(e){this.mark=e,this.bounds=this.bounds||new Oe}function Ee(e){De.call(this,e),this.items=this.items||[]}function Fe(e){this._pending=0,this._loader=e||(0,O._m)()}function $e(e){e._pending+=1}function Ce(e){e._pending-=1}function Me(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const i=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(i+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,i):0))}return e}Oe.prototype={clone(){return new Oe(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,i){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),i<t?(this.y2=t,this.y1=i):(this.y1=t,this.y2=i),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const i=this.rotatedPoints(e,t,n);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])},rotatedPoints(e,t,n){var{x1:i,y1:r,x2:a,y2:o}=this,s=Math.cos(e),u=Math.sin(e),l=t-t*s+n*u,f=n-t*u-n*s;return[s*i-u*r+l,u*i+s*r+f,s*i-u*o+l,u*i+s*o+f,s*a-u*r+l,u*a+s*r+f,s*a-u*o+l,u*a+s*o+f]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},(0,i.XW)(Ee,De),Fe.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return $e(t),t._loader.sanitize(e,{context:"href"}).then((e=>(Ce(t),e))).catch((()=>(Ce(t),null)))},loadImage(e){const t=this,n=(0,k.K)();return $e(t),t._loader.sanitize(e,{context:"image"}).then((e=>{const r=e.href;if(!r||!n)throw{url:r};const a=new n,o=(0,i.nr)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(a.crossOrigin=o),a.onload=()=>Ce(t),a.onerror=()=>Ce(t),a.src=r,a})).catch((e=>(Ce(t),{complete:!1,width:0,height:0,src:e&&e.url||""})))},ready(){const e=this;return new Promise((t=>{!function n(i){e.pending()?setTimeout((()=>{n(!0)}),10):t(i)}(!1)}))}};const Re=q-1e-8;let Se,Be,Ze,Te,Pe,je,ze,qe;const Ne=(e,t)=>Se.add(e,t),Ue=(e,t)=>Ne(Be=e,Ze=t),Le=e=>Ne(e,Se.y1),Ie=e=>Ne(Se.x1,e),We=(e,t)=>Pe*e+ze*t,Xe=(e,t)=>je*e+qe*t,Ve=(e,t)=>Ne(We(e,t),Xe(e,t)),He=(e,t)=>Ue(We(e,t),Xe(e,t));function Je(e,t){return Se=e,t?(Te=t*j,Pe=qe=Math.cos(Te),je=Math.sin(Te),ze=-je):(Pe=qe=1,Te=je=ze=0),Ye}const Ye={beginPath(){},closePath(){},moveTo:He,lineTo:He,rect(e,t,n,i){Te?(Ve(e+n,t),Ve(e+n,t+i),Ve(e,t+i),He(e,t)):(Ne(e+n,t+i),Ue(e,t))},quadraticCurveTo(e,t,n,i){const r=We(e,t),a=Xe(e,t),o=We(n,i),s=Xe(n,i);Ge(Be,r,o,Le),Ge(Ze,a,s,Ie),Ue(o,s)},bezierCurveTo(e,t,n,i,r,a){const o=We(e,t),s=Xe(e,t),u=We(n,i),l=Xe(n,i),f=We(r,a),c=Xe(r,a);Ke(Be,o,u,f,Le),Ke(Ze,s,l,c,Ie),Ue(f,c)},arc(e,t,n,i,r,a){if(i+=Te,r+=Te,Be=n*Math.cos(r)+e,Ze=n*Math.sin(r)+t,Math.abs(r-i)>Re)Ne(e-n,t-n),Ne(e+n,t+n);else{const o=i=>Ne(n*Math.cos(i)+e,n*Math.sin(i)+t);let s,u;if(o(i),o(r),r!==i)if((i%=q)<0&&(i+=q),(r%=q)<0&&(r+=q),r<i&&(a=!a,s=i,i=r,r=s),a)for(r-=q,s=i-i%z,u=0;u<4&&s>r;++u,s-=z)o(s);else for(s=i-i%z+z,u=0;u<4&&s<r;++u,s+=z)o(s)}}};function Ge(e,t,n,i){const r=(e-t)/(e+n-2*t);0<r&&r<1&&i(e+(t-e)*r)}function Ke(e,t,n,i,r){const a=i-e+3*t-3*n,o=e+n-2*t,s=e-t;let u,l=0,f=0;Math.abs(a)>1e-14?(u=o*o+s*a,u>=0&&(u=Math.sqrt(u),l=(-o+u)/a,f=(-o-u)/a)):l=.5*s/o,0<l&&l<1&&r(Qe(l,e,t,n,i)),0<f&&f<1&&r(Qe(f,e,t,n,i))}function Qe(e,t,n,i,r){const a=1-e,o=a*a,s=e*e;return o*a*t+3*o*e*n+3*a*s*i+s*e*r}var et=(et=(0,k.v)(1,1))?et.getContext("2d"):null;const tt=new Oe;function nt(e){return function(t,n){if(!et)return!0;e(et,t),tt.clear().union(t.bounds).intersect(n).round();const{x1:i,y1:r,x2:a,y2:o}=tt;for(let e=r;e<=o;++e)for(let t=i;t<=a;++t)if(et.isPointInPath(t,e))return!0;return!1}}function it(e,t){return t.contains(e.x||0,e.y||0)}function rt(e,t){const n=e.x||0,i=e.y||0,r=e.width||0,a=e.height||0;return t.intersects(tt.set(n,i,n+r,i+a))}function at(e,t){const n=e.x||0,i=e.y||0;return ot(t,n,i,null!=e.x2?e.x2:n,null!=e.y2?e.y2:i)}function ot(e,t,n,i,r){const{x1:a,y1:o,x2:s,y2:u}=e,l=i-t,f=r-n;let c,d,h,p,m=0,g=1;for(p=0;p<4;++p){if(0===p&&(c=-l,d=-(a-t)),1===p&&(c=l,d=s-t),2===p&&(c=-f,d=-(o-n)),3===p&&(c=f,d=u-n),Math.abs(c)<1e-10&&d<0)return!1;if(h=d/c,c<0){if(h>g)return!1;h>m&&(m=h)}else if(c>0){if(h<m)return!1;h<g&&(g=h)}}return!0}function st(e,t){e.globalCompositeOperation=t.blend||"source-over"}function ut(e,t){return null==e?t:e}function lt(e,t){const n=t.length;for(let i=0;i<n;++i)e.addColorStop(t[i].offset,t[i].color);return e}function ft(e,t,n){const i=n.width(),r=n.height();let a;if("radial"===t.gradient)a=e.createRadialGradient(n.x1+ut(t.x1,.5)*i,n.y1+ut(t.y1,.5)*r,Math.max(i,r)*ut(t.r1,0),n.x1+ut(t.x2,.5)*i,n.y1+ut(t.y2,.5)*r,Math.max(i,r)*ut(t.r2,.5));else{const o=ut(t.x1,0),s=ut(t.y1,0),u=ut(t.x2,1),l=ut(t.y2,0);if(o!==u&&s!==l&&i!==r){const n=(0,k.v)(Math.ceil(i),Math.ceil(r)),a=n.getContext("2d");return a.scale(i,r),a.fillStyle=lt(a.createLinearGradient(o,s,u,l),t.stops),a.fillRect(0,0,i,r),e.createPattern(n,"no-repeat")}a=e.createLinearGradient(n.x1+o*i,n.y1+s*r,n.x1+u*i,n.y1+l*r)}return lt(a,t.stops)}function ct(e,t,n){return $(n)?ft(e,n,t.bounds):n}function dt(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=ct(e,t,t.fill),!0)}var ht=[];function pt(e,t,n){var i=null!=(i=t.strokeWidth)?i:1;return!(i<=0)&&(n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=ct(e,t,t.stroke),e.lineWidth=i,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||ht),e.lineDashOffset=t.strokeDashOffset||0),!0)}function mt(e,t){return e.zindex-t.zindex||e.index-t.index}function gt(e){if(!e.zdirty)return e.zitems;var t,n,i,r=e.items,a=[];for(n=0,i=r.length;n<i;++n)(t=r[n]).index=n,t.zindex&&a.push(t);return e.zdirty=!1,e.zitems=a.sort(mt)}function yt(e,t){var n,i,r=e.items;if(!r||!r.length)return;const a=gt(e);if(a&&a.length){for(n=0,i=r.length;n<i;++n)r[n].zindex||t(r[n]);r=a}for(n=0,i=r.length;n<i;++n)t(r[n])}function bt(e,t){var n,i,r=e.items;if(!r||!r.length)return null;const a=gt(e);for(a&&a.length&&(r=a),i=r.length;--i>=0;)if(n=t(r[i]))return n;if(r===a)for(i=(r=e.items).length;--i>=0;)if(!r[i].zindex&&(n=t(r[i])))return n;return null}function vt(e){return function(t,n,i){yt(n,(n=>{i&&!i.intersects(n.bounds)||_t(e,t,n,n)}))}}function xt(e){return function(t,n,i){!n.items.length||i&&!i.intersects(n.bounds)||_t(e,t,n.items[0],n.items)}}function _t(e,t,n,i){var r=null==n.opacity?1:n.opacity;0!==r&&(e(t,i)||(st(t,n),n.fill&&dt(t,n,r)&&t.fill(),n.stroke&&pt(t,n,r)&&t.stroke()))}function wt(e){return e=e||i.yb,function(t,n,i,r,a,o){return i*=t.pixelRatio,r*=t.pixelRatio,bt(n,(n=>{const s=n.bounds;if((!s||s.contains(a,o))&&s)return e(t,n,i,r,a,o)?n:void 0}))}}function At(e,t){return function(n,i,r,a){var o,s,u=Array.isArray(i)?i[0]:i,l=null==t?u.fill:t,f=u.stroke&&n.isPointInStroke;return f&&(o=u.strokeWidth,s=u.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=s?s:"butt"),!e(n,i)&&(l&&n.isPointInPath(r,a)||f&&n.isPointInStroke(r,a))}}function kt(e){return wt(At(e))}function Ot(e,t){return"translate("+e+","+t+")"}function Dt(e){return"rotate("+e+")"}function Et(e){return Ot(e.x||0,e.y||0)}function Ft(e,t,n){function i(e,n){var i=n.x||0,r=n.y||0,a=n.angle||0;e.translate(i,r),a&&e.rotate(a*=j),e.beginPath(),t(e,n),a&&e.rotate(-a),e.translate(-i,-r)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return Ot(e.x||0,e.y||0)+(e.angle?" "+Dt(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(Je(e,n.angle),n),Me(e,n).translate(n.x||0,n.y||0)},draw:vt(i),pick:kt(i),isect:n||nt(i)}}var $t=Ft("arc",(function(e,t){return he.context(e)(t)}));function Ct(e,t,n){function i(e,n){e.beginPath(),t(e,n)}const r=At(i);return{type:e,tag:"path",nested:!0,attr:function(e,n){var i=n.mark.items;i.length&&e("d",t(null,i))},bound:function(e,n){var i=n.items;return 0===i.length?e:(t(Je(e),i),Me(e,i[0]))},draw:xt(i),pick:function(e,t,n,i,a,o){var s=t.items,u=t.bounds;return!s||!s.length||u&&!u.contains(a,o)?null:(n*=e.pixelRatio,i*=e.pixelRatio,r(e,s,n,i)?s[0]:null)},isect:it,tip:n}}var Mt=Ct("area",(function(e,t){const n=t[0],i=n.interpolate||"linear";return("horizontal"===n.orient?me:pe).curve(B(i,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,i,r="horizontal"===e[0].orient?t[1]:t[0],a="horizontal"===e[0].orient?"y":"x",o=e.length,s=1/0;--o>=0;)!1!==e[o].defined&&(i=Math.abs(e[o][a]-r))<s&&(s=i,n=e[o]);return n}));function Rt(e,t){e.beginPath(),xe(t)?_e(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function St(e){const t=ut(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function Bt(e,t){const n=St(t);e("d",_e(null,t,n,n))}function Zt(e,t,n,i){const r=St(t);e.beginPath(),_e(e,t,(n||0)+r,(i||0)+r)}const Tt=At(Zt),Pt=At(Zt,!1),jt=At(Zt,!0);var zt={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",Et(t))},bound:function(e,t){if(!t.clip&&t.items){const n=t.items,i=n.length;for(let t=0;t<i;++t)e.union(n[t].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Me(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){yt(t,(t=>{const i=t.x||0,r=t.y||0,a=t.strokeForeground,o=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&o&&(Zt(e,t,i,r),st(e,t),t.fill&&dt(e,t,o)&&e.fill(),t.stroke&&!a&&pt(e,t,o)&&e.stroke()),e.save(),e.translate(i,r),t.clip&&Rt(e,t),n&&n.translate(-i,-r),yt(t,(t=>{this.draw(e,t,n)})),n&&n.translate(i,r),e.restore(),a&&t.stroke&&o&&(Zt(e,t,i,r),st(e,t),pt(e,t,o)&&e.stroke())}))},pick:function(e,t,n,i,r,a){if(t.bounds&&!t.bounds.contains(r,a)||!t.items)return null;const o=n*e.pixelRatio,s=i*e.pixelRatio;return bt(t,(u=>{let l,f,c;const d=u.bounds;if(d&&!d.contains(r,a))return;f=u.x||0,c=u.y||0;const h=f+(u.width||0),p=c+(u.height||0),m=u.clip;if(m&&(r<f||r>h||a<c||a>p))return;if(e.save(),e.translate(f,c),f=r-f,c=a-c,m&&xe(u)&&!jt(e,u,o,s))return e.restore(),null;const g=u.strokeForeground,y=!1!==t.interactive;return y&&g&&u.stroke&&Pt(e,u,o,s)?(e.restore(),u):(l=bt(u,(e=>function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,f,c)?this.pick(e,n,i,f,c):null)),!l&&y&&(u.fill||!g&&u.stroke)&&Tt(e,u,o,s)&&(l=u),e.restore(),l||null)}))},isect:rt,content:function(e,t,n){e("clip-path",t.clip?ke(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),Bt(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?Bt(e,t):e("d","")}},qt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Nt(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((t=>{e.image=t,e.image.url=e.url}))),n}function Ut(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function Lt(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function It(e,t){return"center"===e?t/2:"right"===e?t:0}function Wt(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Xt={type:"image",tag:"image",nested:!1,attr:function(e,t,n){const i=Nt(t,n),r=Ut(t,i),a=Lt(t,i),o=(t.x||0)-It(t.align,r),s=(t.y||0)-Wt(t.baseline,a);e("href",!i.src&&i.toDataURL?i.toDataURL():i.src||"",qt["xmlns:xlink"],"xlink:href"),e("transform",Ot(o,s)),e("width",r),e("height",a),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){const n=t.image,i=Ut(t,n),r=Lt(t,n),a=(t.x||0)-It(t.align,i),o=(t.y||0)-Wt(t.baseline,r);return e.set(a,o,a+i,o+r)},draw:function(e,t,n){yt(t,(t=>{if(n&&!n.intersects(t.bounds))return;const i=Nt(t,this);let r=Ut(t,i),a=Lt(t,i);if(0===r||0===a)return;let o,s,u,l,f=(t.x||0)-It(t.align,r),c=(t.y||0)-Wt(t.baseline,a);!1!==t.aspect&&(s=i.width/i.height,u=t.width/t.height,s==s&&u==u&&s!==u&&(u<s?(l=r/s,c+=(a-l)/2,a=l):(l=a*s,f+=(r-l)/2,r=l))),(i.complete||i.toDataURL)&&(st(e,t),e.globalAlpha=null!=(o=t.opacity)?o:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(i,f,c,r,a))}))},pick:wt(),isect:i.yb,get:Nt,xOffset:It,yOffset:Wt},Vt=Ct("line",(function(e,t){const n=t[0],i=n.interpolate||"linear";return ge.curve(B(i,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,i,r=Math.pow(e[0].strokeWidth||1,2),a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(i=e[a].y-t[1])*i<r)return e[a];return null}));function Ht(e,t){var n=t.path;if(null==n)return!0;var i=t.x||0,r=t.y||0,a=t.scaleX||1,o=t.scaleY||1,s=(t.angle||0)*j,u=t.pathCache;u&&u.path===n||((t.pathCache=u=P(n)).path=n),s&&e.rotate&&e.translate?(e.translate(i,r),e.rotate(s),H(e,u,0,0,a,o),e.rotate(-s),e.translate(-i,-r)):H(e,u,i,r,a,o)}var Jt={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,i=t.scaleY||1;1===n&&1===i||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return Ot(e.x||0,e.y||0)+(e.angle?" "+Dt(e.angle):"")+(e.scaleX||e.scaleY?" "+("scale("+(e.scaleX||1)+","+(e.scaleY||1)+")"):"")}(t)),e("d",t.path)},bound:function(e,t){return Ht(Je(e,t.angle),t)?e.set(0,0,0,0):Me(e,t,!0)},draw:vt(Ht),pick:kt(Ht),isect:nt(Ht)};function Yt(e,t){e.beginPath(),_e(e,t)}var Gt={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",_e(null,t))},bound:function(e,t){var n,i;return Me(e.set(n=t.x||0,i=t.y||0,n+t.width||0,i+t.height||0),t)},draw:vt(Yt),pick:kt(Yt),isect:rt};function Kt(e,t,n){var i,r,a,o;return!(!t.stroke||!pt(e,t,n)||(i=t.x||0,r=t.y||0,a=null!=t.x2?t.x2:i,o=null!=t.y2?t.y2:r,e.beginPath(),e.moveTo(i,r),e.lineTo(a,o),0))}var Qt={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",Et(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,i;return Me(e.set(n=t.x||0,i=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:i),t)},draw:function(e,t,n){yt(t,(t=>{if(!n||n.intersects(t.bounds)){var i=null==t.opacity?1:t.opacity;i&&Kt(e,t,i)&&(st(e,t),e.stroke())}}))},pick:wt((function(e,t,n,i){return!!e.isPointInStroke&&Kt(e,t,1)&&e.isPointInStroke(n,i)})),isect:at},en=Ft("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),tn=Ft("symbol",(function(e,t){return be.context(e)(t)}),it);const nn=(0,i.$m)();var rn={height:fn,measureWidth:un,estimateWidth:on,width:on,canvas:an};function an(e){rn.width=e&&et?un:on}function on(e,t){return sn(pn(e,t),fn(e))}function sn(e,t){return~~(.8*e.length*t)}function un(e,t){return fn(e)<=0||!(t=pn(e,t))?0:ln(t,gn(e))}function ln(e,t){const n=`(${t}) ${e}`;let i=nn.get(n);return void 0===i&&(et.font=t,i=et.measureText(e).width,nn.set(n,i)),i}function fn(e){return null!=e.fontSize?+e.fontSize||0:11}function cn(e){return null!=e.lineHeight?e.lineHeight:fn(e)+2}function dn(e){return t=e.lineBreak&&e.text&&!(0,i.kJ)(e.text)?e.text.split(e.lineBreak):e.text,(0,i.kJ)(t)?t.length>1?t:t[0]:t;var t}function hn(e){const t=dn(e);return((0,i.kJ)(t)?t.length-1:0)*cn(e)}function pn(e,t){const n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,i=function(e){if(rn.width===un){const t=gn(e);return e=>ln(e,t)}{const t=fn(e);return e=>sn(e,t)}}(e);if(i(t)<n)return t;var r,a=e.ellipsis||"…",o="rtl"===e.dir,s=0,u=t.length;if(n-=i(a),o){for(;s<u;)r=s+u>>>1,i(t.slice(r))>n?s=r+1:u=r;return a+t.slice(s)}for(;s<u;)r=1+(s+u>>>1),i(t.slice(0,r))<n?s=r:u=r-1;return t.slice(0,s)+a}(e,n):n}function mn(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function gn(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+fn(e)+"px "+mn(e,t)}function yn(e){var t=e.baseline,n=fn(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*cn(e):"line-bottom"===t?.29*n-.5*cn(e):0)}an(!0);const bn={left:"start",center:"middle",right:"end"},vn=new Oe;function xn(e){var t,n=e.x||0,i=e.y||0,r=e.radius||0;return r&&(t=(e.theta||0)-z,n+=r*Math.cos(t),i+=r*Math.sin(t)),vn.x1=n,vn.y1=i,vn}function _n(e,t,n){var r,a=rn.height(t),o=t.align,s=xn(t),u=s.x1,l=s.y1,f=t.dx||0,c=(t.dy||0)+yn(t)-Math.round(.8*a),d=dn(t);if((0,i.kJ)(d)?(a+=cn(t)*(d.length-1),r=d.reduce(((e,n)=>Math.max(e,rn.width(t,n))),0)):r=rn.width(t,d),"center"===o?f-=r/2:"right"===o&&(f-=r),e.set(f+=u,c+=l,f+r,c+a),t.angle&&!n)e.rotate(t.angle*j,u,l);else if(2===n)return e.rotatedPoints(t.angle*j,u,l);return e}var wn={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,i=t.dx||0,r=(t.dy||0)+yn(t),a=xn(t),o=a.x1,s=a.y1,u=t.angle||0;e("text-anchor",bn[t.align]||"start"),u?(n=Ot(o,s)+" "+Dt(u),(i||r)&&(n+=" "+Ot(i,r))):n=Ot(o+i,s+r),e("transform",n)},bound:_n,draw:function(e,t,n){yt(t,(t=>{var r,a,o,s,u,l,f,c=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===c||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=gn(t),e.textAlign=t.align||"left",a=(r=xn(t)).x1,o=r.y1,t.angle&&(e.save(),e.translate(a,o),e.rotate(t.angle*j),a=o=0),a+=t.dx||0,o+=(t.dy||0)+yn(t),l=dn(t),st(e,t),(0,i.kJ)(l))for(u=cn(t),s=0;s<l.length;++s)f=pn(t,l[s]),t.fill&&dt(e,t,c)&&e.fillText(f,a,o),t.stroke&&pt(e,t,c)&&e.strokeText(f,a,o),o+=u;else f=pn(t,l),t.fill&&dt(e,t,c)&&e.fillText(f,a,o),t.stroke&&pt(e,t,c)&&e.strokeText(f,a,o);t.angle&&e.restore()}}))},pick:wt((function(e,t,n,i,r,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=xn(t),s=o.x1,u=o.y1,l=_n(vn,t,1),f=-t.angle*j,c=Math.cos(f),d=Math.sin(f),h=c*r-d*a+(s-c*s+d*u),p=d*r+c*a+(u-d*s-c*u);return l.contains(h,p)})),isect:function(e,t){const n=_n(vn,e,2);return ot(t,n[0],n[1],n[2],n[3])||ot(t,n[0],n[1],n[4],n[5])||ot(t,n[4],n[5],n[6],n[7])||ot(t,n[2],n[3],n[6],n[7])}},An=Ct("trail",(function(e,t){return ve.context(e)(t)}),(function(e,t){for(var n,i,r=e.length;--r>=0;)if(!1!==e[r].defined&&(n=e[r].x-t[0])*n+(i=e[r].y-t[1])*i<(n=e[r].size||1)*n)return e[r];return null})),kn={arc:$t,area:Mt,group:zt,image:Xt,line:Vt,path:Jt,rect:Gt,rule:Qt,shape:en,symbol:tn,text:wn,trail:An};function On(e,t,n){var i=kn[e.mark.marktype],r=t||i.bound;return i.nested&&(e=e.mark),r(e.bounds||(e.bounds=new Oe),e,n)}var Dn={mark:null};function En(e,t,n){var i,r,a,o,s=kn[e.marktype],u=s.bound,l=e.items,f=l&&l.length;if(s.nested)return f?a=l[0]:(Dn.mark=e,a=Dn),o=On(a,u,n),t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new Oe,f)for(i=0,r=l.length;i<r;++i)t.union(On(l[i],u,n));return e.bounds=t}const Fn=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function $n(e,t){return JSON.stringify(e,Fn,t)}function Cn(e){return Mn("string"==typeof e?JSON.parse(e):e)}function Mn(e){var t,n,i,r=e.marktype,a=e.items;if(a)for(n=0,i=a.length;n<i;++n)t=r?"mark":"group",a[n][t]=e,a[n].zindex&&(a[n][t].zdirty=!0),"group"===(r||t)&&Mn(a[n]);return r&&En(e),e}function Rn(e){arguments.length?this.root=Cn(e):(this.root=Sn({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ee(this.root)])}function Sn(e,t){const n={bounds:new Oe,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Bn(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Zn(e,t){t=t.toLowerCase();for(var n=e.childNodes,i=0,r=n.length;i<r;++i)if(n[i].tagName.toLowerCase()===t)return n[i]}function Tn(e,t,n,i){var r,a=e.childNodes[t];return a&&a.tagName.toLowerCase()===n.toLowerCase()||(r=a||null,a=Bn(e.ownerDocument,n,i),e.insertBefore(a,r)),a}function Pn(e,t){for(var n=e.childNodes,i=n.length;i>t;)e.removeChild(n[--i]);return e}function jn(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function zn(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function qn(e,t){this._active=null,this._handlers={},this._loader=e||(0,O._m)(),this._tooltip=t||Nn}function Nn(e,t,n,i){e.element().setAttribute("title",i||"")}function Un(e){this._el=null,this._bgcolor=null,this._loader=new Fe(e)}Rn.prototype={toJSON(e){return $n(this.root,e||0)},mark(e,t,n){const i=Sn(e,t=t||this.root.items[0]);return t.items[n]=i,i.zindex&&(i.group.zdirty=!0),i}},qn.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let i=e?e.length:0;--i>=0;)if(e[i].type===t&&(!n||e[i].handler===n))return i;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const e in t)n.push(...t[e]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then((t=>{const n=new MouseEvent(e.type,e),i=Bn(null,"a");for(const e in t)i.setAttribute(e,t[e]);i.dispatchEvent(n)})).catch((()=>{}))},handleTooltip(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,i){var r,a,o=e&&e.mark;if(o&&(r=kn[o.marktype]).tip){for((a=zn(t,n))[0]-=i[0],a[1]-=i[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=r.tip(o.items,a)}return e}(t,e,this.canvas(),this._origin);const i=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,i)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),i=this._origin,r=e.bounds,a=r.width(),o=r.height();let s=r.x1+i[0]+n.left,u=r.y1+i[1]+n.top;for(;e.mark&&(e=e.mark.group);)s+=e.x||0,u+=e.y||0;return{x:s,y:u,width:a,height:o,left:s,top:u,right:s+a,bottom:u+o}}},Un.prototype={initialize(e,t,n,i,r){return this._el=e,this.resize(t,n,i,r)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,i){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=i||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then((()=>t)):Promise.resolve(t)},_load(e,t){var n=this,i=n._loader[e](t);if(!n._ready){const e=n._call;n._ready=n._loader.ready().then((t=>{t&&e(),n._ready=null}))}return i},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const Ln="dragenter",In="dragleave",Wn="dragover",Xn="mousedown",Vn="mousemove",Hn="mouseout",Jn="mouseover",Yn="click",Gn="mousewheel",Kn="touchstart",Qn="touchmove",ei="touchend",ti=["keydown","keypress","keyup",Ln,In,Wn,Xn,"mouseup",Vn,Hn,Jn,Yn,"dblclick","wheel",Gn,Kn,Qn,ei],ni=Vn,ii=Hn,ri=Yn;function ai(e,t){qn.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function oi(e,t){(e=>e===Kn||e===Qn||e===ei?[Kn,Qn,ei]:[e])(t).forEach((t=>function(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?n=>e[t](n):n=>e.fire(t,n)))}(e,t)))}function si(e,t,n){return function(i){const r=this._active,a=this.pickEvent(i);a===r||(r&&r.exit||this.fire(n,i),this._active=a,this.fire(t,i)),this.fire(e,i)}}function ui(e){return function(t){this.fire(e,t),this._active=null}}(0,i.XW)(ai,qn,{initialize(e,t,n){return this._canvas=e&&Zn(e,"canvas"),[Yn,Xn,Vn,Hn,In].forEach((e=>oi(this,e))),qn.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:ti,DOMMouseScroll(e){this.fire(Gn,e)},mousemove:si(Vn,Jn,Hn),dragover:si(Wn,Ln,In),mouseout:ui(Hn),dragleave:ui(In),mousedown(e){this._down=this._active,this.fire(Xn,e)},click(e){this._down===this._active&&(this.fire(Yn,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Kn,e,!0)},touchmove(e){this.fire(Qn,e,!0)},touchend(e){this.fire(ei,e,!0),this._touch=null},fire(e,t,n){const i=n?this._touch:this._active,r=this._handlers[e];if(t.vegaType=e,e===ri&&i&&i.href?this.handleHref(t,i,i.href):e!==ni&&e!==ii||this.handleTooltip(t,i,e!==ii),r)for(let e=0,n=r.length;e<n;++e)r[e].handler.call(this._obj,t,i)},on(e,t){const n=this.eventName(e),i=this._handlers;return this._handlerIndex(i[n],e,t)<0&&(oi(this,e),(i[n]||(i[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),i=this._handlers[n],r=this._handlerIndex(i,e,t);return r>=0&&i.splice(r,1),this},pickEvent(e){const t=zn(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,i,r){const a=this.context();return kn[e.marktype].pick.call(this,a,e,t,n,i,r)}});var li="undefined"!=typeof window&&window.devicePixelRatio||1;function fi(e){Un.call(this,e),this._options={},this._redraw=!1,this._dirty=new Oe,this._tempb=new Oe}const ci=Un.prototype;function di(e,t){qn.call(this,e,t);const n=this;n._hrefHandler=hi(n,((e,t)=>{t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=hi(n,((e,t)=>{n.handleTooltip(e,t,e.type!==ii)}))}(0,i.XW)(fi,Un,{initialize(e,t,n,i,r,a){return this._options=a||{},this._canvas=this._options.externalContext?null:(0,k.v)(1,1,this._options.type),e&&this._canvas&&(Pn(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),ci.initialize.call(this,e,t,n,i,r)},resize(e,t,n,r){if(ci.resize.call(this,e,t,n,r),this._canvas)!function(e,t,n,i,r,a){const o="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,s=e.getContext("2d"),u=o?li:r;e.width=t*u,e.height=n*u;for(const e in a)s[e]=a[e];o&&1!==u&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=u,s.setTransform(u,0,0,u,u*i[0],u*i[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const e=this._options.externalContext;e||(0,i.vU)("CanvasRenderer is missing a valid canvas or context"),e.scale(this._scale,this._scale),e.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,i=this._width,r=this._height,a=this._dirty,o=(s=n,u=i,l=r,(new Oe).set(0,0,u,l).translate(-s[0],-s[1]));var s,u,l;t.save();const f=this._redraw||a.empty()?(this._redraw=!1,o.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,o.intersect(a),n);return this.clear(-n[0],-n[1],i,r),this.draw(t,e,f),t.restore(),a.clear(),this},draw(e,t,n){const r=kn[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),(0,i.mf)(n)?(e.beginPath(),n(e),e.clip()):Rt(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,i){const r=this._options,a=this.context();"pdf"===r.type||r.externalContext||a.clearRect(e,t,n,i),null!=this._bgcolor&&(a.fillStyle=this._bgcolor,a.fillRect(e,t,n,i))}});const hi=(e,t)=>n=>{let i=n.target.__data__;i=Array.isArray(i)?i[0]:i,n.vegaType=n.type,t.call(e._obj,n,i)};(0,i.XW)(di,qn,{initialize(e,t,n){let i=this._svg;return i&&(i.removeEventListener(ri,this._hrefHandler),i.removeEventListener(ni,this._tooltipHandler),i.removeEventListener(ii,this._tooltipHandler)),this._svg=i=e&&Zn(e,"svg"),i&&(i.addEventListener(ri,this._hrefHandler),i.addEventListener(ni,this._tooltipHandler),i.addEventListener(ii,this._tooltipHandler)),qn.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),i=this._handlers;if(this._handlerIndex(i[n],e,t)<0){const r={type:e,handler:t,listener:hi(this,t)};(i[n]||(i[n]=[])).push(r),this._svg&&this._svg.addEventListener(n,r.listener)}return this},off(e,t){const n=this.eventName(e),i=this._handlers[n],r=this._handlerIndex(i,e,t);return r>=0&&(this._svg&&this._svg.removeEventListener(n,i[r].listener),i.splice(r,1)),this}});const pi="aria-hidden",mi="aria-label",gi="role",yi="aria-roledescription",bi="graphics-object",vi="graphics-symbol",xi=(e,t,n)=>({[gi]:e,[yi]:t,[mi]:n||void 0}),_i=(0,i.Rg)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),wi={axis:{desc:"axis",caption:function(e){const t=e.datum,n=e.orient,i=t.title?Ei(e):null,r=e.context,a=r.scales[t.scale].value,o=r.dataflow.locale(),s=a.type;return("left"===n||"right"===n?"Y":"X")+"-axis"+(i?` titled '${i}'`:"")+` for a ${(0,D.lK)(s)?"discrete":s} scale`+` with ${(0,D.A_)(o,a,e)}`}},legend:{desc:"legend",caption:function(e){const t=e.datum,n=t.title?Ei(e):null,r=`${t.type||""} legend`.trim(),a=t.scales,o=Object.keys(a),s=e.context,u=s.scales[a[o[0]]].value,l=s.dataflow.locale();return((f=r).length?f[0].toUpperCase()+f.slice(1):f)+(n?` titled '${n}'`:"")+` for ${function(e){return(e=e.map((e=>e+("fill"===e||"stroke"===e?" color":"")))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+(0,i.fj)(e)}(o)}`+` with ${(0,D.A_)(l,u,e)}`;var f}},"title-text":{desc:"title",caption:e=>`Title text '${Di(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${Di(e)}'`}},Ai={ariaRole:gi,ariaRoleDescription:yi,description:mi};function ki(e,t){const n=!1===t.aria;if(e(pi,n||void 0),n||null==t.description)for(const t in Ai)e(Ai[t],void 0);else{const n=t.mark.marktype;e(mi,t.description),e(gi,t.ariaRole||("group"===n?bi:vi)),e(yi,t.ariaRoleDescription||`${n} mark`)}}function Oi(e){return!1===e.aria?{[pi]:!0}:_i[e.role]?null:wi[e.role]?function(e,t){try{const n=e.items[0],i=t.caption||(()=>"");return xi(t.role||vi,t.desc,n.description||i(n))}catch(e){return null}}(e,wi[e.role]):function(e){const t=e.marktype,n="group"===t||"text"===t||e.items.some((e=>null!=e.description&&!1!==e.aria));return xi(n?bi:vi,`${t} mark container`,e.description)}(e)}function Di(e){return(0,i.IX)(e.text).join(" ")}function Ei(e){try{return(0,i.IX)((0,i.fj)(e.items).items[0].text).join(" ")}catch(e){return null}}const Fi=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function $i(){let e="",t="",n="";const i=[],r=()=>t=n="",a=(e,n)=>{var i;return null!=n&&(t+=` ${e}="${i=n,Fi(i).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")}"`),o},o={open(s,...u){(a=>{t&&(e+=`${t}>${n}`,r()),i.push(a)})(s),t="<"+s;for(const e of u)for(const t in e)a(t,e[t]);return o},close(){const a=i.pop();return e+=t?t+(n?`>${n}</${a}>`:"/>"):`</${a}>`,r(),o},attr:a,text:e=>(n+=Fi(e),o),toString:()=>e};return o}const Ci=e=>Mi($i(),e)+"";function Mi(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,i=n.length;for(let t=0;t<i;++t)e.attr(n[t].name,n[t].value)}if(t.hasChildNodes()){const n=t.childNodes,i=n.length;for(let t=0;t<i;t++){const i=n[t];3===i.nodeType?e.text(i.nodeValue):Mi(e,i)}}return e.close()}const Ri={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},Si={fill:"none","stroke-miterlimit":10},Bi="http://www.w3.org/2000/xmlns/",Zi=qt.xmlns;function Ti(e){Un.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const Pi=Un.prototype;function ji(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function zi(e,t,n){let i,r,a;if("radial"===t.gradient){let i=Tn(e,n++,"pattern",Zi);Vi(i,{id:F+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),i=Tn(i,0,"rect",Zi),Vi(i,{width:1,height:1,fill:`url(${Ji()}#${t.id})`}),Vi(e=Tn(e,n++,"radialGradient",Zi),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else Vi(e=Tn(e,n++,"linearGradient",Zi),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(i=0,r=t.stops.length;i<r;++i)a=Tn(e,i,"stop",Zi),a.setAttribute("offset",t.stops[i].offset),a.setAttribute("stop-color",t.stops[i].color);return Pn(e,i),n}function qi(e,t,n){let i;return(e=Tn(e,n,"clipPath",Zi)).setAttribute("id",t.id),t.path?(i=Tn(e,0,"path",Zi),i.setAttribute("d",t.path)):(i=Tn(e,0,"rect",Zi),Vi(i,{x:0,y:0,width:t.width,height:t.height})),Pn(e,1),n+1}function Ni(e,t,n,i,r){let a,o=e._svg;if(!o&&(a=t.ownerDocument,o=Bn(a,i,Zi),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===i))){const t=Bn(a,"path",Zi);o.appendChild(t),t.__data__=e;const n=Bn(a,"g",Zi);o.appendChild(n),n.__data__=e;const i=Bn(a,"path",Zi);o.appendChild(i),i.__data__=e,i.__values__={fill:"default"}}return(o.ownerSVGElement!==r||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}(0,i.XW)(Ti,Un,{initialize(e,t,n,i,r){return this._defs={},this._clearDefs(),e&&(this._svg=Tn(e,0,"svg",Zi),this._svg.setAttributeNS(Bi,"xmlns",Zi),this._svg.setAttributeNS(Bi,"xmlns:xlink",qt["xmlns:xlink"]),this._svg.setAttribute("version",qt.version),this._svg.setAttribute("class","marks"),Pn(e,1),this._root=Tn(this._svg,0,"g",Zi),Vi(this._root,Si),Pn(this._svg,1)),this.background(this._bgcolor),Pi.initialize.call(this,e,t,n,i,r)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),Pi.background.apply(this,arguments)},resize(e,t,n,i){return Pi.resize.call(this,e,t,n,i),this._svg&&(Vi(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=Tn(e,0,"rect",Zi),Vi(n,{width:this._width,height:this._height,fill:t}));const i=Ci(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),i},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Pn(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,i,r,a,o,s,u;for(o=0,s=e.length;o<s;++o)n=e[o],i=n.mark,i.marktype!==r&&(r=i.marktype,a=kn[r]),i.zdirty&&i.dirty!==t&&(this._dirtyAll=!1,ji(n,t),i.items.forEach((e=>{e.dirty=t}))),i.zdirty||(n.exit?(a.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(a,u._svg,u)):n._svg&&(u=n._svg.parentNode,u&&u.removeChild(n._svg)),n._svg=null):(n=a.nested?i.items[0]:n,n._update!==t&&(n._svg&&n._svg.ownerSVGElement?this._update(a,n._svg,n):(this._dirtyAll=!1,ji(n,t)),n._update=t)));return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const i=this._svg,r=kn[t.marktype],a=!1===t.interactive?"none":null,o="g"===r.tag;let s=null,u=0;const l=Ni(t,e,n,"g",i);l.setAttribute("class",jn(t));const f=Oi(t);for(const e in f)Hi(l,e,f[e]);o||Hi(l,"pointer-events",a),Hi(l,"clip-path",t.clip?ke(this,t,t.group):null);const c=e=>{const t=this.isDirty(e),n=Ni(e,l,s,r.tag,i);t&&(this._update(r,n,e),o&&function(e,t,n){t=t.lastChild.previousSibling;let i,r=0;yt(n,(n=>{i=e.mark(t,n,i),++r})),Pn(t,1+r)}(this,n,e)),s=n,++u};return r.nested?t.items.length&&c(t.items[0]):yt(t,c),Pn(l,u),l},_update(e,t,n){Ui=t,Li=t.__values__,ki(Wi,n),e.attr(Wi,n,this);const i=Ii[e.type];i&&i.call(this,e,t,n),Ui&&this.style(Ui,n)},style(e,t){if(null!=t)for(const n in Ri){let i="font"===n?mn(t):t[n];if(i===Li[n])continue;const r=Ri[n];null==i?e.removeAttribute(r):($(i)&&(i=C(i,this._defs.gradient,Ji())),e.setAttribute(r,i+"")),Li[n]=i}},defs(){const e=this._svg,t=this._defs;let n=t.el,i=0;for(const r in t.gradient)n||(t.el=n=Tn(e,1,"defs",Zi)),i=zi(n,t.gradient[r],i);for(const r in t.clipping)n||(t.el=n=Tn(e,1,"defs",Zi)),i=qi(n,t.clipping[r],i);n&&(0===i?(e.removeChild(n),t.el=null):Pn(n,i))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let Ui=null,Li=null;const Ii={group(e,t,n){const i=Ui=t.childNodes[2];Li=i.__values__,e.foreground(Wi,n,this),Li=t.__values__,Ui=t.childNodes[1],e.content(Wi,n,this);const r=Ui=t.childNodes[0];e.background(Wi,n,this);const a=!1===n.mark.interactive?"none":null;if(a!==Li.events&&(Hi(i,"pointer-events",a),Hi(r,"pointer-events",a),Li.events=a),n.strokeForeground&&n.stroke){const e=n.fill;Hi(i,"display",null),this.style(r,n),Hi(r,"stroke",null),e&&(n.fill=null),Li=i.__values__,this.style(i,n),e&&(n.fill=e),Ui=null}else Hi(i,"display","none")},image(e,t,n){!1===n.smooth?(Xi(t,"image-rendering","optimizeSpeed"),Xi(t,"image-rendering","pixelated")):Xi(t,"image-rendering",null)},text(e,t,n){const r=dn(n);let a,o,s,u;(0,i.kJ)(r)?(o=r.map((e=>pn(n,e))),a=o.join("\n"),a!==Li.text&&(Pn(t,0),s=t.ownerDocument,u=cn(n),o.forEach(((e,i)=>{const r=Bn(s,"tspan",Zi);r.__data__=n,r.textContent=e,i&&(r.setAttribute("x",0),r.setAttribute("dy",u)),t.appendChild(r)})),Li.text=a)):(o=pn(n,r),o!==Li.text&&(t.textContent=o,Li.text=o)),Hi(t,"font-family",mn(n)),Hi(t,"font-size",fn(n)+"px"),Hi(t,"font-style",n.fontStyle),Hi(t,"font-variant",n.fontVariant),Hi(t,"font-weight",n.fontWeight)}};function Wi(e,t,n){t!==Li[e]&&(n?function(e,t,n,i){null!=n?e.setAttributeNS(i,t,n):e.removeAttributeNS(i,t)}(Ui,e,t,n):Hi(Ui,e,t),Li[e]=t)}function Xi(e,t,n){n!==Li[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),Li[t]=n)}function Vi(e,t){for(const n in t)Hi(e,n,t[n])}function Hi(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function Ji(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Yi(e){Un.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}(0,i.XW)(Yi,Un,{svg(){return this._text},_render(e){const t=$i();t.open("svg",(0,i.l7)({},qt,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",Si,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=kn[t.marktype],r=n.tag,a=[ki,n.attr];e.open("g",{class:jn(t),"clip-path":t.clip?ke(this,t,t.group):null},Oi(t),{"pointer-events":"g"!==r&&!1===t.interactive?"none":null});const o=o=>{const s=this.href(o);if(s&&e.open("a",s),e.open(r,this.attr(t,o,a,"g"!==r?r:null)),"text"===r){const t=dn(o);if((0,i.kJ)(t)){const n={x:0,dy:cn(o)};for(let i=0;i<t.length;++i)e.open("tspan",i?n:null).text(pn(o,t[i])).close()}else e.text(pn(o,t))}else if("g"===r){const i=o.strokeForeground,r=o.fill,a=o.stroke;i&&a&&(o.stroke=null),e.open("path",this.attr(t,o,n.background,"bgrect")).close(),e.open("g",this.attr(t,o,n.content)),yt(o,(t=>this.mark(e,t))),e.close(),i&&a?(r&&(o.fill=null),o.stroke=a,e.open("path",this.attr(t,o,n.foreground,"bgrect")).close(),r&&(o.fill=r)):e.open("path",this.attr(t,o,n.foreground,"bgfore")).close()}e.close(),s&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):yt(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then((e=>{e["xlink:href"]=e.href,e.href=null,(this._hrefs||(this._hrefs={}))[t]=e}))}return null},attr(e,t,n,i){const r={},a=(e,t,n,i)=>{r[i||e]=t};return Array.isArray(n)?n.forEach((e=>e(a,t,this))):n(a,t,this),i&&function(e,t,n,i,r){if(null==t)return e;if("bgrect"===i&&!1===n.interactive&&(e["pointer-events"]="none"),"bgfore"===i&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===i&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;"),"text"===i&&(e["font-family"]=mn(t),e["font-size"]=fn(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const n in Ri){let i=t[n];const a=Ri[n];("transparent"!==i||"fill"!==a&&"stroke"!==a)&&null!=i&&($(i)&&(i=C(i,r.gradient,"")),e[a]=i)}}(r,t,e,i,this._defs),r},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){e.open("defs");for(const n in t){const i=t[n],r=i.stops;"radial"===i.gradient?(e.open("pattern",{id:F+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+n+")"}).close(),e.close(),e.open("radialGradient",{id:n,fx:i.x1,fy:i.y1,fr:i.r1,cx:i.x2,cy:i.y2,r:i.r2})):e.open("linearGradient",{id:n,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2});for(let t=0;t<r.length;++t)e.open("stop",{offset:r[t].offset,"stop-color":r[t].color}).close();e.close()}for(const t in n){const i=n[t];e.open("clipPath",{id:t}),i.path?e.open("path",{d:i.path}).close():e.open("rect",{x:0,y:0,width:i.width,height:i.height}).close(),e.close()}e.close()}}});const Gi={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},Ki={};function Qi(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Ki[e]=t,this):Ki[e]}function er(e,t,n){const r=[],a=(new Oe).union(t),o=e.marktype;return o?tr(e,a,n,r):"group"===o?nr(e,a,n,r):(0,i.vU)("Intersect scene must be mark node or group item.")}function tr(e,t,n,i){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){const r=e.items,a=e.marktype,o=r.length;let s=0;if("group"===a)for(;s<o;++s)nr(r[s],t,n,i);else for(const e=kn[a].isect;s<o;++s){const n=r[s];ir(n,t,e)&&i.push(n)}}return i}function nr(e,t,n,i){n&&n(e.mark)&&ir(e,t,kn.group.isect)&&i.push(e);const r=e.items,a=r&&r.length;if(a){const o=e.x||0,s=e.y||0;t.translate(-o,-s);for(let e=0;e<a;++e)tr(r[e],t,n,i);t.translate(o,s)}return i}function ir(e,t,n){const i=e.bounds;return t.encloses(i)||t.intersects(i)&&n(e,t)}Ki.canvas=Ki.png={renderer:fi,headless:fi,handler:ai},Ki.svg={renderer:Ti,headless:Yi,handler:di},Ki.none={};const rr=new Oe;function ar(e){const t=e.clip;if((0,i.mf)(t))t(Je(rr.clear()));else{if(!t)return;rr.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(rr)}function or(e,t,n){return e===t||("path"===n?sr(e,t):e instanceof Date&&t instanceof Date?+e==+t:(0,i.hj)(e)&&(0,i.hj)(t)?Math.abs(e-t)<=1e-9:e&&t&&((0,i.Kn)(e)||(0,i.Kn)(t))?function(e,t){var n,i,r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(r.sort(),a.sort(),i=r.length-1;i>=0;i--)if(r[i]!=a[i])return!1;for(i=r.length-1;i>=0;i--)if(!or(e[n=r[i]],t[n],n))return!1;return typeof e==typeof t}(e,t):e==t)}function sr(e,t){return or(P(e),P(t))}function ur(){Ae(),E=0}},10607:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}},90195:(e,t,n)=>{"use strict";n.d(t,{U_:()=>f,Ly:()=>c,aF:()=>p,hz:()=>$,Nn:()=>A,rH:()=>Z,Q3:()=>F,Dg:()=>w,ah:()=>B,Hk:()=>m,HA:()=>C,if:()=>k,At:()=>T,cW:()=>u,cF:()=>l,MX:()=>d,LU:()=>y,l0:()=>D,JY:()=>g,bw:()=>M,wz:()=>R,nG:()=>O,LG:()=>P,lI:()=>I,fw:()=>U,$S:()=>J,jE:()=>L,gS:()=>V,kp:()=>W,p9:()=>X,sR:()=>Q,K:()=>E,Tp:()=>_,nP:()=>S,J3:()=>h});var i=n(63869),r=n(7791),a=n(39675),o=n(52684);function*s(e,t){if(null==t)for(let t of e)null!=t&&""!==t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let i of e)i=t(i,++n,e),null!=i&&""!==i&&(i=+i)>=i&&(yield i)}}function u(e,t,n){const a=Float64Array.from(s(e,n));return a.sort(i.Z),t.map((e=>(0,r.s)(a,e)))}function l(e,t){return u(e,[.25,.5,.75],t)}function f(e,t){const n=e.length,i=(0,a.Z)(e,t),r=l(e,t),o=(r[2]-r[0])/1.34;return 1.06*(Math.min(i,o)||i||Math.abs(r[0])||1)*Math.pow(n,-.2)}function c(e){const t=e.maxbins||20,n=e.base||10,i=Math.log(n),r=e.divide||[5,2];let a,o,s,u,l,f,c=e.extent[0],d=e.extent[1];const h=e.span||d-c||Math.abs(c)||1;if(e.step)a=e.step;else if(e.steps){for(u=h/t,l=0,f=e.steps.length;l<f&&e.steps[l]<u;++l);a=e.steps[Math.max(0,l-1)]}else{for(o=Math.ceil(Math.log(t)/i),s=e.minstep||0,a=Math.max(s,Math.pow(n,Math.round(Math.log(h)/i)-o));Math.ceil(h/a)>t;)a*=n;for(l=0,f=r.length;l<f;++l)u=a/r[l],u>=s&&h/u<=t&&(a=u)}u=Math.log(a);const p=u>=0?0:1+~~(-u/i),m=Math.pow(n,-p-1);return(e.nice||void 0===e.nice)&&(u=Math.floor(c/a+m)*a,c=c<u?u-a:u,d=Math.ceil(d/a)*a),{start:c,stop:d===c?c+a:d,step:a}}var d=Math.random;function h(e){d=e}function p(e,t,n,a){if(!e.length)return[void 0,void 0];const o=Float64Array.from(s(e,a)),u=o.length,l=t;let f,c,h,p;for(h=0,p=Array(l);h<l;++h){for(f=0,c=0;c<u;++c)f+=o[~~(d()*u)];p[h]=f/u}return p.sort(i.Z),[(0,r.Z)(p,n/2),(0,r.Z)(p,1-n/2)]}function m(e,t,n,i){i=i||(e=>e);const r=e.length,a=new Float64Array(r);let o,s=0,u=1,l=i(e[0]),f=l,c=l+t;for(;u<r;++u){if(o=i(e[u]),o>=c){for(f=(l+f)/2;s<u;++s)a[s]=f;c=o+t,l=o}f=o}for(f=(l+f)/2;s<u;++s)a[s]=f;return n?function(e,t){const n=e.length;let i,r,a=0,o=1;for(;e[a]===e[o];)++o;for(;o<n;){for(i=o+1;e[o]===e[i];)++i;if(e[o]-e[o-1]<t){for(r=o+(a+i-o-o>>1);r<o;)e[r++]=e[o];for(;r>o;)e[r--]=e[a]}a=o,o=i}return e}(a,t+t/4):a}function g(e){return function(){return(e=(1103515245*e+12345)%2147483647)/2147483647}}function y(e,t){let n,i,r;null==t&&(t=e,e=0);const a={min(e){return arguments.length?(n=e||0,r=i-n,a):n},max(e){return arguments.length?(i=e||0,r=i-n,a):i},sample:()=>n+Math.floor(r*d()),pdf:e=>e===Math.floor(e)&&e>=n&&e<i?1/r:0,cdf(e){const t=Math.floor(e);return t<n?0:t>=i?1:(t-n+1)/r},icdf:e=>e>=0&&e<=1?n-1+Math.floor(e*r):NaN};return a.min(e).max(t)}const b=Math.sqrt(2*Math.PI),v=Math.SQRT2;let x=NaN;function _(e,t){e=e||0,t=null==t?1:t;let n,i,r=0,a=0;if(x==x)r=x,x=NaN;else{do{r=2*d()-1,a=2*d()-1,n=r*r+a*a}while(0===n||n>1);i=Math.sqrt(-2*Math.log(n)/n),r*=i,x=a*i}return e+r*t}function w(e,t,n){const i=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*i*i)/(n*b)}function A(e,t,n){const i=(e-(t=t||0))/(n=null==n?1:n),r=Math.abs(i);let a;if(r>37)a=0;else{const e=Math.exp(-r*r/2);let t;r<7.07106781186547?(t=.0352624965998911*r+.700383064443688,t=t*r+6.37396220353165,t=t*r+33.912866078383,t=t*r+112.079291497871,t=t*r+221.213596169931,t=t*r+220.206867912376,a=e*t,t=.0883883476483184*r+1.75566716318264,t=t*r+16.064177579207,t=t*r+86.7807322029461,t=t*r+296.564248779674,t=t*r+637.333633378831,t=t*r+793.826512519948,t=t*r+440.413735824752,a/=t):(t=r+.65,t=r+4/t,t=r+3/t,t=r+2/t,t=r+1/t,a=e/t/2.506628274631)}return i>0?1-a:a}function k(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*v*function(e){let t,n=-Math.log((1-e)*(1+e));return n<6.25?(n-=3.125,t=-364441206401782e-35,t=t*n-16850591381820166e-35,t=128584807152564e-32+t*n,t=11157877678025181e-33+t*n,t=t*n-1333171662854621e-31,t=20972767875968562e-33+t*n,t=6637638134358324e-30+t*n,t=t*n-4054566272975207e-29,t=t*n-8151934197605472e-29,t=26335093153082323e-28+t*n,t=t*n-12975133253453532e-27,t=t*n-5415412054294628e-26,t=1.0512122733215323e-9+t*n,t=t*n-4.112633980346984e-9,t=t*n-2.9070369957882005e-8,t=4.2347877827932404e-7+t*n,t=t*n-13654692000834679e-22,t=t*n-13882523362786469e-21,t=.00018673420803405714+t*n,t=t*n-.000740702534166267,t=t*n-.006033670871430149,t=.24015818242558962+t*n,t=1.6536545626831027+t*n):n<16?(n=Math.sqrt(n)-3.25,t=2.2137376921775787e-9,t=9.075656193888539e-8+t*n,t=t*n-2.7517406297064545e-7,t=1.8239629214389228e-8+t*n,t=15027403968909828e-22+t*n,t=t*n-4013867526981546e-21,t=29234449089955446e-22+t*n,t=12475304481671779e-21+t*n,t=t*n-47318229009055734e-21,t=6828485145957318e-20+t*n,t=24031110387097894e-21+t*n,t=t*n-.0003550375203628475,t=.0009532893797373805+t*n,t=t*n-.0016882755560235047,t=.002491442096107851+t*n,t=t*n-.003751208507569241,t=.005370914553590064+t*n,t=1.0052589676941592+t*n,t=3.0838856104922208+t*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=-27109920616438573e-27,t=t*n-2.555641816996525e-10,t=1.5076572693500548e-9+t*n,t=t*n-3.789465440126737e-9,t=7.61570120807834e-9+t*n,t=t*n-1.496002662714924e-8,t=2.914795345090108e-8+t*n,t=t*n-6.771199775845234e-8,t=2.2900482228026655e-7+t*n,t=t*n-9.9298272942317e-7,t=4526062597223154e-21+t*n,t=t*n-1968177810553167e-20,t=7599527703001776e-20+t*n,t=t*n-.00021503011930044477,t=t*n-.00013871931833623122,t=1.0103004648645344+t*n,t=4.849906401408584+t*n):t=1/0,t*e}(2*e-1)}function O(e,t){let n,i;const r={mean(e){return arguments.length?(n=e||0,r):n},stdev(e){return arguments.length?(i=null==e?1:e,r):i},sample:()=>_(n,i),pdf:e=>w(e,n,i),cdf:e=>A(e,n,i),icdf:e=>k(e,n,i)};return r.mean(e).stdev(t)}function D(e,t){const n=O();let i=0;const r={data(n){return arguments.length?(e=n,i=n?n.length:0,r.bandwidth(t)):e},bandwidth(n){return arguments.length?(!(t=n)&&e&&(t=f(e)),r):t},sample:()=>e[~~(d()*i)]+t*n.sample(),pdf(r){let a=0,o=0;for(;o<i;++o)a+=n.pdf((r-e[o])/t);return a/t/i},cdf(r){let a=0,o=0;for(;o<i;++o)a+=n.cdf((r-e[o])/t);return a/i},icdf(){throw Error("KDE icdf not supported.")}};return r.data(e)}function E(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+_()*t)}function F(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;const i=(Math.log(e)-t)/n;return Math.exp(-.5*i*i)/(n*b*e)}function $(e,t,n){return A(Math.log(e),t,n)}function C(e,t,n){return Math.exp(k(e,t,n))}function M(e,t){let n,i;const r={mean(e){return arguments.length?(n=e||0,r):n},stdev(e){return arguments.length?(i=null==e?1:e,r):i},sample:()=>E(n,i),pdf:e=>F(e,n,i),cdf:e=>$(e,n,i),icdf:e=>C(e,n,i)};return r.mean(e).stdev(t)}function R(e,t){let n,i=0;const r={weights(e){return arguments.length?(n=function(e){const t=[];let n,r=0;for(n=0;n<i;++n)r+=t[n]=null==e[n]?1:+e[n];for(n=0;n<i;++n)t[n]/=r;return t}(t=e||[]),r):t},distributions(n){return arguments.length?(n?(i=n.length,e=n):(i=0,e=[]),r.weights(t)):e},sample(){const t=d();let r=e[i-1],a=n[0],o=0;for(;o<i-1;a+=n[++o])if(t<a){r=e[o];break}return r.sample()},pdf(t){let r=0,a=0;for(;a<i;++a)r+=n[a]*e[a].pdf(t);return r},cdf(t){let r=0,a=0;for(;a<i;++a)r+=n[a]*e[a].cdf(t);return r},icdf(){throw Error("Mixture icdf not supported.")}};return r.distributions(e).weights(t)}function S(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*d()}function B(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function Z(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function T(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function P(e,t){let n,i;const r={min(e){return arguments.length?(n=e||0,r):n},max(e){return arguments.length?(i=null==e?1:e,r):i},sample:()=>S(n,i),pdf:e=>B(e,n,i),cdf:e=>Z(e,n,i),icdf:e=>T(e,n,i)};return null==t&&(t=null==e?1:e,e=0),r.min(e).max(t)}function j(e,t,n,i){const r=i-e*e,a=Math.abs(r)<1e-24?0:(n-e*t)/r;return[t-a*e,a]}function z(e,t,n,i){e=e.filter((e=>{let i=t(e),r=n(e);return null!=i&&(i=+i)>=i&&null!=r&&(r=+r)>=r})),i&&e.sort(((e,n)=>t(e)-t(n)));const r=e.length,a=new Float64Array(r),o=new Float64Array(r);let s,u,l,f=0,c=0,d=0;for(l of e)a[f]=s=+t(l),o[f]=u=+n(l),++f,c+=(s-c)/f,d+=(u-d)/f;for(f=0;f<r;++f)a[f]-=c,o[f]-=d;return[a,o,c,d]}function q(e,t,n,i){let r,a,o=-1;for(const s of e)r=t(s),a=n(s),null!=r&&(r=+r)>=r&&null!=a&&(a=+a)>=a&&i(r,a,++o)}function N(e,t,n,i,r){let a=0,o=0;return q(e,t,n,((e,t)=>{const n=t-r(e),s=t-i;a+=n*n,o+=s*s})),1-a/o}function U(e,t,n){let i=0,r=0,a=0,o=0,s=0;q(e,t,n,((e,t)=>{++s,i+=(e-i)/s,r+=(t-r)/s,a+=(e*t-a)/s,o+=(e*e-o)/s}));const u=j(i,r,a,o),l=e=>u[0]+u[1]*e;return{coef:u,predict:l,rSquared:N(e,t,n,r,l)}}function L(e,t,n){let i=0,r=0,a=0,o=0,s=0;q(e,t,n,((e,t)=>{++s,e=Math.log(e),i+=(e-i)/s,r+=(t-r)/s,a+=(e*t-a)/s,o+=(e*e-o)/s}));const u=j(i,r,a,o),l=e=>u[0]+u[1]*Math.log(e);return{coef:u,predict:l,rSquared:N(e,t,n,r,l)}}function I(e,t,n){const[i,r,a,o]=z(e,t,n);let s,u,l,f=0,c=0,d=0,h=0,p=0;q(e,t,n,((e,t)=>{s=i[p++],u=Math.log(t),l=s*t,f+=(t*u-f)/p,c+=(l-c)/p,d+=(l*u-d)/p,h+=(s*l-h)/p}));const[m,g]=j(c/o,f/o,d/o,h/o),y=e=>Math.exp(m+g*(e-a));return{coef:[Math.exp(m-g*a),g],predict:y,rSquared:N(e,t,n,o,y)}}function W(e,t,n){let i=0,r=0,a=0,o=0,s=0,u=0;q(e,t,n,((e,t)=>{const n=Math.log(e),l=Math.log(t);++u,i+=(n-i)/u,r+=(l-r)/u,a+=(n*l-a)/u,o+=(n*n-o)/u,s+=(t-s)/u}));const l=j(i,r,a,o),f=e=>l[0]*Math.pow(e,l[1]);return l[0]=Math.exp(l[0]),{coef:l,predict:f,rSquared:N(e,t,n,s,f)}}function X(e,t,n){const[i,r,a,o]=z(e,t,n),s=i.length;let u,l,f,c,d=0,h=0,p=0,m=0,g=0;for(u=0;u<s;)l=i[u],f=r[u++],c=l*l,d+=(c-d)/u,h+=(c*l-h)/u,p+=(c*c-p)/u,m+=(l*f-m)/u,g+=(c*f-g)/u;const y=p-d*d,b=d*y-h*h,v=(g*d-m*h)/b,x=(m*y-g*h)/b,_=-v*d,w=e=>v*(e-=a)*e+x*e+_+o;return{coef:[_-x*a+v*a*a+o,x-2*v*a,v],predict:w,rSquared:N(e,t,n,o,w)}}function V(e,t,n,i){if(1===i)return U(e,t,n);if(2===i)return X(e,t,n);const[r,a,o,s]=z(e,t,n),u=r.length,l=[],f=[],c=i+1;let d,h,p,m,g;for(d=0;d<c;++d){for(p=0,m=0;p<u;++p)m+=Math.pow(r[p],d)*a[p];for(l.push(m),g=new Float64Array(c),h=0;h<c;++h){for(p=0,m=0;p<u;++p)m+=Math.pow(r[p],d+h);g[h]=m}f.push(g)}f.push(l);const y=function(e){const t=e.length-1,n=[];let i,r,a,o,s;for(i=0;i<t;++i){for(o=i,r=i+1;r<t;++r)Math.abs(e[i][r])>Math.abs(e[i][o])&&(o=r);for(a=i;a<t+1;++a)s=e[a][i],e[a][i]=e[a][o],e[a][o]=s;for(r=i+1;r<t;++r)for(a=t;a>=i;a--)e[a][r]-=e[a][i]*e[i][r]/e[i][i]}for(r=t-1;r>=0;--r){for(s=0,a=r+1;a<t;++a)s+=e[a][r]*n[a];n[r]=(e[t][r]-s)/e[r][r]}return n}(f),b=e=>{e-=o;let t=s+y[0]+y[1]*e+y[2]*e*e;for(d=3;d<c;++d)t+=y[d]*Math.pow(e,d);return t};return{coef:H(c,y,-o,s),predict:b,rSquared:N(e,t,n,s,b)}}function H(e,t,n,i){const r=Array(e);let a,o,s,u;for(a=0;a<e;++a)r[a]=0;for(a=e-1;a>=0;--a)for(s=t[a],u=1,r[a]+=s,o=1;o<=a;++o)u*=(a+1-o)/o,r[a-o]+=s*Math.pow(n,o)*u;return r[0]+=i,r}function J(e,t,n,i){const[r,a,s,u]=z(e,t,n,!0),l=r.length,f=Math.max(2,~~(i*l)),c=new Float64Array(l),d=new Float64Array(l),h=new Float64Array(l).fill(1);for(let e=-1;++e<=2;){const t=[0,f-1];for(let e=0;e<l;++e){const n=r[e],i=t[0],o=t[1],s=n-r[i]>r[o]-n?i:o;let u=0,l=0,f=0,p=0,m=0;const g=1/Math.abs(r[s]-n||1);for(let e=i;e<=o;++e){const t=r[e],i=a[e],o=Y(Math.abs(n-t)*g)*h[e],s=t*o;u+=o,l+=s,f+=i*o,p+=i*s,m+=t*s}const[y,b]=j(l/u,f/u,p/u,m/u);c[e]=y+b*n,d[e]=Math.abs(a[e]-c[e]),G(r,e+1,t)}if(2===e)break;const n=(0,o.Z)(d);if(Math.abs(n)<1e-12)break;for(let e,t,i=0;i<l;++i)e=d[i]/(6*n),h[i]=e>=1?1e-12:(t=1-e*e)*t}return function(e,t,n,i){const r=e.length,a=[];let o,s=0,u=0,l=[];for(;s<r;++s)o=e[s]+n,l[0]===o?l[1]+=(t[s]-l[1])/++u:(u=0,l[1]+=i,l=[o,t[s]],a.push(l));return l[1]+=i,a}(r,c,s,u)}function Y(e){return(e=1-e*e*e)*e*e}function G(e,t,n){const i=e[t];let r=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>r&&e[a]-i<=i-e[r];)n[0]=++r,n[1]=a,++a}const K=.5*Math.PI/180;function Q(e,t,n,i){n=n||25,i=Math.max(n,i||200);const r=t=>[t,e(t)],a=t[0],o=t[1],s=o-a,u=s/i,l=[r(a)],f=[];if(n===i){for(let e=1;e<i;++e)l.push(r(a+e/n*s));return l.push(r(o)),l}f.push(r(o));for(let e=n;--e>0;)f.push(r(a+e/n*s));let c=l[0],d=f[f.length-1];const h=1/s,p=function(e,t){let n=e,i=e;const r=t.length;for(let e=0;e<r;++e){const r=t[e][1];r<n&&(n=r),r>i&&(i=r)}return 1/(i-n)}(c[1],f);for(;d;){const e=r((c[0]+d[0])/2);e[0]-c[0]>=u&&ee(c,e,d,h,p)>K?f.push(e):(c=d,l.push(d),f.pop()),d=f[f.length-1]}return l}function ee(e,t,n,i,r){const a=Math.atan2(r*(n[1]-e[1]),i*(n[0]-e[0])),o=Math.atan2(r*(t[1]-e[1]),i*(t[0]-e[0]));return Math.abs(a-o)}},63869:(e,t,n)=>{"use strict";function i(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:()=>i})},39675:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(64658);function r(e,t){const n=(0,i.Z)(e,t);return n?Math.sqrt(n):n}},24912:(e,t,n)=>{"use strict";function i(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}n.d(t,{Z:()=>i})},52684:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(7791);function r(e,t){return(0,i.Z)(e,.5,t)}},91735:(e,t,n)=>{"use strict";function i(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}n.d(t,{Z:()=>i})},16874:(e,t,n)=>{"use strict";function i(e){return null===e?NaN:+e}function*r(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(i=+i)>=i&&(yield i)}}n.d(t,{Z:()=>i,K:()=>r})},7791:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,s:()=>u});var i=n(24912),r=n(91735),a=n(94235),o=n(16874);function s(e,t,n){if(s=(e=Float64Array.from((0,o.K)(e,n))).length){if((t=+t)<=0||s<2)return(0,r.Z)(e);if(t>=1)return(0,i.Z)(e);var s,u=(s-1)*t,l=Math.floor(u),f=(0,i.Z)((0,a.Z)(e,l).subarray(0,l+1));return f+((0,r.Z)(e.subarray(l+1))-f)*(u-l)}}function u(e,t,n=o.Z){if(i=e.length){if((t=+t)<=0||i<2)return+n(e[0],0,e);if(t>=1)return+n(e[i-1],i-1,e);var i,r=(i-1)*t,a=Math.floor(r),s=+n(e[a],a,e);return s+(+n(e[a+1],a+1,e)-s)*(r-a)}}},94235:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(63869);function r(e,t,n=0,o=e.length-1,s=i.Z){for(;o>n;){if(o-n>600){const i=o-n+1,a=t-n+1,u=Math.log(i),l=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*l*(i-l)/i)*(a-i/2<0?-1:1);r(e,t,Math.max(n,Math.floor(t-a*l/i+f)),Math.min(o,Math.floor(t+(i-a)*l/i+f)),s)}const i=e[t];let u=n,l=o;for(a(e,n,t),s(e[o],i)>0&&a(e,n,o);u<l;){for(a(e,u,l),++u,--l;s(e[u],i)<0;)++u;for(;s(e[l],i)>0;)--l}0===s(e[n],i)?a(e,n,l):(++l,a(e,l,o)),l<=t&&(n=l+1),t<=l&&(o=l-1)}return e}function a(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}},64658:(e,t,n)=>{"use strict";function i(e,t){let n,i=0,r=0,a=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(n=t-r,r+=n/++i,a+=n*(t-r));else{let o=-1;for(let s of e)null!=(s=t(s,++o,e))&&(s=+s)>=s&&(n=s-r,r+=n/++i,a+=n*(s-r))}if(i>1)return a/(i-1)}n.d(t,{Z:()=>i})},49340:(e,t,n)=>{"use strict";n.r(t),n.d(t,{dark:()=>r,excel:()=>o,fivethirtyeight:()=>c,ggplot2:()=>h,googlecharts:()=>B,latimes:()=>v,quartz:()=>w,urbaninstitute:()=>C,version:()=>Z,vox:()=>k});const i="#fff",r={background:"#333",title:{color:i,subtitleColor:i},style:{"guide-label":{fill:i},"guide-title":{fill:i}},axis:{domainColor:i,gridColor:"#888",tickColor:i}},a="#4572a7",o={background:"#fff",arc:{fill:a},area:{fill:a},line:{stroke:a,strokeWidth:2},path:{stroke:a},rect:{fill:a},shape:{stroke:a},symbol:{fill:a,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},s="#30a2da",u="#cbcbcb",l="#f0f0f0",f="#333",c={arc:{fill:s},area:{fill:s},axis:{domainColor:u,grid:!0,gridColor:u,gridWidth:1,labelColor:"#999",labelFontSize:10,titleColor:"#333",tickColor:u,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:l,group:{fill:l},legend:{labelColor:f,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:f,titleFontSize:14,titlePadding:10},line:{stroke:s,strokeWidth:2},path:{stroke:s,strokeWidth:.5},rect:{fill:s},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:s},bar:{binSpacing:2,fill:s,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},d="#000",h={group:{fill:"#e5e5e5"},arc:{fill:d},area:{fill:d},line:{stroke:d},path:{stroke:d},rect:{fill:d},shape:{stroke:d},symbol:{fill:d,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},p="Benton Gothic, sans-serif",m="#82c6df",g="Benton Gothic Bold, sans-serif",y="normal",b={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},v={background:"#ffffff",title:{anchor:"start",color:"#000000",font:g,fontSize:22,fontWeight:"normal"},arc:{fill:m},area:{fill:m},line:{stroke:m,strokeWidth:2},path:{stroke:m},rect:{fill:m},shape:{stroke:m},symbol:{fill:m,size:30},axis:{labelFont:p,labelFontSize:11.5,labelFontWeight:"normal",titleFont:g,titleFontSize:13,titleFontWeight:y},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:p,labelFontSize:11.5,symbolType:"square",titleFont:g,titleFontSize:13,titleFontWeight:y},range:{category:b["category-6"],diverging:b["fireandice-6"],heatmap:b["fire-7"],ordinal:b["fire-7"],ramp:b["fire-7"]}},x="#ab5787",_="#979797",w={background:"#f9f9f9",arc:{fill:x},area:{fill:x},line:{stroke:x},path:{stroke:x},rect:{fill:x},shape:{stroke:x},symbol:{fill:x,size:30},axis:{domainColor:_,domainWidth:.5,gridWidth:.2,labelColor:_,tickColor:_,tickWidth:.2,titleColor:_},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},A="#3e5c69",k={background:"#fff",arc:{fill:A},area:{fill:A},line:{stroke:A},path:{stroke:A},rect:{fill:A},shape:{stroke:A},symbol:{fill:A},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},O="#1696d2",D="#000000",E="Lato",F="Lato",$={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},C={background:"#FFFFFF",title:{anchor:"start",fontSize:18,font:E},axisX:{domain:!0,domainColor:D,domainWidth:1,grid:!1,labelFontSize:12,labelFont:F,labelAngle:0,tickColor:D,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:E},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:"#DEDDDD",gridWidth:1,labelFontSize:12,labelFont:F,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:E,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:F,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:E,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:$["six-groups-cat-1"],diverging:$["diverging-colors"],heatmap:$["diverging-colors"],ordinal:$["six-groups-seq"],ramp:$["shades-blue"]},area:{fill:O},rect:{fill:O},line:{color:O,stroke:O,strokeWidth:5},trail:{color:O,stroke:O,strokeWidth:0,size:1},path:{stroke:O,strokeWidth:.5},point:{filled:!0},text:{font:"Lato",color:O,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:O,stroke:null}},arc:{fill:O},shape:{stroke:O},symbol:{fill:O,size:30}},M="#3366CC",R="#ccc",S="Arial, sans-serif",B={arc:{fill:M},area:{fill:M},path:{stroke:M},rect:{fill:M},shape:{stroke:M},symbol:{stroke:M},circle:{fill:M},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:S,fontSize:12},"guide-title":{font:S,fontSize:12},"group-title":{font:S,fontSize:12}},title:{font:S,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:R,tickColor:R,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Z="2.10.0"},73093:(e,t,n)=>{"use strict";n.d(t,{Hu:()=>k,x4:()=>O,pN:()=>D,gd:()=>E,cw:()=>C,DZ:()=>F,vc:()=>w,PD:()=>_,kG:()=>$,LO:()=>M,ps:()=>A,oP:()=>x,y_:()=>j,pt:()=>Ae,BR:()=>ee,JZ:()=>oe,Vm:()=>le,uA:()=>de,iJ:()=>Z,FW:()=>S,pd:()=>ie,zr:()=>se,_M:()=>fe,MC:()=>he,zk:()=>I,aw:()=>W,g0:()=>z});var i=n(48823),r=n(69478),a=n(22776),o=n(89692),s=n(97326),u=n(82209),l=n(4584),f=n(42784),c=n(7197),d=n(15086),h=n(98179),p=n(31181),m=n(47512),g=n(60590),y=n(74878),b=n(10195),v=n(74978);const x="year",_="quarter",w="month",A="week",k="date",O="day",D="dayofyear",E="hours",F="minutes",$="seconds",C="milliseconds",M=[x,_,w,A,k,O,D,E,F,$,C],R=M.reduce(((e,t,n)=>(e[t]=1+n,e)),{});function S(e){const t=(0,i.IX)(e).slice(),n={};return t.length||(0,i.vU)("Missing time unit."),t.forEach((e=>{(0,i.nr)(R,e)?n[e]=1:(0,i.vU)("Invalid time unit: ".concat(e,"."))})),(n[A]||n[O]?1:0)+(n[_]||n[w]||n[k]?1:0)+(n[D]?1:0)>1&&(0,i.vU)("Incompatible time units: ".concat(e)),t.sort(((e,t)=>R[e]-R[t])),t}const B={[x]:"%Y ",[_]:"Q%q ",[w]:"%b ",[k]:"%d ",[A]:"W%U ",[O]:"%a ",[D]:"%j ",[E]:"%H:00",[F]:"00:%M",[$]:":%S",[C]:".%L",["".concat(x,"-").concat(w)]:"%Y-%m ",["".concat(x,"-").concat(w,"-").concat(k)]:"%Y-%m-%d ",["".concat(E,"-").concat(F)]:"%H:%M"};function Z(e,t){const n=(0,i.l7)({},B,t),r=S(e),a=r.length;let o,s,u="",l=0;for(l=0;l<a;)for(o=r.length;o>l;--o)if(s=r.slice(l,o).join("-"),null!=n[s]){u+=n[s],l=o;break}return u.trim()}const T=new Date;function P(e){return T.setFullYear(e),T.setMonth(0),T.setDate(1),T.setHours(0,0,0,0),T}function j(e){return q(new Date(e))}function z(e){return N(new Date(e))}function q(e){return r.Z.count(P(e.getFullYear())-1,e)}function N(e){return a.OM.count(P(e.getFullYear())-1,e)}function U(e){return P(e).getDay()}function L(e,t,n,i,r,a,o){if(0<=e&&e<100){const s=new Date(-1,t,n,i,r,a,o);return s.setFullYear(e),s}return new Date(e,t,n,i,r,a,o)}function I(e){return X(new Date(e))}function W(e){return V(new Date(e))}function X(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return o.Z.count(t-1,e)}function V(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return s.Ox.count(t-1,e)}function H(e){return T.setTime(Date.UTC(e,0,1)),T.getUTCDay()}function J(e,t,n,i,r,a,o){if(0<=e&&e<100){const e=new Date(Date.UTC(-1,t,n,i,r,a,o));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(e,t,n,i,r,a,o))}function Y(e,t,n,r,a){const o=t||1,s=(0,i.fj)(e),u=(e,t,i)=>function(e,t,n,i){const r=n<=1?e:i?(t,r)=>i+n*Math.floor((e(t,r)-i)/n):(t,i)=>n*Math.floor(e(t,i)/n);return t?(e,n)=>t(r(e,n),n):r}(n[i=i||e],r[i],e===s&&o,t),l=new Date,f=(0,i.Rg)(e),c=f[x]?u(x):(0,i.a9)(2012),d=f[w]?u(w):f[_]?u(_):i.bM,h=f[A]&&f[O]?u(O,1,A+O):f[A]?u(A,1):f[O]?u(O,1):f[k]?u(k,1):f[D]?u(D,1):i.kX,p=f[E]?u(E):i.bM,m=f[F]?u(F):i.bM,g=f[$]?u($):i.bM,y=f[C]?u(C):i.bM;return function(e){l.setTime(+e);const t=c(l);return a(t,d(l),h(l,t),p(l),m(l),g(l),y(l))}}function G(e,t,n){return t+7*e-(n+6)%7}const K={[x]:e=>e.getFullYear(),[_]:e=>Math.floor(e.getMonth()/3),[w]:e=>e.getMonth(),[k]:e=>e.getDate(),[E]:e=>e.getHours(),[F]:e=>e.getMinutes(),[$]:e=>e.getSeconds(),[C]:e=>e.getMilliseconds(),[D]:e=>q(e),[A]:e=>N(e),[A+O]:(e,t)=>G(N(e),e.getDay(),U(t)),[O]:(e,t)=>G(1,e.getDay(),U(t))},Q={[_]:e=>3*e,[A]:(e,t)=>G(e,0,U(t))};function ee(e,t){return Y(e,t||1,K,Q,L)}const te={[x]:e=>e.getUTCFullYear(),[_]:e=>Math.floor(e.getUTCMonth()/3),[w]:e=>e.getUTCMonth(),[k]:e=>e.getUTCDate(),[E]:e=>e.getUTCHours(),[F]:e=>e.getUTCMinutes(),[$]:e=>e.getUTCSeconds(),[C]:e=>e.getUTCMilliseconds(),[D]:e=>X(e),[A]:e=>V(e),[O]:(e,t)=>G(1,e.getUTCDay(),H(t)),[A+O]:(e,t)=>G(V(e),e.getUTCDay(),H(t))},ne={[_]:e=>3*e,[A]:(e,t)=>G(e,0,H(t))};function ie(e,t){return Y(e,t||1,te,ne,J)}const re={[x]:u.Z,[_]:l.Z.every(3),[w]:l.Z,[A]:a.OM,[k]:r.Z,[O]:r.Z,[D]:r.Z,[E]:f.Z,[F]:c.Z,[$]:d.Z,[C]:h.Z},ae={[x]:p.Z,[_]:m.Z.every(3),[w]:m.Z,[A]:s.Ox,[k]:o.Z,[O]:o.Z,[D]:o.Z,[E]:g.Z,[F]:y.Z,[$]:d.Z,[C]:h.Z};function oe(e){return re[e]}function se(e){return ae[e]}function ue(e,t,n){return e?e.offset(t,n):void 0}function le(e,t,n){return ue(oe(e),t,n)}function fe(e,t,n){return ue(se(e),t,n)}function ce(e,t,n,i){return e?e.range(t,n,i):void 0}function de(e,t,n,i){return ce(oe(e),t,n,i)}function he(e,t,n,i){return ce(se(e),t,n,i)}const pe=31536e6,me=[x,w,k,E,F,$,C],ge=me.slice(0,-1),ye=ge.slice(0,-1),be=ye.slice(0,-1),ve=be.slice(0,-1),xe=[x,w],_e=[x],we=[[ge,1,1e3],[ge,5,5e3],[ge,15,15e3],[ge,30,3e4],[ye,1,6e4],[ye,5,3e5],[ye,15,9e5],[ye,30,18e5],[be,1,36e5],[be,3,108e5],[be,6,216e5],[be,12,432e5],[ve,1,864e5],[[x,A],1,6048e5],[xe,1,2592e6],[xe,3,7776e6],[_e,1,pe]];function Ae(e){const t=e.extent,n=e.maxbins||40,r=Math.abs((0,i.yP)(t))/n;let a,o,s=(0,b.Z)((e=>e[2])).right(we,r);return s===we.length?(a=_e,o=(0,v.ly)(t[0]/pe,t[1]/pe,n)):s?(s=we[r/we[s-1][2]<we[s][2]/r?s-1:s],a=s[0],o=s[1]):(a=me,o=Math.max((0,v.ly)(t[0],t[1],n),1)),{units:a,step:o}}},69276:(e,t,n)=>{"use strict";function i(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:()=>i})},10195:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(69276);function r(e){let t=e,n=e;function r(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const a=i+r>>>1;n(e[a],t)<0?i=a+1:r=a}return i}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>(0,i.Z)(e(t),n)}(e)),{left:r,center:function(e,n,i,a){null==i&&(i=0),null==a&&(a=e.length);const o=r(e,n,i,a-1);return o>i&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const a=i+r>>>1;n(e[a],t)>0?r=a:i=a+1}return i}}}},74978:(e,t,n)=>{"use strict";n.d(t,{ly:()=>o});var i=Math.sqrt(50),r=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/s;return u>=i?s*=10:u>=r?s*=5:u>=a&&(s*=2),t<e?-s:s}},53064:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>l,Pz:()=>r,i8:()=>u});var i=n(48823);function r(e,t){return JSON.stringify(e,function(e){const t=[];return function(n,i){if("object"!=typeof i||null===i)return i;const r=t.indexOf(this)+1;return t.length=r,t.length>e?"[Object]":t.indexOf(i)>=0?"[Circular]":(t.push(i),i)}}(t))}const a="vg-tooltip-element",o={offsetX:10,offsetY:10,id:a,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")},maxDepth:2,formatTooltip:function(e,t,n){if((0,i.kJ)(e))return`[${e.map((e=>t((0,i.HD)(e)?e:r(e,n)))).join(", ")}]`;if((0,i.Kn)(e)){let a="";const o=e,{title:s,image:u}=o,l=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(o,["title","image"]);s&&(a+=`<h2>${t(s)}</h2>`),u&&(a+=`<img src="${t(u)}">`);const f=Object.keys(l);if(f.length>0){a+="<table>";for(const e of f){let o=l[e];void 0!==o&&((0,i.Kn)(o)&&(o=r(o,n)),a+=`<tr><td class="key">${t(e)}:</td><td class="value">${t(o)}</td></tr>`)}a+="</table>"}return a||"{}"}return t(e)}};class s{constructor(e){this.options=Object.assign(Object.assign({},o),e);const t=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const e=document.createElement("style");e.setAttribute("id",this.options.styleId),e.innerHTML=function(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return"#vg-tooltip-element {\n  visibility: hidden;\n  padding: 8px;\n  position: fixed;\n  z-index: 1000;\n  font-family: sans-serif;\n  font-size: 11px;\n  border-radius: 3px;\n  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);\n  /* The default theme is the light theme. */\n  background-color: rgba(255, 255, 255, 0.95);\n  border: 1px solid #d9d9d9;\n  color: black;\n}\n#vg-tooltip-element.visible {\n  visibility: visible;\n}\n#vg-tooltip-element h2 {\n  margin-top: 0;\n  margin-bottom: 10px;\n  font-size: 13px;\n}\n#vg-tooltip-element img {\n  max-width: 200px;\n  max-height: 200px;\n}\n#vg-tooltip-element table {\n  border-spacing: 0;\n}\n#vg-tooltip-element table tr {\n  border: none;\n}\n#vg-tooltip-element table tr td {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n#vg-tooltip-element table tr td.key {\n  color: #808080;\n  max-width: 150px;\n  text-align: right;\n  padding-right: 4px;\n}\n#vg-tooltip-element table tr td.value {\n  display: block;\n  max-width: 300px;\n  max-height: 7em;\n  text-align: left;\n}\n#vg-tooltip-element.dark-theme {\n  background-color: rgba(32, 32, 32, 0.9);\n  border: 1px solid #f5f5f5;\n  color: white;\n}\n#vg-tooltip-element.dark-theme td.key {\n  color: #bfbfbf;\n}\n".toString().replace(a,e)}(t);const n=document.head;n.childNodes.length>0?n.insertBefore(e,n.childNodes[0]):n.appendChild(e)}}tooltipHandler(e,t,n,i){var r;if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(null!==(r=document.fullscreenElement)&&void 0!==r?r:document.body).appendChild(this.el)),null==i||""===i)return void this.el.classList.remove("visible",`${this.options.theme}-theme`);this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:a,y:o}=function(e,t,n,i){let r=e.clientX+n;r+t.width>window.innerWidth&&(r=+e.clientX-n-t.width);let a=e.clientY+i;return a+t.height>window.innerHeight&&(a=+e.clientY-i-t.height),{x:r,y:a}}(t,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.setAttribute("style",`top: ${o}px; left: ${a}px`)}}const u="0.28.0";function l(e,t){const n=new s(t);return e.tooltip(n.call).run(),n}},72930:(e,t,n)=>{"use strict";n.r(t),n.d(t,{aggregate:()=>F,bin:()=>$,collect:()=>M,compare:()=>R,countpattern:()=>B,cross:()=>Z,density:()=>j,dotbin:()=>L,expression:()=>I,extent:()=>X,facet:()=>H,field:()=>J,filter:()=>G,flatten:()=>K,fold:()=>Q,formula:()=>ee,generate:()=>te,impute:()=>re,joinaggregate:()=>ae,kde:()=>oe,key:()=>se,load:()=>le,lookup:()=>ce,multiextent:()=>de,multivalues:()=>pe,params:()=>ge,pivot:()=>ye,prefacet:()=>be,project:()=>ve,proxy:()=>xe,quantile:()=>_e,relay:()=>we,sample:()=>Ae,sequence:()=>ke,sieve:()=>Oe,subflow:()=>V,timeunit:()=>De,tupleindex:()=>Fe,values:()=>$e,window:()=>Be});var i=n(48823),r=n(4036),a=n(90195),o=n(94093),s=n(42384),u=n(16938),l=n(57397),f=n(47739),c=n(65625),d=n(73093);function h(e){return e&&e.length?1===e.length?e[0]:(t=e,e=>{const n=t.length;let i=1,r=String(t[0](e));for(;i<n;++i)r+="|"+t[i](e);return r}):function(){return""};var t}function p(e,t,n){return n||e+(t?"_"+t:"")}const m=()=>{},g={init:m,add:m,rem:m,idx:0},y={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},b=Object.keys(y);function v(e,t){return y[e](t)}function x(e,t){return e.idx-t.idx}function _(){this.valid=0,this.missing=0,this._ops.forEach((e=>e.init(this)))}function w(e,t){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach((n=>n.add(this,e,t)))):++this.missing}function A(e,t){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach((n=>n.rem(this,e,t)))):--this.missing}function k(e){return this._out.forEach((t=>e[t.out]=t.value(this))),e}function O(e,t){const n=t||i.yR,r=function(e){const t={};e.forEach((e=>t[e.name]=e));const n=e=>{e.req&&e.req.forEach((e=>{t[e]||n(t[e]=y[e]())}))};return e.forEach(n),Object.values(t).sort(x)}(e),a=e.slice().sort(x);function o(e){this._ops=r,this._out=a,this.cell=e,this.init()}return o.prototype.init=_,o.prototype.add=w,o.prototype.rem=A,o.prototype.set=k,o.prototype.get=n,o.fields=e.map((e=>e.out)),o}function D(e){this._key=e?(0,i.EP)(e):r.ai,this.reset()}b.forEach((e=>{y[e]=function(e,t){return n=>(0,i.l7)({name:e,out:n||e},g,t)}(e,y[e])}));const E=D.prototype;function F(e){r.wx.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function $(e){r.wx.call(this,null,e)}function C(e,t,n){const r=e;let a=t||[],o=n||[],s={},u=0;return{add:e=>o.push(e),remove:e=>s[r(e)]=++u,size:()=>a.length,data:(e,t)=>(u&&(a=a.filter((e=>!s[r(e)])),s={},u=0),t&&e&&a.sort(e),o.length&&(a=e?(0,i.TS)(e,a,o.sort(e)):a.concat(o),o=[]),a)}}function M(e){r.wx.call(this,[],e)}function R(e){r.EF.call(this,null,S,e)}function S(e){return this.value&&!e.modified()?this.value:(0,i.qu)(e.fields,e.orders)}function B(e){r.wx.call(this,null,e)}function Z(e){r.wx.call(this,null,e)}E.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},E.add=function(e){this._add.push(e)},E.rem=function(e){this._rem.push(e)},E.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,t=this._rem,n=this._key,i=e.length,r=t.length,a=Array(i-r),o={};let s,u,l;for(s=0;s<r;++s)o[n(t[s])]=1;for(s=0,u=0;s<i;++s)o[n(l=e[s])]?o[n(l)]=0:a[u++]=l;return this._rem=[],this._add=a},E.distinct=function(e){const t=this.values(),n={};let r,a=t.length,o=0;for(;--a>=0;)r=e(t[a])+"",(0,i.nr)(n,r)||(n[r]=1,++o);return o},E.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=(0,i.dI)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},E.argmin=function(e){return this.extent(e)[0]||{}},E.argmax=function(e){return this.extent(e)[1]||{}},E.min=function(e){const t=this.extent(e)[0];return null!=t?e(t):void 0},E.max=function(e){const t=this.extent(e)[1];return null!=t?e(t):void 0},E.quartile=function(e){return this._get===e&&this._q||(this._q=(0,a.cF)(this.values(),e),this._get=e),this._q},E.q1=function(e){return this.quartile(e)[0]},E.q2=function(e){return this.quartile(e)[1]},E.q3=function(e){return this.quartile(e)[2]},E.ci=function(e){return this._get===e&&this._ci||(this._ci=(0,a.aF)(this.values(),1e3,.05,e),this._get=e),this._ci},E.ci0=function(e){return this.ci(e)[0]},E.ci1=function(e){return this.ci(e)[1]},F.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:b},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},(0,i.XW)(F,r.wx,{transform(e,t){const n=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.modified();return n.stamp=i.stamp,n.value&&(r||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=r?n.init(e):{},t.visit(t.SOURCE,(e=>n.add(e)))):(n.value=n.value||n.init(e),t.visit(t.REM,(e=>n.rem(e))),t.visit(t.ADD,(e=>n.add(e)))),i.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&i.clean(!0).runAfter((()=>this.clean())),n.changes(i)},cross(){const e=this,t=e.value,n=e._dnames,i=n.map((()=>({}))),r=n.length;function a(e){let t,a,o,s;for(t in e)for(o=e[t].tuple,a=0;a<r;++a)i[a][s=o[n[a]]]=s}a(e._prev),a(t),function a(o,s,u){const l=n[u],f=i[u++];for(const n in f){const i=o?o+"|"+n:n;s[l]=f[n],u<r?a(i,s,u):t[i]||e.cell(i,s)}}("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function a(e){const n=(0,i.IX)((0,i.Oj)(e)),a=n.length;let o,s=0;for(;s<a;++s)r[o=n[s]]||(r[o]=1,t.push(o))}this._dims=(0,i.IX)(e.groupby),this._dnames=this._dims.map((e=>{const t=(0,i.el)(e);return a(e),n.push(t),t})),this.cellkey=e.key?e.key:h(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],u=e.as||[],l=o.length,f={};let c,d,m,g,y,b;for(l!==s.length&&(0,i.vU)("Unmatched number of fields and aggregate ops."),b=0;b<l;++b)c=o[b],d=s[b],null==c&&"count"!==d&&(0,i.vU)("Null aggregate field specified."),g=(0,i.el)(c),y=p(d,g,u[b]),n.push(y),"count"!==d?(m=f[g],m||(a(c),m=f[g]=[],m.field=c,this._measures.push(m)),"count"!==d&&(this._countOnly=!1),m.push(v(d,y))):this._counts.push(y);return this._measures=this._measures.map((e=>O(e,e.field))),{}},cellkey:h(),cell(e,t){let n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const e=this._measures,t=e.length;n.agg=Array(t);for(let i=0;i<t;++i)n.agg[i]=new e[i](n)}return n.store&&(n.data=new D),n},newtuple(e,t){const n=this._dnames,i=this._dims,a=i.length,o={};for(let t=0;t<a;++t)o[n[t]]=i[t](e);return t?(0,r.gx)(t.tuple,o):(0,r.ax)(o)},clean(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const i=n.agg;for(let t=0,n=i.length;t<n;++t)i[t].add(i[t].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const i=n.agg;for(let t=0,n=i.length;t<n;++t)i[t].rem(i[t].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let i=0,r=n.length;i<r;++i)t[n[i]]=e.num;if(!this._countOnly){const n=e.agg;for(let e=0,i=n.length;e<i;++e)n[e].set(t)}return t},changes(e){const t=this._adds,n=this._mods,i=this._prev,r=this._drop,a=e.add,o=e.rem,s=e.mod;let u,l,f,c;if(i)for(l in i)u=i[l],r&&!u.num||o.push(u.tuple);for(f=0,c=this._alen;f<c;++f)a.push(this.celltuple(t[f])),t[f]=null;for(f=0,c=this._mlen;f<c;++f)u=n[f],(0===u.num&&r?o:s).push(this.celltuple(u)),n[f]=null;return this._alen=this._mlen=0,this._prev=null,e}}),$.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},(0,i.XW)($,r.wx,{transform(e,t){const n=!1!==e.interval,r=this._bins(e),a=r.start,o=r.step,s=e.as||["bin0","bin1"],u=s[0],l=s[1];let f;return f=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified((0,i.Oj)(e.field))?t.ADD_MOD:t.ADD,t.visit(f,n?e=>{const t=r(e);e[u]=t,e[l]=null==t?null:a+o*(1+(t-a)/o)}:e=>e[u]=r(e)),t.modifies(n?s:u)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=(0,a.Ly)(e),r=n.step;let o,s,u=n.start,l=u+Math.ceil((n.stop-u)/r)*r;null!=(o=e.anchor)&&(s=o-(u+r*Math.floor((o-u)/r)),u+=s,l+=s);const f=function(e){let n=(0,i.He)(t(e));return null==n?null:n<u?-1/0:n>l?1/0:(n=Math.max(u,Math.min(n,l-r)),u+r*Math.floor(1e-14+(n-u)/r))};return f.start=u,f.stop=n.stop,f.step=r,this.value=(0,i.ZE)(f,(0,i.Oj)(t),e.name||"bin_"+(0,i.el)(t))}}),M.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},(0,i.XW)(M,r.wx,{transform(e,t){const n=t.fork(t.ALL),i=C(r.ai,this.value,n.materialize(n.ADD).add),a=e.sort,o=t.changed()||a&&(e.modified("sort")||t.modified(a.fields));return n.visit(n.REM,i.remove),this.modified(o),this.value=n.source=i.data((0,r.vo)(a),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),(0,i.XW)(R,r.EF),B.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},(0,i.XW)(B,r.wx,{transform(e,t){const n=t=>n=>{for(var i,r=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(s(n),e.case,a)||[],u=0,l=r.length;u<l;++u)o.test(i=r[u])||t(i)},i=this._parameterCheck(e,t),r=this._counts,a=this._match,o=this._stop,s=e.field,u=e.as||["text","count"],l=n((e=>r[e]=1+(r[e]||0))),f=n((e=>r[e]-=1));return i?t.visit(t.SOURCE,l):(t.visit(t.ADD,l),t.visit(t.REM,f)),this._finish(t,u)},_parameterCheck(e,t){let n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,i=this._tuples||(this._tuples={}),a=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let u,l,f;for(u in n)l=i[u],f=n[u]||0,!l&&f?(i[u]=l=(0,r.ax)({}),l[a]=u,l[o]=f,s.add.push(l)):0===f?(l&&s.rem.push(l),n[u]=null,i[u]=null):l[o]!==f&&(l[o]=f,s.mod.push(l));return s.modifies(t)}}),Z.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},(0,i.XW)(Z,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE),a=e.as||["a","b"],o=a[0],s=a[1],u=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let l=this.value;return u?(l&&(n.rem=l),l=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,i){for(var a,o,s=[],u={},l=e.length,f=0;f<l;++f)for(u[t]=o=e[f],a=0;a<l;++a)u[n]=e[a],i(u)&&(s.push((0,r.ax)(u)),(u={})[t]=o);return s}(l,o,s,e.filter||i.yb)):n.mod=l,n.source=this.value,n.modifies(a)}});const T={kde:a.l0,mixture:a.wz,normal:a.nG,lognormal:a.bw,uniform:a.LG};function P(e,t){const n=e.function;(0,i.nr)(T,n)||(0,i.vU)("Unknown distribution function: "+n);const r=T[n]();for(const n in e)"field"===n?r.data((e.from||t()).map(e[n])):"distributions"===n?r[n](e[n].map((e=>P(e,t)))):"function"==typeof r[n]&&r[n](e[n]);return r}function j(e){r.wx.call(this,null,e)}const z=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],q={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:z},{name:"weights",type:"number",array:!0}]};function N(e,t){return e?e.map(((e,n)=>t[n]||(0,i.el)(e))):null}function U(e,t,n){const i=[],r=e=>e(u);let a,o,s,u,l,f;if(null==t)i.push(e.map(n));else for(a={},o=0,s=e.length;o<s;++o)u=e[o],l=t.map(r),f=a[l],f||(a[l]=f=[],f.dims=l,i.push(f)),f.push(n(u));return i}function L(e){r.wx.call(this,null,e)}function I(e){r.EF.call(this,null,W,e),this.modified(!0)}function W(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:(0,i.ZE)((n=>t(n,e)),(0,i.Oj)(t),(0,i.el)(t))}function X(e){r.wx.call(this,[void 0,void 0],e)}function V(e,t){r.EF.call(this,e),this.parent=t,this.count=0}function H(e){r.wx.call(this,{},e),this._keys=(0,i.Xr)();const t=this._targets=[];t.active=0,t.forEach=e=>{for(let n=0,i=t.active;n<i;++n)e(t[n],n,t)}}function J(e){r.EF.call(this,null,Y,e)}function Y(e){return this.value&&!e.modified()?this.value:(0,i.kJ)(e.name)?(0,i.IX)(e.name).map((e=>(0,i.EP)(e))):(0,i.EP)(e.name,e.as)}function G(e){r.wx.call(this,(0,i.Xr)(),e)}function K(e){r.wx.call(this,[],e)}function Q(e){r.wx.call(this,[],e)}function ee(e){r.wx.call(this,null,e)}function te(e){r.wx.call(this,[],e)}j.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:z.concat(q)},{name:"as",type:"string",array:!0,default:["value","density"]}]},(0,i.XW)(j,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const o=P(e.distribution,function(e){return()=>e.materialize(e.SOURCE).source}(t)),s=e.steps||e.minsteps||25,u=e.steps||e.maxsteps||200;let l=e.method||"pdf";"pdf"!==l&&"cdf"!==l&&(0,i.vU)("Invalid density method: "+l),e.extent||o.data||(0,i.vU)("Missing density extent parameter."),l=o[l];const f=e.as||["value","density"],c=e.extent||(0,i.We)(o.data()),d=(0,a.sR)(l,c,s,u).map((e=>{const t={};return t[f[0]]=e[0],t[f[1]]=e[1],(0,r.ax)(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}}),L.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},(0,i.XW)(L,r.wx,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const n=t.materialize(t.SOURCE).source,o=U(t.source,e.groupby,i.yR),s=e.smooth||!1,u=e.field,l=e.step||((e,t)=>(0,i.yP)((0,i.We)(e,t))/30)(n,u),f=(0,r.vo)(((e,t)=>u(e)-u(t))),c=e.as||"bin",d=o.length;let h,p=1/0,m=-1/0,g=0;for(;g<d;++g){const e=o[g].sort(f);h=-1;for(const t of(0,a.Hk)(e,l,s,u))t<p&&(p=t),t>m&&(m=t),e[++h][c]=t}return this.value={start:p,stop:m,step:l},t.reflow(!0).modifies(c)}}),(0,i.XW)(I,r.EF),X.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},(0,i.XW)(X,r.wx,{transform(e,t){const n=this.value,r=e.field,a=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((a||null==o)&&(o=1/0,s=-1/0),t.visit(a?t.SOURCE:t.ADD,(e=>{const t=(0,i.He)(r(e));null!=t&&(t<o&&(o=t),t>s&&(s=t))})),!Number.isFinite(o)||!Number.isFinite(s)){let e=(0,i.el)(r);e&&(e=` for field "${e}"`),t.dataflow.warn(`Infinite extent${e}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}}),(0,i.XW)(V,r.EF,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),(0,i.XW)(H,r.wx,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const a=this.value;let o,s,u=(0,i.nr)(a,e)&&a[e];return u?u.value.stamp<n.stamp&&(u.init(n),this.activate(u)):(s=r||(s=this._group[e])&&s.tuple,o=n.dataflow,u=new V(n.fork(n.NO_SOURCE),this),o.add(u).connect(t(o,e,s)),a[e]=u,this.activate(u)),u},clean(){const e=this.value;let t=0;for(const n in e)if(0===e[n].count){const i=e[n].detachSubflow;i&&i(),delete e[n],++t}if(t){const e=this._targets.filter((e=>e&&e.count>0));this.initTargets(e)}},initTargets(e){const t=this._targets,n=t.length,i=e?e.length:0;let r=0;for(;r<i;++r)t[r]=e[r];for(;r<n&&null!=t[r];++r)t[r]=null;t.active=i},transform(e,t){const n=t.dataflow,i=e.key,a=e.subflow,o=this._keys,s=e.modified("key"),u=e=>this.subflow(e,a,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,(e=>{const t=(0,r.ai)(e),n=o.get(t);void 0!==n&&(o.delete(t),u(n).rem(e))})),t.visit(t.ADD,(e=>{const t=i(e);o.set((0,r.ai)(e),t),u(t).add(e)})),s||t.modified(i.fields)?t.visit(t.MOD,(e=>{const t=(0,r.ai)(e),n=o.get(t),a=i(e);n===a?u(a).mod(e):(o.set(t,a),u(n).rem(e),u(a).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(e=>{u(o.get((0,r.ai)(e))).mod(e)})),s&&t.visit(t.REFLOW,(e=>{const t=(0,r.ai)(e),n=o.get(t),a=i(e);n!==a&&(o.set(t,a),u(n).rem(e),u(a).add(e))})),t.clean()?n.runAfter((()=>{this.clean(),o.clean()})):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}}),(0,i.XW)(J,r.EF),G.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},(0,i.XW)(G,r.wx,{transform(e,t){const n=t.dataflow,i=this.value,a=t.fork(),o=a.add,s=a.rem,u=a.mod,l=e.expr;let f=!0;function c(t){const n=(0,r.ai)(t),a=l(t,e),c=i.get(n);a&&c?(i.delete(n),o.push(t)):a||c?f&&a&&!c&&u.push(t):(i.set(n,1),s.push(t))}return t.visit(t.REM,(e=>{const t=(0,r.ai)(e);i.has(t)?i.delete(t):s.push(e)})),t.visit(t.ADD,(t=>{l(t,e)?o.push(t):i.set((0,r.ai)(t),1)})),t.visit(t.MOD,c),e.modified()&&(f=!1,t.visit(t.REFLOW,c)),i.empty>n.cleanThreshold&&n.runAfter(i.clean),a}}),K.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},(0,i.XW)(K,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,a=N(i,e.as||[]),o=e.index||null,s=a.length;return n.rem=this.value,t.visit(t.SOURCE,(e=>{const t=i.map((t=>t(e))),u=t.reduce(((e,t)=>Math.max(e,t.length)),0);let l,f,c,d=0;for(;d<u;++d){for(f=(0,r.sY)(e),l=0;l<s;++l)f[a[l]]=null==(c=t[l][d])?null:c;o&&(f[o]=d),n.add.push(f)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(a)}}),Q.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},(0,i.XW)(Q,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE),a=e.fields,o=a.map(i.el),s=e.as||["key","value"],u=s[0],l=s[1],f=a.length;return n.rem=this.value,t.visit(t.SOURCE,(e=>{for(let t,i=0;i<f;++i)t=(0,r.sY)(e),t[u]=o[i],t[l]=a[i](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(s)}}),ee.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},(0,i.XW)(ee,r.wx,{transform(e,t){const n=e.expr,i=e.as,r=e.modified(),a=e.initonly?t.ADD:r?t.SOURCE:t.modified(n.fields)||t.modified(i)?t.ADD_MOD:t.ADD;return r&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(i),t.visit(a,(t=>t[i]=n(t,e)))}}),(0,i.XW)(te,r.wx,{transform(e,t){const n=t.fork(t.ALL),i=e.generator;let a,o,s,u=this.value,l=e.size-u.length;if(l>0){for(a=[];--l>=0;)a.push(s=(0,r.ax)(i(e))),u.push(s);n.add=n.add.length?n.materialize(n.ADD).add.concat(a):a}else o=u.slice(0,-l),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(o):o,u=u.slice(-l);return n.source=this.value=u,n}});const ne={value:"value",median:o.Z,mean:s.Z,min:u.Z,max:l.Z},ie=[];function re(e){r.wx.call(this,[],e)}function ae(e){F.call(this,e)}function oe(e){r.wx.call(this,null,e)}function se(e){r.EF.call(this,null,ue,e)}function ue(e){return this.value&&!e.modified()?this.value:(0,i.Jy)(e.fields,e.flat)}function le(e){r.wx.call(this,[],e),this._pending=null}function fe(e,t,n){n.forEach(r.ax);const i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.source=i.add=n,e._pending=null,i.rem.length&&i.clean(!0),i}function ce(e){r.wx.call(this,{},e)}function de(e){r.EF.call(this,null,he,e)}function he(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let i,r,a=1/0,o=-1/0;for(i=0;i<n;++i)r=t[i],r[0]<a&&(a=r[0]),r[1]>o&&(o=r[1]);return[a,o]}function pe(e){r.EF.call(this,null,me,e)}function me(e){return this.value&&!e.modified()?this.value:e.values.reduce(((e,t)=>e.concat(t)),[])}function ge(e){r.wx.call(this,null,e)}function ye(e){F.call(this,e)}function be(e){H.call(this,e)}function ve(e){r.wx.call(this,null,e)}function xe(e){r.wx.call(this,null,e)}function _e(e){r.wx.call(this,null,e)}function we(e){r.wx.call(this,null,e)}function Ae(e){r.wx.call(this,[],e),this.count=0}function ke(e){r.wx.call(this,null,e)}function Oe(e){r.wx.call(this,null,e),this.modified(!0)}function De(e){r.wx.call(this,null,e)}re.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},(0,i.XW)(re,r.wx,{transform(e,t){var n,a,o,s,u,l,f,c,d,h,p=t.fork(t.ALL),m=function(e){var t,n=e.method||ne.value;if(null!=ne[n])return n===ne.value?(t=void 0!==e.value?e.value:0,()=>t):ne[n];(0,i.vU)("Unrecognized imputation method: "+n)}(e),g=function(e){const t=e.field;return e=>e?t(e):NaN}(e),y=(0,i.el)(e.field),b=(0,i.el)(e.key),v=(e.groupby||[]).map(i.el),x=function(e,t,n,i){var r,a,o,s,u,l,f,c,d=e=>e(c),h=[],p=i?i.slice():[],m={},g={};for(p.forEach(((e,t)=>m[e]=t+1)),s=0,f=e.length;s<f;++s)l=n(c=e[s]),u=m[l]||(m[l]=p.push(l)),(o=g[a=(r=t?t.map(d):ie)+""])||(o=g[a]=[],h.push(o),o.values=r),o[u-1]=c;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),_=[],w=this.value,A=x.domain.length;for(u=0,c=x.length;u<c;++u)for(o=(n=x[u]).values,a=NaN,f=0;f<A;++f)if(null==n[f]){for(s=x.domain[f],h={_impute:!0},l=0,d=o.length;l<d;++l)h[v[l]]=o[l];h[b]=s,h[y]=Number.isNaN(a)?a=m(n,g):a,_.push((0,r.ax)(h))}return _.length&&(p.add=p.materialize(p.ADD).add.concat(_)),w.length&&(p.rem=p.materialize(p.REM).rem.concat(w)),this.value=_,p}}),ae.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:b},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},(0,i.XW)(ae,F,{transform(e,t){const n=this,r=e.modified();let a;return n.value&&(r||t.modified(n._inputs,!0))?(a=n.value=r?n.init(e):{},t.visit(t.SOURCE,(e=>n.add(e)))):(a=n.value=n.value||this.init(e),t.visit(t.REM,(e=>n.rem(e))),t.visit(t.ADD,(e=>n.add(e)))),n.changes(),t.visit(t.SOURCE,(e=>{(0,i.l7)(e,a[n.cellkey(e)].tuple)})),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,i;for(n=0,i=this._alen;n<i;++n)this.celltuple(e[n]),e[n]=null;for(n=0,i=this._mlen;n<i;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}}),oe.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},(0,i.XW)(oe,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const o=t.materialize(t.SOURCE).source,s=U(o,e.groupby,e.field),u=(e.groupby||[]).map(i.el),l=e.bandwidth,f=e.cumulative?"cdf":"pdf",c=e.as||["value","density"],d=[];let h=e.extent,p=e.steps||e.minsteps||25,m=e.steps||e.maxsteps||200;"pdf"!==f&&"cdf"!==f&&(0,i.vU)("Invalid density method: "+f),"shared"===e.resolve&&(h||(h=(0,i.We)(o,e.field)),p=m=e.steps||m),s.forEach((t=>{const n=(0,a.l0)(t,l)[f],o=e.counts?t.length:1,s=h||(0,i.We)(t);(0,a.sR)(n,s,p,m).forEach((e=>{const n={};for(let e=0;e<u.length;++e)n[u[e]]=t.dims[e];n[c[0]]=e[0],n[c[1]]=e[1]*o,d.push((0,r.ax)(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}}),(0,i.XW)(se,r.EF),(0,i.XW)(le,r.wx,{transform(e,t){const n=t.dataflow;if(this._pending)return fe(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return fe(this,t,n.parse(e.values,e.format));if(e.async){const t=n.request(e.url,e.format).then((e=>(this._pending=(0,i.IX)(e.data),e=>e.touch(this))));return{async:t}}return n.request(e.url,e.format).then((e=>fe(this,t,(0,i.IX)(e.data))))}}),ce.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},(0,i.XW)(ce,r.wx,{transform(e,t){const n=e.fields,r=e.index,a=e.values,o=null==e.default?null:e.default,s=e.modified(),u=n.length;let l,f,c,d=s?t.SOURCE:t.ADD,h=t,p=e.as;return a?(f=a.length,u>1&&!p&&(0,i.vU)('Multi-field lookup requires explicit "as" parameter.'),p&&p.length!==u*f&&(0,i.vU)('The "as" parameter has too few output field names.'),p=p||a.map(i.el),l=function(e){for(var t,i,s=0,l=0;s<u;++s)if(null==(i=r.get(n[s](e))))for(t=0;t<f;++t,++l)e[p[l]]=o;else for(t=0;t<f;++t,++l)e[p[l]]=a[t](i)}):(p||(0,i.vU)("Missing output field names."),l=function(e){for(var t,i=0;i<u;++i)t=r.get(n[i](e)),e[p[i]]=null==t?o:t}),s?h=t.reflow(!0):(c=n.some((e=>t.modified(e.fields))),d|=c?t.MOD:0),t.visit(d,l),h.modifies(p)}}),(0,i.XW)(de,r.EF),(0,i.XW)(pe,r.EF),(0,i.XW)(ge,r.wx,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),ye.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:b,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},(0,i.XW)(ye,F,{_transform:F.prototype.transform,transform(e,t){return this._transform(function(e,t){const n=e.field,r=e.value,a=("count"===e.op?"__count__":e.op)||"sum",o=(0,i.Oj)(n).concat((0,i.Oj)(r)),s=function(e,t,n){const r={},a=[];return n.visit(n.SOURCE,(t=>{const n=e(t);r[n]||(r[n]=1,a.push(n))})),a.sort(i.j2),t?a.slice(0,t):a}(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map((()=>a)),fields:s.map((e=>function(e,t,n,r){return(0,i.ZE)((i=>t(i)===e?n(i):NaN),r,e+"")}(e,n,r,o))),as:s.map((e=>e+"")),modified:e.modified.bind(e)}}(e,t),t)}}),(0,i.XW)(be,H,{transform(e,t){const n=e.subflow,a=e.field,o=e=>this.subflow((0,r.ai)(e),n,t,e);return(e.modified("field")||a&&t.modified((0,i.Oj)(a)))&&(0,i.vU)("PreFacet does not support field modification."),this.initTargets(),a?(t.visit(t.MOD,(e=>{const t=o(e);a(e).forEach((e=>t.mod(e)))})),t.visit(t.ADD,(e=>{const t=o(e);a(e).forEach((e=>t.add((0,r.ax)(e))))})),t.visit(t.REM,(e=>{const t=o(e);a(e).forEach((e=>t.rem(e)))}))):(t.visit(t.MOD,(e=>o(e).mod(e))),t.visit(t.ADD,(e=>o(e).add(e))),t.visit(t.REM,(e=>o(e).rem(e)))),t.clean()&&t.runAfter((()=>this.clean())),t}}),ve.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},(0,i.XW)(ve,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,a=N(e.fields,e.as||[]),o=i?(e,t)=>function(e,t,n,i){for(let r=0,a=n.length;r<a;++r)t[i[r]]=n[r](e);return t}(e,t,i,a):r.BW;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,(e=>{const t=(0,r.ai)(e);n.rem.push(s[t]),s[t]=null})),t.visit(t.ADD,(e=>{const t=o(e,(0,r.ax)({}));s[(0,r.ai)(e)]=t,n.add.push(t)})),t.visit(t.MOD,(e=>{n.mod.push(o(e,s[(0,r.ai)(e)]))})),n}}),(0,i.XW)(xe,r.wx,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),_e.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]},(0,i.XW)(_e,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const s=U(t.materialize(t.SOURCE).source,e.groupby,e.field),u=(e.groupby||[]).map(i.el),l=[],c=e.step||.01,d=e.probs||(0,f.Z)(c/2,1-1e-14,c),h=d.length;return s.forEach((e=>{const t=(0,a.cW)(e,d);for(let n=0;n<h;++n){const i={};for(let t=0;t<u.length;++t)i[u[t]]=e.dims[t];i[o[0]]=d[n],i[o[1]]=t[n],l.push((0,r.ax)(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l,n}}),(0,i.XW)(we,r.wx,{transform(e,t){let n,i;return this.value?i=this.value:(n=t=t.addAll(),i=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(e=>{const t=(0,r.ai)(e);n.rem.push(i[t]),i[t]=null})),t.visit(t.ADD,(e=>{const t=(0,r.sY)(e);i[(0,r.ai)(e)]=t,n.add.push(t)})),t.visit(t.MOD,(e=>{const t=i[(0,r.ai)(e)];for(const i in e)t[i]=e[i],n.modifies(i);n.mod.push(t)}))),n}}),Ae.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},(0,i.XW)(Ae,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.modified("size"),o=e.size,s=this.value.reduce(((e,t)=>(e[(0,r.ai)(t)]=1,e)),{});let u=this.value,l=this.count,f=0;function c(e){let t,i;u.length<o?u.push(e):(i=~~((l+1)*(0,a.MX)()),i<u.length&&i>=f&&(t=u[i],s[(0,r.ai)(t)]&&n.rem.push(t),u[i]=e)),++l}if(t.rem.length&&(t.visit(t.REM,(e=>{const t=(0,r.ai)(e);s[t]&&(s[t]=-1,n.rem.push(e)),--l})),u=u.filter((e=>-1!==s[(0,r.ai)(e)]))),(t.rem.length||i)&&u.length<o&&t.source&&(f=l=u.length,t.visit(t.SOURCE,(e=>{s[(0,r.ai)(e)]||c(e)})),f=-1),i&&u.length>o){const e=u.length-o;for(let t=0;t<e;++t)s[(0,r.ai)(u[t])]=-1,n.rem.push(u[t]);u=u.slice(e)}return t.mod.length&&t.visit(t.MOD,(e=>{s[(0,r.ai)(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,c),(t.add.length||f<0)&&(n.add=u.filter((e=>!s[(0,r.ai)(e)]))),this.count=l,this.value=n.source=u,n}}),ke.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},(0,i.XW)(ke,r.wx,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),i=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=(0,f.Z)(e.start,e.stop,e.step||1).map((e=>{const t={};return t[i]=e,(0,r.ax)(t)})),n.add=t.add.concat(this.value),n}}),(0,i.XW)(Oe,r.wx,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});const Ee=["unit0","unit1"];function Fe(e){r.wx.call(this,(0,i.Xr)(),e)}function $e(e){r.wx.call(this,null,e)}De.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:d.LO,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Ee}]},(0,i.XW)(De,r.wx,{transform(e,t){const n=e.field,r=!1!==e.interval,a="utc"===e.timezone,o=this._floor(e,t),s=(a?d.zr:d.JZ)(o.unit).offset,u=e.as||Ee,l=u[0],f=u[1],c=o.step;let h=o.start||1/0,p=o.stop||-1/0,m=t.ADD;return(e.modified()||t.modified((0,i.Oj)(n)))&&(m=(t=t.reflow(!0)).SOURCE,h=1/0,p=-1/0),t.visit(m,(e=>{const t=n(e);let i,a;null==t?(e[l]=null,r&&(e[f]=null)):(e[l]=i=a=o(t),r&&(e[f]=a=s(i,c)),i<h&&(h=i),a>p&&(p=a))})),o.start=h,o.stop=p,t.modifies(r?u:l)},_floor(e,t){const n="utc"===e.timezone,{units:r,step:a}=e.units?{units:e.units,step:e.step||1}:(0,d.pt)({extent:e.extent||(0,i.We)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=(0,d.FW)(r),s=this.value||{},u=(n?d.pd:d.BR)(o,a);return u.unit=(0,i.fj)(o),u.units=o,u.step=a,u.start=s.start,u.stop=s.stop,this.value=u}}),(0,i.XW)(Fe,r.wx,{transform(e,t){const n=t.dataflow,i=e.field,r=this.value,a=e=>r.set(i(e),e);let o=!0;return e.modified("field")||t.modified(i.fields)?(r.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,(e=>r.delete(i(e)))),t.visit(t.ADD,a)):o=!1,this.modified(o),r.empty>n.cleanThreshold&&n.runAfter(r.clean),t.fork()}}),(0,i.XW)($e,r.wx,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort((0,r.vo)(e.sort)):t.source).map(e.field))}});const Ce={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,i=t.data;return n&&t.compare(i[n-1],i[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,i=t.data;return n&&t.compare(i[n-1],i[n])?++e:e}}},percent_rank:function(){const e=Ce.rank(),t=e.next;return{init:e.init,next:e=>(t(e)-1)/(e.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,i=t.compare;let r=t.index;if(e<r){for(;r+1<n.length&&!i(n[r],n[r+1]);)++r;e=r}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||(0,i.vU)("ntile num must be greater than zero.");const n=Ce.cume_dist(),r=n.next;return{init:n.init,next:e=>Math.ceil(t*r(e))}},lag:function(e,t){return t=+t||1,{next:n=>{const i=n.index-t;return i>=0?e(n.data[i]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const i=n.index+t,r=n.data;return i<r.length?e(r[i]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||(0,i.vU)("nth_value nth must be greater than zero."),{next:n=>{const i=n.i0+(t-1);return i<n.i1?e(n.data[i]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const i=e(n.data[n.index]);return null!=i?t=i:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:i=>{const r=i.data;return i.index<=n?t:(n=function(e,t,n){for(let i=t.length;n<i;++n)if(null!=e(t[n]))return n;return-1}(e,r,i.index))<0?(n=r.length,t=null):t=e(r[n])}}}},Me=Object.keys(Ce);function Re(e){const t=(0,i.IX)(e.ops),n=(0,i.IX)(e.fields),r=(0,i.IX)(e.params),a=(0,i.IX)(e.as),o=this.outputs=[],s=this.windows=[],u={},l={},f=[],c=[];let d=!0;function h(e){(0,i.IX)((0,i.Oj)(e)).forEach((e=>u[e]=1))}h(e.sort),t.forEach(((e,t)=>{const u=n[t],m=(0,i.el)(u),g=p(e,m,a[t]);if(h(u),o.push(g),(0,i.nr)(Ce,e))s.push(function(e,t,n,r){const a=Ce[e](t,n);return{init:a.init||i.bM,update:function(e,t){t[r]=a.next(e)}}}(e,n[t],r[t],g));else{if(null==u&&"count"!==e&&(0,i.vU)("Null aggregate field specified."),"count"===e)return void f.push(g);d=!1;let t=l[m];t||(t=l[m]=[],t.field=u,c.push(t)),t.push(v(e,g))}})),(f.length||c.length)&&(this.cell=function(e,t,n){e=e.map((e=>O(e,e.field)));const i={num:0,agg:null,store:!1,count:t};if(!n)for(var r=e.length,a=i.agg=Array(r),o=0;o<r;++o)a[o]=new e[o](i);if(i.store)var s=i.data=new D;return i.add=function(e){if(i.num+=1,!n){s&&s.add(e);for(let t=0;t<r;++t)a[t].add(a[t].get(e),e)}},i.rem=function(e){if(i.num-=1,!n){s&&s.rem(e);for(let t=0;t<r;++t)a[t].rem(a[t].get(e),e)}},i.set=function(e){let r,o;for(s&&s.values(),r=0,o=t.length;r<o;++r)e[t[r]]=i.num;if(!n)for(r=0,o=a.length;r<o;++r)a[r].set(e)},i.init=function(){i.num=0,s&&s.reset();for(let e=0;e<r;++e)a[e].init()},i}(c,f,d)),this.inputs=Object.keys(u)}const Se=Re.prototype;function Be(e){r.wx.call(this,{},e),this._mlen=0,this._mods=[]}function Ze(e,t,n,r){const a=r.sort,o=a&&!r.ignorePeers,s=r.frame||[null,0],u=e.data(n),l=u.length,f=o?(0,c.Z)(a):null,d={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:a||(0,i.a9)(-1)};t.init();for(let e=0;e<l;++e)Te(d,s,e,l),o&&Pe(d,f),t.update(d,u[e])}function Te(e,t,n,i){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?i:Math.min(i,n+Math.abs(t[1])+1),e.index=n}function Pe(e,t){const n=e.i0,i=e.i1-1,r=e.compare,a=e.data,o=a.length-1;n>0&&!r(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),i<o&&!r(a[i],a[i+1])&&(e.i1=t.right(a,a[i]))}Se.init=function(){this.windows.forEach((e=>e.init())),this.cell&&this.cell.init()},Se.update=function(e,t){const n=this.cell,i=this.windows,r=e.data,a=i&&i.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(r[o]);for(o=e.p1;o<e.i1;++o)n.add(r[o]);n.set(t)}for(o=0;o<a;++o)i[o].update(e,t)},Be.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Me.concat(b)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},(0,i.XW)(Be,r.wx,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),i=(0,r.vo)(e.sort),a=h(e.groupby),o=e=>this.group(a(e));let s=this.state;s&&!n||(s=this.state=new Re(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,(e=>o(e).add(e)))):(t.visit(t.REM,(e=>o(e).remove(e))),t.visit(t.ADD,(e=>o(e).add(e))));for(let t=0,n=this._mlen;t<n;++t)Ze(this._mods[t],s,i,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=C(r.ai),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}})},98141:(e,t,n)=>{"use strict";function i(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:()=>i})},65625:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(98141);function r(e){let t=e,n=e;function r(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const a=i+r>>>1;n(e[a],t)<0?i=a+1:r=a}return i}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>(0,i.Z)(e(t),n)}(e)),{left:r,center:function(e,n,i,a){null==i&&(i=0),null==a&&(a=e.length);const o=r(e,n,i,a-1);return o>i&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const a=i+r>>>1;n(e[a],t)>0?r=a:i=a+1}return i}}}},57397:(e,t,n)=>{"use strict";function i(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n<t||void 0===n&&t>=t)&&(n=t);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n<r||void 0===n&&r>=r)&&(n=r)}return n}n.d(t,{Z:()=>i})},42384:(e,t,n)=>{"use strict";function i(e,t){let n=0,i=0;if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(++n,i+=t);else{let r=-1;for(let a of e)null!=(a=t(a,++r,e))&&(a=+a)>=a&&(++n,i+=a)}if(n)return i/n}n.d(t,{Z:()=>i})},94093:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(80073);function r(e,t){return(0,i.Z)(e,.5,t)}},16938:(e,t,n)=>{"use strict";function i(e,t){let n;if(void 0===t)for(const t of e)null!=t&&(n>t||void 0===n&&t>=t)&&(n=t);else{let i=-1;for(let r of e)null!=(r=t(r,++i,e))&&(n>r||void 0===n&&r>=r)&&(n=r)}return n}n.d(t,{Z:()=>i})},81259:(e,t,n)=>{"use strict";function*i(e,t){if(void 0===t)for(let t of e)null!=t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(i=+i)>=i&&(yield i)}}n.d(t,{K:()=>i})},80073:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(57397),r=n(16938),a=n(69569),o=n(81259);function s(e,t,n){if(s=(e=Float64Array.from((0,o.K)(e,n))).length){if((t=+t)<=0||s<2)return(0,r.Z)(e);if(t>=1)return(0,i.Z)(e);var s,u=(s-1)*t,l=Math.floor(u),f=(0,i.Z)((0,a.Z)(e,l).subarray(0,l+1));return f+((0,r.Z)(e.subarray(l+1))-f)*(u-l)}}},69569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(98141);function r(e,t,n=0,o=e.length-1,s=i.Z){for(;o>n;){if(o-n>600){const i=o-n+1,a=t-n+1,u=Math.log(i),l=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*l*(i-l)/i)*(a-i/2<0?-1:1);r(e,t,Math.max(n,Math.floor(t-a*l/i+f)),Math.min(o,Math.floor(t+(i-a)*l/i+f)),s)}const i=e[t];let u=n,l=o;for(a(e,n,t),s(e[o],i)>0&&a(e,n,o);u<l;){for(a(e,u,l),++u,--l;s(e[u],i)<0;)++u;for(;s(e[l],i)>0;)--l}0===s(e[n],i)?a(e,n,l):(++l,a(e,l,o)),l<=t&&(n=l+1),t<=l&&(o=l-1)}return e}function a(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}},47739:(e,t,n)=>{"use strict";function i(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(r);++i<r;)a[i]=e+i*n;return a}n.d(t,{Z:()=>i})},48823:(e,t,n)=>{"use strict";function i(e,t,n){return e.fields=t||[],e.fname=n,e}function r(e){return null==e?null:e.fname}function a(e){return null==e?null:e.fields}function o(e){return 1===e.length?s(e[0]):u(e)}n.d(t,{cG:()=>A,jj:()=>x,kI:()=>w,Hq:()=>v,uU:()=>_,ZE:()=>i,Oj:()=>a,el:()=>r,IX:()=>Y,j2:()=>ee,l$:()=>G,qu:()=>Q,a9:()=>re,Ds:()=>ae,vU:()=>l,l7:()=>oe,We:()=>se,dI:()=>ue,k:()=>y,Xr:()=>de,EP:()=>c,yl:()=>he,nr:()=>fe,id:()=>d,yR:()=>h,XW:()=>pe,u5:()=>me,kJ:()=>O,jn:()=>ge,J_:()=>ye,mf:()=>K,TW:()=>be,hj:()=>ve,Kn:()=>D,Kj:()=>xe,HD:()=>_e,Jy:()=>we,t7:()=>Ae,kg:()=>k,$m:()=>ke,TS:()=>Oe,fE:()=>F,kX:()=>m,vk:()=>Ee,Dw:()=>z,mJ:()=>q,QA:()=>N,Zw:()=>U,fj:()=>M,mS:()=>H,rx:()=>De,yP:()=>Fe,_k:()=>f,m8:()=>$e,sw:()=>Ce,ZU:()=>Re,He:()=>R,Rg:()=>Be,BB:()=>Se,$G:()=>Ze,yb:()=>g,N3:()=>J,FP:()=>Te,iL:()=>$,bM:()=>p,ay:()=>I,dH:()=>W,mK:()=>X,bV:()=>V});const s=e=>function(t){return t[e]},u=e=>{const t=e.length;return function(n){for(let i=0;i<t;++i)n=n[e[i]];return n}};function l(e){throw Error(e)}function f(e){const t=[],n=e.length;let i,r,a,o=null,s=0,u="";function f(){t.push(u+e.substring(i,r)),u="",i=r+1}for(e+="",i=r=0;r<n;++r)if(a=e[r],"\\"===a)u+=e.substring(i,r),u+=e.substring(++r,++r),i=r;else if(a===o)f(),o=null,s=-1;else{if(o)continue;i===s&&'"'===a||i===s&&"'"===a?(i=r+1,o=a):"."!==a||s?"["===a?(r>i&&f(),s=i=r+1):"]"===a&&(s||l("Access path missing open bracket: "+e),s>0&&f(),s=0,i=r+1):r>i?f():i=r+1}return s&&l("Access path missing closing bracket: "+e),o&&l("Access path missing closing quote: "+e),r>i&&(r++,f()),t}function c(e,t,n){const r=f(e);return e=1===r.length?r[0]:e,i((n&&n.get||o)(r),[e],t||e)}const d=c("id"),h=i((e=>e),[],"identity"),p=i((()=>0),[],"zero"),m=i((()=>1),[],"one"),g=i((()=>!0),[],"true"),y=i((()=>!1),[],"false");function b(e,t,n){const i=[t].concat([].slice.call(n));console[e].apply(console,i)}const v=0,x=1,_=2,w=3,A=4;function k(e,t,n=b){let i=e||v;return{level(e){return arguments.length?(i=+e,this):i},error(){return i>=x&&n(t||"error","ERROR",arguments),this},warn(){return i>=_&&n(t||"warn","WARN",arguments),this},info(){return i>=w&&n(t||"log","INFO",arguments),this},debug(){return i>=A&&n(t||"log","DEBUG",arguments),this}}}var O=Array.isArray;function D(e){return e===Object(e)}const E=e=>"__proto__"!==e;function F(...e){return e.reduce(((e,t)=>{for(const n in t)if("signals"===n)e.signals=C(e.signals,t.signals);else{const i="legend"===n?{layout:1}:"style"===n||null;$(e,n,t[n],i)}return e}),{})}function $(e,t,n,i){if(!E(t))return;let r,a;if(D(n)&&!O(n))for(r in a=D(e[t])?e[t]:e[t]={},n)i&&(!0===i||i[r])?$(a,r,n[r]):E(r)&&(a[r]=n[r]);else e[t]=n}function C(e,t){if(null==e)return t;const n={},i=[];function r(e){n[e.name]||(n[e.name]=1,i.push(e))}return t.forEach(r),e.forEach(r),i}function M(e){return e[e.length-1]}function R(e){return null==e||""===e?null:+e}const S=e=>t=>e*Math.exp(t),B=e=>t=>Math.log(e*t),Z=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),T=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,P=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function j(e,t,n,i){const r=n(e[0]),a=n(M(e)),o=(a-r)*t;return[i(r-o),i(a-o)]}function z(e,t){return j(e,t,R,h)}function q(e,t){var n=Math.sign(e[0]);return j(e,t,B(n),S(n))}function N(e,t,n){return j(e,t,P(n),P(1/n))}function U(e,t,n){return j(e,t,Z(n),T(n))}function L(e,t,n,i,r){const a=i(e[0]),o=i(M(e)),s=null!=t?i(t):(a+o)/2;return[r(s+(a-s)*n),r(s+(o-s)*n)]}function I(e,t,n){return L(e,t,n,R,h)}function W(e,t,n){const i=Math.sign(e[0]);return L(e,t,n,B(i),S(i))}function X(e,t,n,i){return L(e,t,n,P(i),P(1/i))}function V(e,t,n,i){return L(e,t,n,Z(i),T(i))}function H(e){return 1+~~(new Date(e).getMonth()/3)}function J(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Y(e){return null!=e?O(e)?e:[e]:[]}function G(e,t,n){let i,r=e[0],a=e[1];return a<r&&(i=a,a=r,r=i),i=a-r,i>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-i),r+i]}function K(e){return"function"==typeof e}function Q(e,t,n){n=n||{},t=Y(t)||[];const r=[],o=[],s={},u=n.comparator||te;return Y(e).forEach(((e,i)=>{null!=e&&(r.push("descending"===t[i]?-1:1),o.push(e=K(e)?e:c(e,null,n)),(a(e)||[]).forEach((e=>s[e]=1)))})),0===o.length?null:i(u(o,r),Object.keys(s))}const ee=(e,t)=>(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0),te=(e,t)=>1===e.length?ne(e[0],t[0]):ie(e,t,e.length),ne=(e,t)=>function(n,i){return ee(e(n),e(i))*t},ie=(e,t,n)=>(t.push(0),function(i,r){let a,o=0,s=-1;for(;0===o&&++s<n;)a=e[s],o=ee(a(i),a(r));return o*t[s]});function re(e){return K(e)?e:()=>e}function ae(e,t){let n;return i=>{n&&clearTimeout(n),n=setTimeout((()=>(t(i),n=null)),e)}}function oe(e){for(let t,n,i=1,r=arguments.length;i<r;++i)for(n in t=arguments[i],t)e[n]=t[n];return e}function se(e,t){let n,i,r,a,o=0;if(e&&(n=e.length))if(null==t){for(i=e[o];o<n&&(null==i||i!=i);i=e[++o]);for(r=a=i;o<n;++o)i=e[o],null!=i&&(i<r&&(r=i),i>a&&(a=i))}else{for(i=t(e[o]);o<n&&(null==i||i!=i);i=t(e[++o]));for(r=a=i;o<n;++o)i=t(e[o]),null!=i&&(i<r&&(r=i),i>a&&(a=i))}return[r,a]}function ue(e,t){const n=e.length;let i,r,a,o,s,u=-1;if(null==t){for(;++u<n;)if(r=e[u],null!=r&&r>=r){i=a=r;break}if(u===n)return[-1,-1];for(o=s=u;++u<n;)r=e[u],null!=r&&(i>r&&(i=r,o=u),a<r&&(a=r,s=u))}else{for(;++u<n;)if(r=t(e[u],u,e),null!=r&&r>=r){i=a=r;break}if(u===n)return[-1,-1];for(o=s=u;++u<n;)r=t(e[u],u,e),null!=r&&(i>r&&(i=r,o=u),a<r&&(a=r,s=u))}return[o,s]}const le=Object.prototype.hasOwnProperty;function fe(e,t){return le.call(e,t)}const ce={};function de(e){let t,n={};function i(e){return fe(n,e)&&n[e]!==ce}const r={size:0,empty:0,object:n,has:i,get:e=>i(e)?n[e]:void 0,set(e,t){return i(e)||(++r.size,n[e]===ce&&--r.empty),n[e]=t,this},delete(e){return i(e)&&(--r.size,++r.empty,n[e]=ce),this},clear(){r.size=r.empty=0,r.object=n={}},test(e){return arguments.length?(t=e,r):t},clean(){const e={};let i=0;for(const r in n){const a=n[r];a===ce||t&&t(a)||(e[r]=a,++i)}r.size=i,r.empty=0,r.object=n=e}};return e&&Object.keys(e).forEach((t=>{r.set(t,e[t])})),r}function he(e,t,n,i,r,a){if(!n&&0!==n)return a;const o=+n;let s,u=e[0],l=M(e);l<u&&(s=u,u=l,l=s),s=Math.abs(t-u);const f=Math.abs(l-t);return s<f&&s<=o?i:f<=o?r:a}function pe(e,t,n){const i=e.prototype=Object.create(t.prototype);return Object.defineProperty(i,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),oe(i,n)}function me(e,t,n,i){let r,a=t[0],o=t[t.length-1];return a>o&&(r=a,a=o,o=r),i=void 0===i||i,((n=void 0===n||n)?a<=e:a<e)&&(i?e<=o:e<o)}function ge(e){return"boolean"==typeof e}function ye(e){return"[object Date]"===Object.prototype.toString.call(e)}function be(e){return e&&K(e[Symbol.iterator])}function ve(e){return"number"==typeof e}function xe(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function _e(e){return"string"==typeof e}function we(e,t,n){e&&(e=t?Y(e).map((e=>e.replace(/\\(.)/g,"$1"))):Y(e));const r=e&&e.length,a=n&&n.get||o,s=e=>a(t?[e]:f(e));let u;if(r)if(1===r){const t=s(e[0]);u=function(e){return""+t(e)}}else{const t=e.map(s);u=function(e){let n=""+t[0](e),i=0;for(;++i<r;)n+="|"+t[i](e);return n}}else u=function(){return""};return i(u,e,"key")}function Ae(e,t){const n=e[0],i=M(e),r=+t;return r?1===r?i:n+r*(i-n):n}function ke(e){let t,n,i;e=+e||1e4;const r=()=>{t={},n={},i=0},a=(r,a)=>(++i>e&&(n=t,t={},i=1),t[r]=a);return r(),{clear:r,has:e=>fe(t,e)||fe(n,e),get:e=>fe(t,e)?t[e]:fe(n,e)?a(e,n[e]):void 0,set:(e,n)=>fe(t,e)?t[e]=n:a(e,n)}}function Oe(e,t,n,i){const r=t.length,a=n.length;if(!a)return t;if(!r)return n;const o=i||new t.constructor(r+a);let s=0,u=0,l=0;for(;s<r&&u<a;++l)o[l]=e(t[s],n[u])>0?n[u++]:t[s++];for(;s<r;++s,++l)o[l]=t[s];for(;u<a;++u,++l)o[l]=n[u];return o}function De(e,t){let n="";for(;--t>=0;)n+=e;return n}function Ee(e,t,n,i){const r=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===i?De(r,o)+a:"center"===i?De(r,~~(o/2))+a+De(r,Math.ceil(o/2)):a+De(r,o)}function Fe(e){return e&&M(e)-e[0]||0}function $e(e){return O(e)?"["+e.map($e)+"]":D(e)||_e(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Ce(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e||!e)}const Me=e=>ve(e)||ye(e)?e:Date.parse(e);function Re(e,t){return t=t||Me,null==e||""===e?null:t(e)}function Se(e){return null==e||""===e?null:e+""}function Be(e){const t={},n=e.length;for(let i=0;i<n;++i)t[e[i]]=!0;return t}function Ze(e,t,n,i){const r=null!=i?i:"…",a=e+"",o=a.length,s=Math.max(0,t-r.length);return o<=t?a:"left"===n?r+a.slice(o-s):"center"===n?a.slice(0,Math.ceil(s/2))+r+a.slice(o-~~(s/2)):a.slice(0,s)+r}function Te(e,t,n){if(e)if(t){const i=e.length;for(let r=0;r<i;++r){const i=t(e[r]);i&&n(i,r,e)}}else e.forEach(n)}},16279:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bound:()=>$,identifier:()=>R,mark:()=>S,overlap:()=>B,render:()=>N,viewlayout:()=>ue});var i=n(4036),r=n(38940),a=n(48823);const o="top",s="left",u="right",l="bottom",f="start",c="middle",d="end",h="group",p="axis",m="title",g="legend",y="row-header",b="row-footer",v="row-title",x="column-header",_="column-footer",w="column-title",A="none",k="all",O="each",D="flush",E="column",F="row";function $(e){i.wx.call(this,null,e)}function C(e,t,n){return t(e.bounds.clear(),e,n)}(0,a.XW)($,i.wx,{transform(e,t){const n=t.dataflow,i=e.mark,a=i.marktype,o=r.zT[a],s=o.bound;let u,l=i.bounds;if(o.nested)i.items.length&&n.dirty(i.items[0]),l=C(i,s),i.items.forEach((e=>{e.bounds.clear().union(l)}));else if(a===h||e.modified())switch(t.visit(t.MOD,(e=>n.dirty(e))),l.clear(),i.items.forEach((e=>l.union(C(e,s)))),i.role){case p:case g:case m:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,(e=>{l.union(C(e,s))})),t.visit(t.MOD,(e=>{u=u||l.alignsWith(e.bounds),n.dirty(e),l.union(C(e,s))})),u&&(l.clear(),i.items.forEach((e=>l.union(e.bounds))));return(0,r.bs)(i),t.modifies("bounds")}});const M=":vega_identifier:";function R(e){i.wx.call(this,0,e)}function S(e){i.wx.call(this,null,e)}function B(e){i.wx.call(this,null,e)}R.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},(0,a.XW)(R,i.wx,{transform(e,t){const n=(r=t.dataflow)._signals[M]||(r._signals[M]=r.add(0)),i=e.as;var r;let a=n.value;return t.visit(t.ADD,(e=>e[i]=e[i]||++a)),n.set(this.value=a),t}}),(0,a.XW)(S,i.wx,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,function(e){const t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const i=n.marktype===h?r.MN:r.ck;return t.visit(t.ADD,(e=>i.call(e,n))),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});const Z={parity:e=>e.filter(((e,t)=>t%2?e.opacity=0:1)),greedy:(e,t)=>{let n;return e.filter(((e,i)=>i&&T(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)))}},T=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),P=(e,t)=>{for(var n,i=1,r=e.length,a=e[0].bounds;i<r;a=n,++i)if(T(a,n=e[i].bounds,t))return!0},j=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},z=e=>(e.forEach((e=>e.opacity=1)),e),q=(e,t)=>e.reflow(t.modified()).modifies("opacity");function N(e){i.wx.call(this,null,e)}(0,a.XW)(B,i.wx,{transform(e,t){const n=Z[e.method]||Z.parity,i=e.separation||0;let s,u,f=t.materialize(t.SOURCE).source;if(!f||!f.length)return;if(!e.method)return e.modified("method")&&(z(f),t=q(t,e)),t;if(f=f.filter(j),!f.length)return;if(e.sort&&(f=f.slice().sort(e.sort)),s=z(f),t=q(t,e),s.length>=3&&P(s,i)){do{s=n(s,i)}while(s.length>=3&&P(s,i));s.length<3&&!(0,a.fj)(f).opacity&&(s.length>1&&((0,a.fj)(s).opacity=0),(0,a.fj)(f).opacity=1)}var c,d,h,p,m;e.boundScale&&e.boundTolerance>=0&&(c=e.boundScale,d=e.boundOrient,h=+e.boundTolerance,p=c.range(),m=new r.YZ,d===o||d===l?m.set(p[0],-1/0,p[1],1/0):m.set(-1/0,p[0],1/0,p[1]),m.expand(h||1),u=e=>m.encloses(e.bounds),f.forEach((e=>{u(e)||(e.opacity=0)})));const g=s[0].mark.bounds.clear();return f.forEach((e=>{e.opacity&&g.union(e.bounds)})),t}}),(0,a.XW)(N,i.wx,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,(e=>n.dirty(e))),t.fields&&t.fields.zindex){const e=t.source&&t.source[0];e&&(e.mark.zdirty=!0)}}});const U=new r.YZ;function L(e,t,n){return e[t]===n?0:(e[t]=n,1)}function I(e){var t=e.items[0].orient;return t===s||t===u}function W(e,t,n,i){var a,f,c=t.items[0],d=c.datum,h=null!=c.translate?c.translate:.5,p=c.orient,m=function(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(d),g=c.range,y=c.offset,b=c.position,v=c.minExtent,x=c.maxExtent,_=d.title&&c.items[m[2]].items[0],w=c.titlePadding,A=c.bounds,k=_&&(0,r.N_)(_),O=0,D=0;switch(U.clear().union(A),A.clear(),(a=m[0])>-1&&A.union(c.items[a].bounds),(a=m[1])>-1&&A.union(c.items[a].bounds),p){case o:O=b||0,D=-y,f=Math.max(v,Math.min(x,-A.y1)),A.add(0,-f).add(g,0),_&&X(e,_,f,w,k,0,-1,A);break;case s:O=-y,D=b||0,f=Math.max(v,Math.min(x,-A.x1)),A.add(-f,0).add(0,g),_&&X(e,_,f,w,k,1,-1,A);break;case u:O=n+y,D=b||0,f=Math.max(v,Math.min(x,A.x2)),A.add(0,0).add(f,g),_&&X(e,_,f,w,k,1,1,A);break;case l:O=b||0,D=i+y,f=Math.max(v,Math.min(x,A.y2)),A.add(0,0).add(g,f),_&&X(e,_,f,w,0,0,1,A);break;default:O=c.x,D=c.y}return(0,r.Hz)(A.translate(O,D),c),L(c,"x",O+h)|L(c,"y",D+h)&&(c.bounds=U,e.dirty(c),c.bounds=A,e.dirty(c)),c.mark.bounds.clear().union(A)}function X(e,t,n,i,r,a,o,s){const u=t.bounds;if(t.auto){const s=o*(n+r+i);let l=0,f=0;e.dirty(t),a?l=(t.x||0)-(t.x=s):f=(t.y||0)-(t.y=s),t.mark.bounds.clear().union(u.translate(-l,-f)),e.dirty(t)}s.union(u)}const V=(e,t)=>Math.floor(Math.min(e,t)),H=(e,t)=>Math.ceil(Math.max(e,t));function J(e){return(new r.YZ).set(0,0,e.width||0,e.height||0)}function Y(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function G(e,t,n){const i=(0,a.Kn)(e)?e[t]:e;return null!=i?i:void 0!==n?n:0}function K(e){return e<0?Math.ceil(-e):0}function Q(e,t,n){var i,r,a,o,s,u,l,f,h,p,m,g=!n.nodirty,y=n.bounds===D?J:Y,b=U.set(0,0,0,0),v=G(n.align,E),x=G(n.align,F),_=G(n.padding,E),w=G(n.padding,F),A=n.columns||t.length,$=A<=0?1:Math.ceil(t.length/A),C=t.length,M=Array(C),R=Array(A),S=0,B=Array(C),Z=Array($),T=0,P=Array(C),j=Array(C),z=Array(C);for(r=0;r<A;++r)R[r]=0;for(r=0;r<$;++r)Z[r]=0;for(r=0;r<C;++r)u=t[r],s=z[r]=y(u),u.x=u.x||0,P[r]=0,u.y=u.y||0,j[r]=0,a=r%A,o=~~(r/A),S=Math.max(S,l=Math.ceil(s.x2)),T=Math.max(T,f=Math.ceil(s.y2)),R[a]=Math.max(R[a],l),Z[o]=Math.max(Z[o],f),M[r]=_+K(s.x1),B[r]=w+K(s.y1),g&&e.dirty(t[r]);for(r=0;r<C;++r)r%A==0&&(M[r]=0),r<A&&(B[r]=0);if(v===O)for(a=1;a<A;++a){for(m=0,r=a;r<C;r+=A)m<M[r]&&(m=M[r]);for(r=a;r<C;r+=A)M[r]=m+R[a-1]}else if(v===k){for(m=0,r=0;r<C;++r)r%A&&m<M[r]&&(m=M[r]);for(r=0;r<C;++r)r%A&&(M[r]=m+S)}else for(v=!1,a=1;a<A;++a)for(r=a;r<C;r+=A)M[r]+=R[a-1];if(x===O)for(o=1;o<$;++o){for(m=0,i=(r=o*A)+A;r<i;++r)m<B[r]&&(m=B[r]);for(r=o*A;r<i;++r)B[r]=m+Z[o-1]}else if(x===k){for(m=0,r=A;r<C;++r)m<B[r]&&(m=B[r]);for(r=A;r<C;++r)B[r]=m+T}else for(x=!1,o=1;o<$;++o)for(i=(r=o*A)+A;r<i;++r)B[r]+=Z[o-1];for(h=0,r=0;r<C;++r)h=M[r]+(r%A?h:0),P[r]+=h-t[r].x;for(a=0;a<A;++a)for(p=0,r=a;r<C;r+=A)p+=B[r],j[r]+=p-t[r].y;if(v&&G(n.center,E)&&$>1)for(r=0;r<C;++r)(h=(s=v===k?S:R[r%A])-z[r].x2-t[r].x-P[r])>0&&(P[r]+=h/2);if(x&&G(n.center,F)&&1!==A)for(r=0;r<C;++r)(p=(s=x===k?T:Z[~~(r/A)])-z[r].y2-t[r].y-j[r])>0&&(j[r]+=p/2);for(r=0;r<C;++r)b.union(z[r].translate(P[r],j[r]));switch(h=G(n.anchor,"x"),p=G(n.anchor,"y"),G(n.anchor,E)){case d:h-=b.width();break;case c:h-=b.width()/2}switch(G(n.anchor,F)){case d:p-=b.height();break;case c:p-=b.height()/2}for(h=Math.round(h),p=Math.round(p),b.clear(),r=0;r<C;++r)t[r].mark.bounds.clear();for(r=0;r<C;++r)(u=t[r]).x+=P[r]+=h,u.y+=j[r]+=p,b.union(u.mark.bounds.union(u.bounds.translate(P[r],j[r]))),g&&e.dirty(u);return b}function ee(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function te(e,t){return e.bounds[t]}function ne(e,t,n,i,r,a,o,s,u,l,f,c,d,h){var p,m,g,y,b,v,x,_,w,A=n.length,k=0,O=0;if(!A)return k;for(p=f;p<A;p+=c)n[p]&&(k=o(k,u(n[p],l)));if(!t.length)return k;for(t.length>r&&(e.warn("Grid headers exceed limit: "+r),t=t.slice(0,r)),k+=a,m=0,y=t.length;m<y;++m)e.dirty(t[m]),t[m].mark.bounds.clear();for(p=f,m=0,y=t.length;m<y;++m,p+=c){for(b=(v=t[m]).mark.bounds,g=p;g>=0&&null==(x=n[g]);g-=d);s?(_=null==h?x.x:Math.round(x.bounds.x1+h*x.bounds.width()),w=k):(_=k,w=null==h?x.y:Math.round(x.bounds.y1+h*x.bounds.height())),b.union(v.bounds.translate(_-(v.x||0),w-(v.y||0))),v.x=_,v.y=w,e.dirty(v),O=o(O,b[l])}return O}function ie(e,t,n,i,r,a){if(t){e.dirty(t);var o=n,s=n;i?o=Math.round(r.x1+a*r.width()):s=Math.round(r.y1+a*r.height()),t.bounds.translate(o-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=s,e.dirty(t)}}function re(e,t,n,i,r,a,h){const p=function(e,t){const n=e[t]||{};return(t,i)=>null!=n[t]?n[t]:null!=e[t]?e[t]:i}(n,t),m=function(e,t){let n=-1/0;return e.forEach((e=>{null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,p("offset",0)),g=p("anchor",f),y=g===d?1:g===c?.5:0,b={align:O,bounds:p("bounds",D),columns:"vertical"===p("direction")?1:e.length,padding:p("margin",8),center:p("center"),nodirty:!0};switch(t){case s:b.anchor={x:Math.floor(i.x1)-m,column:d,y:y*(h||i.height()+2*i.y1),row:g};break;case u:b.anchor={x:Math.ceil(i.x2)+m,y:y*(h||i.height()+2*i.y1),row:g};break;case o:b.anchor={y:Math.floor(r.y1)-m,row:d,x:y*(a||r.width()+2*r.x1),column:g};break;case l:b.anchor={y:Math.ceil(r.y2)+m,x:y*(a||r.width()+2*r.x1),column:g};break;case"top-left":b.anchor={x:m,y:m};break;case"top-right":b.anchor={x:a-m,y:m,column:d};break;case"bottom-left":b.anchor={x:m,y:h-m,row:d};break;case"bottom-right":b.anchor={x:a-m,y:h-m,column:d,row:d}}return b}function ae(e,t){var n,i,a=t.items[0],o=a.datum,f=a.orient,c=a.bounds,h=a.x,p=a.y;return a._bounds?a._bounds.clear().union(c):a._bounds=c.clone(),c.clear(),function(e,t,n){var i=t.padding,r=i-n.x,a=i-n.y;if(t.datum.title){var o=t.items[1].items[0],f=o.anchor,c=t.titlePadding||0,h=i-o.x,p=i-o.y;switch(o.orient){case s:r+=Math.ceil(o.bounds.width())+c;break;case u:case l:break;default:a+=o.bounds.height()+c}switch((r||a)&&se(e,n,r,a),o.orient){case s:p+=oe(t,n,o,f,1,1);break;case u:h+=oe(t,n,o,d,0,0)+c,p+=oe(t,n,o,f,1,1);break;case l:h+=oe(t,n,o,f,0,0),p+=oe(t,n,o,d,-1,0,1)+c;break;default:h+=oe(t,n,o,f,0,0)}(h||p)&&se(e,o,h,p),(h=Math.round(o.bounds.x1-i))<0&&(se(e,n,-h,0),se(e,o,-h,0))}else(r||a)&&se(e,n,r,a)}(e,a,a.items[0].items[0]),c=function(e,t){return e.items.forEach((e=>t.union(e.bounds))),t.x1=e.padding,t.y1=e.padding,t}(a,c),n=2*a.padding,i=2*a.padding,c.empty()||(n=Math.ceil(c.width()+n),i=Math.ceil(c.height()+i)),"symbol"===o.type&&function(e){const t=e.reduce(((e,t)=>(e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e)),{});e.forEach((e=>{e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(a.items[0].items[0].items[0].items),f!==A&&(a.x=h=0,a.y=p=0),a.width=n,a.height=i,(0,r.Hz)(c.set(h,p,h+n,p+i),a),a.mark.bounds.clear().union(c),a}function oe(e,t,n,i,a,o,s){const u="symbol"!==e.datum.type,l=n.datum.vgrad,c=(!u||!o&&l||s?t:t.items[0]).bounds[a?"y2":"x2"]-e.padding,h=l&&o?c:0,p=l&&o?0:c,m=a<=0?0:(0,r.N_)(n);return Math.round(i===f?h:i===d?p-m:.5*(c-m))}function se(e,t,n,i){t.x+=n,t.y+=i,t.bounds.translate(n,i),t.mark.bounds.translate(n,i),e.dirty(t)}function ue(e){i.wx.call(this,null,e)}(0,a.XW)(ue,i.wx,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach((t=>{e.layout&&function(e,t,n){var i,r,a,o,s,u,l,f=function(e){var t,n,i=e.items,r=i.length,a=0;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;a<r;++a)if(n=(t=i[a]).items,t.marktype===h)switch(t.role){case p:case g:case m:break;case y:o.rowheaders.push(...n);break;case b:o.rowfooters.push(...n);break;case x:o.colheaders.push(...n);break;case _:o.colfooters.push(...n);break;case v:o.rowtitle=n[0];break;case w:o.coltitle=n[0];break;default:o.marks.push(...n)}return o}(t),c=f.marks,A=n.bounds===D?ee:te,k=n.offset,O=n.columns||c.length,$=O<=0?1:Math.ceil(c.length/O),C=$*O;const M=Q(e,c,n);M.empty()&&M.set(0,0,0,0),f.rowheaders&&(u=G(n.headerBand,F,null),i=ne(e,f.rowheaders,c,0,$,-G(k,"rowHeader"),V,0,A,"x1",0,O,1,u)),f.colheaders&&(u=G(n.headerBand,E,null),r=ne(e,f.colheaders,c,0,O,-G(k,"columnHeader"),V,1,A,"y1",0,1,O,u)),f.rowfooters&&(u=G(n.footerBand,F,null),a=ne(e,f.rowfooters,c,0,$,G(k,"rowFooter"),H,0,A,"x2",O-1,O,1,u)),f.colfooters&&(u=G(n.footerBand,E,null),o=ne(e,f.colfooters,c,0,O,G(k,"columnFooter"),H,1,A,"y2",C-O,1,O,u)),f.rowtitle&&(s=G(n.titleAnchor,F),l=G(k,"rowTitle"),l=s===d?a+l:i-l,u=G(n.titleBand,F,.5),ie(e,f.rowtitle,l,0,M,u)),f.coltitle&&(s=G(n.titleAnchor,E),l=G(k,"columnTitle"),l=s===d?o+l:r-l,u=G(n.titleBand,E,.5),ie(e,f.coltitle,l,1,M,u))}(n,t,e.layout),function(e,t,n){var i,a,c,k,O,D=t.items,E=Math.max(0,t.width||0),F=Math.max(0,t.height||0),$=(new r.YZ).set(0,0,E,F),C=$.clone(),M=$.clone(),R=[];for(k=0,O=D.length;k<O;++k)switch((a=D[k]).role){case p:(I(a)?C:M).union(W(e,a,E,F));break;case m:i=a;break;case g:R.push(ae(e,a));break;case"frame":case"scope":case y:case b:case v:case x:case _:case w:C.union(a.bounds),M.union(a.bounds);break;default:$.union(a.bounds)}if(R.length){const t={};R.forEach((e=>{(c=e.orient||u)!==A&&(t[c]||(t[c]=[])).push(e)}));for(const i in t){const r=t[i];Q(e,r,re(r,i,n.legends,C,M,E,F))}R.forEach((t=>{const i=t.bounds;if(i.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=i,e.dirty(t)),n.autosize&&"fit"===n.autosize.type)switch(t.orient){case s:case u:$.add(i.x1,0).add(i.x2,0);break;case o:case l:$.add(0,i.y1).add(0,i.y2)}else $.union(i)}))}$.union(C).union(M),i&&$.union(function(e,t,n,i,r){var a,c=t.items[0],p=c.frame,m=c.orient,g=c.anchor,y=c.offset,b=c.padding,v=c.items[0].items[0],x=c.items[1]&&c.items[1].items[0],_=m===s||m===u?i:n,w=0,A=0,k=0,O=0,D=0;if(p!==h?m===s?(w=r.y2,_=r.y1):m===u?(w=r.y1,_=r.y2):(w=r.x1,_=r.x2):m===s&&(w=i,_=0),a=g===f?w:g===d?_:(w+_)/2,x&&x.text){switch(m){case o:case l:D=v.bounds.height()+b;break;case s:O=v.bounds.width()+b;break;case u:O=-v.bounds.width()-b}U.clear().union(x.bounds),U.translate(O-(x.x||0),D-(x.y||0)),L(x,"x",O)|L(x,"y",D)&&(e.dirty(x),x.bounds.clear().union(U),x.mark.bounds.clear().union(U),e.dirty(x)),U.clear().union(x.bounds)}else U.clear();switch(U.union(v.bounds),m){case o:A=a,k=r.y1-U.height()-y;break;case s:A=r.x1-U.width()-y,k=a;break;case u:A=r.x2+U.width()+y,k=a;break;case l:A=a,k=r.y2+y;break;default:A=c.x,k=c.y}return L(c,"x",A)|L(c,"y",k)&&(U.translate(A,k),e.dirty(c),c.bounds.clear().union(U),t.bounds.clear().union(U),e.dirty(c)),c.bounds}(e,i,E,F,$)),t.clip&&$.set(0,0,t.width||0,t.height||0),function(e,t,n,i){const r=i.autosize||{},a=r.type;if(e._autosize<1||!a)return;let o=e._width,s=e._height,u=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),f=Math.max(0,t.height||0),c=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-u)),h=Math.max(0,Math.ceil(n.y2-f));if("padding"===r.contains){const t=e.padding();o-=t.left+t.right,s-=t.top+t.bottom}a===A?(l=0,c=0,u=o,f=s):"fit"===a?(u=Math.max(0,o-l-d),f=Math.max(0,s-c-h)):"fit-x"===a?(u=Math.max(0,o-l-d),s=f+c+h):"fit-y"===a?(o=u+l+d,f=Math.max(0,s-c-h)):"pad"===a&&(o=u+l+d,s=f+c+h),e._resizeView(o,s,u,f,[l,c],r.resize)}(e,t,$,n)}(n,t,e)})),(i=e.mark.group)&&"legend-entry"!==i.mark.role?t.reflow():t;var i}})},54518:(e,t,n)=>{"use strict";n.d(t,{G:()=>Y});var i=n(48823),r=n(4036),a=n(38940),o=n(66783),s=n(41275),u=n(14644),l=n(86530),f=n(57400);function c(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}const d="default";function h(e,t){const n=e.globalCursor()?"undefined"!=typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}function p(e,t){var n=e._runtime.data;return(0,i.nr)(n,t)||(0,i.vU)("Unrecognized data set: "+t),n[t]}function m(e,t){(0,r.my)(t)||(0,i.vU)("Second argument to changes must be a changeset.");const n=p(this,e);return n.modified=!0,this.pulse(n.input,t)}function g(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function y(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function b(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}const v="view",x={trap:!1};function _(e,t,n,r){e._eventListeners.push({type:n,sources:(0,i.IX)(t),handler:r})}function w(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return!(!1===r||(0,i.Kn)(r)&&!r[n])||(e.warn(`Blocked ${t} ${n} event listener.`),!1)}function A(e){return e.item}function k(e){return e.item.mark.source}function O(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function D(e,t,n){const i=document.createElement(e);for(const e in t)i.setAttribute(e,t[e]);return null!=n&&(i.textContent=n),i}function E(e,t,n,i){const r=n.event||"input",a=()=>e.update(t.value);i.signal(n.signal,t.value),t.addEventListener(r,a),_(i,t,r,a),e.set=e=>{t.value=e,t.dispatchEvent(function(e){return"undefined"!=typeof Event?new Event(e):{type:e}}(r))}}function F(e,t,n,i){const r=i.signal(n.signal),a=D("div",{class:"vega-bind"}),o="radio"===n.input?a:a.appendChild(D("label"));o.appendChild(D("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(a);let s=$;switch(n.input){case"checkbox":s=C;break;case"select":s=M;break;case"radio":s=R;break;case"range":s=S}s(e,o,n,r)}function $(e,t,n,i){const r=D("input");for(const e in n)"signal"!==e&&"element"!==e&&r.setAttribute("input"===e?"type":e,n[e]);r.setAttribute("name",n.signal),r.value=i,t.appendChild(r),r.addEventListener("input",(()=>e.update(r.value))),e.elements=[r],e.set=e=>r.value=e}function C(e,t,n,i){const r={type:"checkbox",name:n.signal};i&&(r.checked=!0);const a=D("input",r);t.appendChild(a),a.addEventListener("change",(()=>e.update(a.checked))),e.elements=[a],e.set=e=>a.checked=!!e||null}function M(e,t,n,i){const r=D("select",{name:n.signal}),a=n.labels||[];n.options.forEach(((e,t)=>{const n={value:e};B(e,i)&&(n.selected=!0),r.appendChild(D("option",n,(a[t]||e)+""))})),t.appendChild(r),r.addEventListener("change",(()=>{e.update(n.options[r.selectedIndex])})),e.elements=[r],e.set=e=>{for(let t=0,i=n.options.length;t<i;++t)if(B(n.options[t],e))return void(r.selectedIndex=t)}}function R(e,t,n,i){const r=D("span",{class:"vega-bind-radio"}),a=n.labels||[];t.appendChild(r),e.elements=n.options.map(((t,o)=>{const s={type:"radio",name:n.signal,value:t};B(t,i)&&(s.checked=!0);const u=D("input",s);u.addEventListener("change",(()=>e.update(t)));const l=D("label",{},(a[o]||t)+"");return l.prepend(u),r.appendChild(l),u})),e.set=t=>{const n=e.elements,i=n.length;for(let e=0;e<i;++e)B(n[e].value,t)&&(n[e].checked=!0)}}function S(e,t,n,i){i=void 0!==i?i:(+n.max+ +n.min)/2;const r=null!=n.max?n.max:Math.max(100,+i)||100,a=n.min||Math.min(0,r,+i)||0,s=n.step||(0,o.ly)(a,r,100),u=D("input",{type:"range",name:n.signal,min:a,max:r,step:s});u.value=i;const l=D("span",{},+i);t.appendChild(u),t.appendChild(l);const f=()=>{l.textContent=u.value,e.update(+u.value)};u.addEventListener("input",f),u.addEventListener("change",f),e.elements=[u],e.set=e=>{u.value=e,l.textContent=e}}function B(e,t){return e===t||e+""==t+""}function Z(e,t,n,i,r,a){return(t=t||new i(e.loader())).initialize(n,g(e),y(e),b(e),r,a).background(e.background())}function T(e,t){return t?function(){try{t.apply(this,arguments)}catch(t){e.error(t)}}:null}function P(e,t,n){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&n)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}const j=e=>+e||0;function z(e){return(0,i.Kn)(e)?{top:j(e.top),bottom:j(e.bottom),left:j(e.left),right:j(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(j(e))}async function q(e,t,n,r){const o=(0,a.fS)(t),s=o&&o.headless;return s||(0,i.vU)("Unrecognized renderer type: "+t),await e.runAsync(),Z(e,null,null,s,n,r).renderAsync(e._scenegraph.root)}var N="padding",U={skip:!0};function L(e,t){var n=e.autosize(),i=e.padding();return t-(n&&n.contains===N?i.left+i.right:0)}function I(e,t){var n=e.autosize(),i=e.padding();return t-(n&&n.contains===N?i.top+i.bottom:0)}function W(e,t){return t.modified&&(0,i.kJ)(t.input.value)&&e.indexOf("_:vega:_")}function X(e,t){return!("parent"===e||t instanceof r.Lo.proxy)}function V(e,t,n,r){const a=e.element();a&&a.setAttribute("title",function(e){return null==e?"":(0,i.kJ)(e)?H(e):(0,i.Kn)(e)&&!(0,i.J_)(e)?(t=e,Object.keys(t).map((e=>{const n=t[e];return e+": "+((0,i.kJ)(n)?H(n):J(n))})).join("\n")):e+"";var t}(r))}function H(e){return"["+e.map(J).join(", ")+"]"}function J(e){return(0,i.kJ)(e)?"[…]":(0,i.Kn)(e)&&!(0,i.J_)(e)?"{…}":e}function Y(e,t){const n=this;if(t=t||{},r.h1.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){const r=(0,i.l7)({},e.locale,t.locale);n.locale((0,f.SP)(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||a.y2.Canvas,n._scenegraph=new a.Yo;const o=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||V,n._redraw=!0,n._handler=(new a.fd).scene(o),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){const t=(0,i.l7)({defaults:{}},e),n=(e,t)=>{t.forEach((t=>{(0,i.kJ)(e[t])&&(e[t]=(0,i.Rg)(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const l=function(e,t,n){return(0,u.D)(e,r.Lo,s.b5,n).parse(t)}(n,e,t.expr);n._runtime=l,n._signals=l.signals,n._bind=(e.bindings||[]).map((e=>({state:null,param:(0,i.l7)({},e)}))),l.root&&l.root.set(o),o.source=l.data.root.input,n.pulse(l.data.root.input,n.changeset().insert(o.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=L(n,n._width),n._viewHeight=I(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t.width,i=t.height,r=t.padding;function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(t=>{e._width=t.size,e._viewWidth=L(e,t.size),a()}),{size:n}),e._resizeHeight=e.add(null,(t=>{e._height=t.size,e._viewHeight=I(e,t.size),a()}),{size:i});const o=e.add(null,a,{pad:r});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=i.rank+1,o.rank=r.rank+1}(n),function(e){e.add(null,(t=>(e._background=t.bg,e._resize=1,t.bg)),{bg:e._signals.background})}(n),function(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:d,item:null}));e.on(e.events("view","mousemove"),t,((e,n)=>{const r=t.value,a=r?(0,i.HD)(r)?r:r.user:d,o=n.item&&n.item.cursor||null;return r&&a===r.user&&o==r.item?r:{user:a,item:o}})),e.add(null,(function(t){let n=t.cursor,r=this.value;return(0,i.HD)(n)||(r=n.item,n=n.user),h(e,n&&n!==d?n:r||n),r}),{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function G(e,t){return(0,i.nr)(e._signals,t)?e._signals[t]:(0,i.vU)("Unrecognized signal name: "+(0,i.m8)(t))}function K(e,t){const n=(e._targets||[]).filter((e=>e._update&&e._update.handler===t));return n.length?n[0]:null}function Q(e,t,n,i){let r=K(n,i);return r||(r=T(e,(()=>i(t,n.value))),r.handler=i,e.on(n,null,r)),e}function ee(e,t,n){const i=K(t,n);return i&&t._targets.remove(i),e}(0,i.XW)(Y,r.h1,{async evaluate(e,t,n){if(await r.h1.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,a=b(i=this),o=g(i),s=y(i),i._renderer.background(i.background()),i._renderer.resize(o,s,a),i._handler.origin(a),i._resizeListeners.forEach((e=>{try{e(o,s)}catch(e){i.error(e)}}))),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(e){this.error(e)}var i,a,o,s;return n&&(0,r.MY)(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&c(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const i=G(this,e);return 1===arguments.length?i.value:this.update(i,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",z(e)):z(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?((0,a.fS)(e)||(0,i.vU)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(r.h1.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(G(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,i,r,a){this.runAfter((o=>{let s=0;o._autosize=0,o.width()!==n&&(s=1,o.signal("width",n,U),o._resizeWidth.skip(!0)),o.height()!==i&&(s=1,o.signal("height",i,U),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===r[0]&&o._origin[1]===r[1]||(o._resize=1,o._origin=r),s&&o.run("enter"),a&&o.runAfter((e=>e.resize()))}),!1,1)},addEventListener(e,t,n){let i=t;return n&&!1===n.trap||(i=T(this,t),i.raw=t),this._handler.on(e,i),this},removeEventListener(e,t){for(var n,i,r=this._handler.handlers(e),a=r.length;--a>=0;)if(i=r[a].type,n=r[a].handler,e===i&&(t===n||t===n.raw)){this._handler.off(i,n);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return Q(this,e,G(this,e),t)},removeSignalListener(e,t){return ee(this,G(this,e),t)},addDataListener(e,t){return Q(this,e,p(this,e).values,t)},removeDataListener(e,t){return ee(this,p(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=h(this,null);this._globalCursor=!!e,t&&h(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push((0,l.Z)((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(e,t,n){var o,s=this,u=new r.MF(n),l=function(n,r){s.runAsync(null,(()=>{e===v&&function(e,t){var n=e._eventConfig.defaults,i=n.prevent,r=n.allow;return!1!==i&&!0!==r&&(!0===i||!1===r||(i?i[t]:r?!r[t]:e.preventDefault()))}(s,t)&&n.preventDefault(),u.receive(function(e,t,n){var r,o,s,u=e._renderer,l=u&&u.canvas();return l&&(s=b(e),o=t.changedTouches?t.changedTouches[0]:t,(r=(0,a.xm)(o,l))[0]-=s[0],r[1]-=s[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){const r=t?"group"===t.mark.marktype?t:t.mark.group:null;function a(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(e){if(!e)return n;(0,i.HD)(e)&&(e=a(e));const t=n.slice();for(;e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:(0,i.a9)(e),item:(0,i.a9)(t||{}),group:a,xy:o,x:e=>o(e)[0],y:e=>o(e)[1]}}(e,n,r),t}(s,n,r))}))};if("timer"===e)w(s,"timer",t)&&s.timer(l,t);else if(e===v)w(s,"view",t)&&s.addEventListener(t,l,x);else if("window"===e?w(s,"window",t)&&"undefined"!=typeof window&&(o=[window]):"undefined"!=typeof document&&w(s,"selector",t)&&(o=document.querySelectorAll(e)),o){for(var f=0,c=o.length;f<c;++f)o[f].addEventListener(t,l);_(s,o,t,l)}else s.warn("Can not resolve event source: "+e);return u},finalize:function(){var e,t,n,i=this._tooltip,r=this._timers,a=this._eventListeners;for(e=r.length;--e>=0;)r[e].stop();for(e=a.length;--e>=0;)for(t=(n=a[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return i&&i.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",A),k,O(e)),this.on(this.events("view","mouseout",A),k,O(t)),this},data:function(e,t){return arguments.length<2?p(this,e).values.value:m.call(this,e,(0,r._K)().remove(i.yb).insert(t))},change:m,insert:function(e,t){return m.call(this,e,(0,r._K)().insert(t))},remove:function(e,t){return m.call(this,e,(0,r._K)().remove(t))},scale:function(e){var t=this._runtime.scales;return(0,i.nr)(t,e)||(0,i.vU)("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){const n=this,r=n._renderType,o=n._eventConfig.bind,s=(0,a.fS)(r);e=n._el=e?P(n,e,!0):null,function(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),c(t,e.description()))}(n),s||n.error("Unrecognized renderer type: "+r);const u=s.handler||a.fd,l=e?s.renderer:s.headless;return n._renderer=l?Z(n,n._renderer,e,l):null,n._handler=function(e,t,n,i){const r=new i(e.loader(),T(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,b(e),e);return t&&t.handlers().forEach((e=>{r.on(e.type,e.handler)})),r}(n,n._handler,e,u),n._redraw=!0,e&&"none"!==o&&(t=t?n._elBind=P(n,t,!0):e.appendChild(D("form",{class:"vega-bindings"})),n._bind.forEach((e=>{e.param.element&&"container"!==o&&(e.element=P(n,e.param.element,!!e.param.input))})),n._bind.forEach((e=>{!function(e,t,n){if(!t)return;const r=n.param;let a=n.state;a||(a=n.state={elements:null,active:!1,set:null,update:t=>{t!=e.signal(r.signal)&&e.runAsync(null,(()=>{a.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(a.update=(0,i.Ds)(r.debounce,a.update))),(null==r.input&&r.element?E:F)(a,t,r,e),a.active||(e.on(e._signals[r.signal],null,(()=>{a.source?a.source=!1:a.set(e.signal(r.signal))})),a.active=!0)}(n,e.element||t,e)}))),n},toImageURL:async function(e,t){e!==a.y2.Canvas&&e!==a.y2.SVG&&e!==a.y2.PNG&&(0,i.vU)("Unrecognized image type: "+e);const n=await q(this,e,t);return e===a.y2.SVG?function(e,t){const n=new Blob([e],{type:"image/svg+xml"});return window.URL.createObjectURL(n)}(n.svg()):n.canvas().toDataURL("image/png")},toCanvas:async function(e,t){return(await q(this,a.y2.Canvas,e,t)).canvas()},toSVG:async function(e){return(await q(this,a.y2.SVG,e)).svg()},getState:function(e){return this._runtime.getState(e||{data:W,signals:X,recurse:!0})},setState:function(e){return this.runAsync(null,(t=>{t._trigger=!1,t._runtime.setState(e)}),(e=>{e._trigger=!0})),this}})},66783:(e,t,n)=>{"use strict";n.d(t,{ly:()=>o});var i=Math.sqrt(50),r=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/s;return u>=i?s*=10:u>=r?s*=5:u>=a&&(s*=2),t<e?-s:s}},40995:(e,t,n)=>{"use strict";n.r(t),n.d(t,{voronoi:()=>o});var i=n(4036),r=n(48823),a=n(93521);function o(e){i.wx.call(this,null,e)}o.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const s=[-1e5,-1e5,1e5,1e5];function u(e){const t=e[0][0],n=e[0][1];let i=e.length-1;for(;e[i][0]===t&&e[i][1]===n;--i);return"M"+e.slice(0,i+1).join("L")+"Z"}(0,r.XW)(o,i.wx,{transform(e,t){const n=e.as||"path",i=t.source;if(!i||!i.length)return t;let r=e.size;r=r?[0,0,r[0],r[1]]:(r=e.extent)?[r[0][0],r[0][1],r[1][0],r[1][1]]:s;const o=this.value=a.Z.from(i,e.x,e.y).voronoi(r);for(let e=0,t=i.length;e<t;++e){const t=o.cellPolygon(e);i[e][n]=t?u(t):null}return t.reflow(e.modified()).modifies(n)}})},93454:(e,t,n)=>{"use strict";n.r(t),n.d(t,{wordcloud:()=>b});var i=n(17786),r=n(4036),a=n(48823),o=n(87180),s=n(90195),u=Math.PI/180,l=2048;function f(e,t,n,i){if(!t.sprite){var r=e.context,a=e.ratio;r.clearRect(0,0,2048/a,l/a);var o,s,f,c,d,h=0,p=0,m=0,g=n.length;for(--i;++i<g;){if(t=n[i],r.save(),r.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,o=r.measureText(t.text+"m").width*a,f=t.size<<1,t.rotate){var y=Math.sin(t.rotate*u),b=Math.cos(t.rotate*u),v=o*b,x=o*y,_=f*b,w=f*y;o=Math.max(Math.abs(v+w),Math.abs(v-w))+31>>5<<5,f=~~Math.max(Math.abs(x+_),Math.abs(x-_))}else o=o+31>>5<<5;if(f>m&&(m=f),h+o>=2048&&(h=0,p+=m,m=0),p+f>=l)break;r.translate((h+(o>>1))/a,(p+(f>>1))/a),t.rotate&&r.rotate(t.rotate*u),r.fillText(t.text,0,0),t.padding&&(r.lineWidth=2*t.padding,r.strokeText(t.text,0,0)),r.restore(),t.width=o,t.height=f,t.xoff=h,t.yoff=p,t.x1=o>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,h+=o}for(var A=r.getImageData(0,0,2048/a,l/a).data,k=[];--i>=0;)if((t=n[i]).hasText){for(s=(o=t.width)>>5,f=t.y1-t.y0,c=0;c<f*s;c++)k[c]=0;if(null==(h=t.xoff))return;p=t.yoff;var O=0,D=-1;for(d=0;d<f;d++){for(c=0;c<o;c++){var E=s*d+(c>>5),F=A[2048*(p+d)+(h+c)<<2]?1<<31-c%32:0;k[E]|=F,O|=F}O?D=d:(t.y0++,f--,d--,p++)}t.y1=t.y0+D,t.sprite=k.slice(0,(t.y1-t.y0)*s)}}}function c(e,t,n){n>>=5;for(var i,r=e.sprite,a=e.width>>5,o=e.x-(a<<4),s=127&o,u=32-s,l=e.y1-e.y0,f=(e.y+e.y0)*n+(o>>5),c=0;c<l;c++){i=0;for(var d=0;d<=a;d++)if((i<<u|(d<a?(i=r[c*a+d])>>>s:0))&t[f+d])return!0;f+=n}return!1}function d(e,t){var n=e[0],i=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>i.x&&(i.x=t.x+t.x1),t.y+t.y1>i.y&&(i.y=t.y+t.y1)}function h(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function p(e){return"function"==typeof e?e:function(){return e}}var m={archimedean:h,rectangular:function(e){var t=4*e[0]/e[1],n=0,i=0;return function(e){var r=e<0?-1:1;switch(Math.sqrt(1+4*r*e)-r&3){case 0:n+=t;break;case 1:i+=4;break;case 2:n-=t;break;default:i-=4}return[n,i]}}};const g=["x","y","font","fontSize","fontStyle","fontWeight","angle"],y=["text","font","rotate","fontSize","fontStyle","fontWeight"];function b(e){r.wx.call(this,function(){var e,t,n,r,a,o,s,u=[256,256],g=h,y=[],b=Math.random,v={};function x(e,t,n){for(var i,r,a,o,s,l=t.x,f=t.y,d=Math.sqrt(u[0]*u[0]+u[1]*u[1]),h=g(u),p=b()<.5?1:-1,m=-p;(i=h(m+=p))&&(r=~~i[0],a=~~i[1],!(Math.min(Math.abs(r),Math.abs(a))>=d));)if(t.x=l+r,t.y=f+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>u[0]||t.y+t.y1>u[1]||n&&c(t,e,u[0])||n&&(s=n,!((o=t).x+o.x1>s[0].x&&o.x+o.x0<s[1].x&&o.y+o.y1>s[0].y&&o.y+o.y0<s[1].y)))){for(var y,v=t.sprite,x=t.width>>5,_=u[0]>>5,w=t.x-(x<<4),A=127&w,k=32-A,O=t.y1-t.y0,D=(t.y+t.y0)*_+(w>>5),E=0;E<O;E++){y=0;for(var F=0;F<=x;F++)e[D+F]|=y<<k|(F<x?(y=v[E*x+F])>>>A:0);D+=_}return t.sprite=null,!0}return!1}return v.layout=function(){for(var c=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=l/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}((0,i.v)()),h=function(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}((u[0]>>5)*u[1]),p=null,m=y.length,g=-1,v=[],_=y.map((i=>({text:e(i),font:t(i),style:r(i),weight:a(i),rotate:o(i),size:~~(n(i)+1e-14),padding:s(i),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:i}))).sort(((e,t)=>t.size-e.size));++g<m;){var w=_[g];w.x=u[0]*(b()+.5)>>1,w.y=u[1]*(b()+.5)>>1,f(c,w,_,g),w.hasText&&x(h,w,p)&&(v.push(w),p?d(p,w):p=[{x:w.x+w.x0,y:w.y+w.y0},{x:w.x+w.x1,y:w.y+w.y1}],w.x-=u[0]>>1,w.y-=u[1]>>1)}return v},v.words=function(e){return arguments.length?(y=e,v):y},v.size=function(e){return arguments.length?(u=[+e[0],+e[1]],v):u},v.font=function(e){return arguments.length?(t=p(e),v):t},v.fontStyle=function(e){return arguments.length?(r=p(e),v):r},v.fontWeight=function(e){return arguments.length?(a=p(e),v):a},v.rotate=function(e){return arguments.length?(o=p(e),v):o},v.text=function(t){return arguments.length?(e=p(t),v):e},v.spiral=function(e){return arguments.length?(g=m[e]||e,v):g},v.fontSize=function(e){return arguments.length?(n=p(e),v):n},v.padding=function(e){return arguments.length?(s=p(e),v):s},v.random=function(e){return arguments.length?(b=e,v):b},v}(),e)}b.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:g}]},(0,a.XW)(b,r.wx,{transform(e,t){!e.size||e.size[0]&&e.size[1]||(0,a.vU)("Wordcloud size dimensions must be non-zero.");const n=e.modified();if(!(n||t.changed(t.ADD_REM)||y.some((function(n){const i=e[n];return(0,a.mf)(i)&&t.modified(i.fields)}))))return;const i=t.materialize(t.SOURCE).source,r=this.value,u=e.as||g;let l,f=e.fontSize||14;if((0,a.mf)(f)?l=e.fontSizeRange:f=(0,a.a9)(f),l){const e=f,t=(0,o.bA)("sqrt")().domain((0,a.We)(i,e)).range(l);f=n=>t(e(n))}i.forEach((e=>{e[u[0]]=NaN,e[u[1]]=NaN,e[u[3]]=0}));const c=r.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(f).random(s.MX).layout(),d=r.size(),h=d[0]>>1,p=d[1]>>1,m=c.length;for(let e,t,n=0;n<m;++n)e=c[n],t=e.datum,t[u[0]]=e.x+h,t[u[1]]=e.y+p,t[u[2]]=e.font,t[u[3]]=e.size,t[u[4]]=e.style,t[u[5]]=e.weight,t[u[6]]=e.rotate;return t.reflow(n).modifies(u)}})},22454:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Debug:()=>i.cG,Error:()=>i.jj,Info:()=>i.kI,None:()=>i.Hq,Warn:()=>i.uU,accessor:()=>i.ZE,accessorFields:()=>i.Oj,accessorName:()=>i.el,array:()=>i.IX,ascending:()=>i.j2,clampRange:()=>i.l$,compare:()=>i.qu,constant:()=>i.a9,debounce:()=>i.Ds,error:()=>i.vU,extend:()=>i.l7,extent:()=>i.We,extentIndex:()=>i.dI,falsy:()=>i.k,fastmap:()=>i.Xr,field:()=>i.EP,flush:()=>i.yl,hasOwnProperty:()=>i.nr,id:()=>i.id,identity:()=>i.yR,inherits:()=>i.XW,inrange:()=>i.u5,isArray:()=>i.kJ,isBoolean:()=>i.jn,isDate:()=>i.J_,isFunction:()=>i.mf,isIterable:()=>i.TW,isNumber:()=>i.hj,isObject:()=>i.Kn,isRegExp:()=>i.Kj,isString:()=>i.HD,key:()=>i.Jy,lerp:()=>i.t7,logger:()=>i.kg,lruCache:()=>i.$m,merge:()=>i.TS,mergeConfig:()=>i.fE,one:()=>i.kX,pad:()=>i.vk,panLinear:()=>i.Dw,panLog:()=>i.mJ,panPow:()=>i.QA,panSymlog:()=>i.Zw,peek:()=>i.fj,quarter:()=>i.mS,repeat:()=>i.rx,span:()=>i.yP,splitAccessPath:()=>i._k,stringValue:()=>i.m8,toBoolean:()=>i.sw,toDate:()=>i.ZU,toNumber:()=>i.He,toSet:()=>i.Rg,toString:()=>i.BB,truncate:()=>i.$G,truthy:()=>i.yb,utcquarter:()=>i.N3,visitArray:()=>i.FP,writeConfig:()=>i.iL,zero:()=>i.bM,zoomLinear:()=>i.ay,zoomLog:()=>i.dH,zoomPow:()=>i.mK,zoomSymlog:()=>i.bV,Dataflow:()=>r.h1,EventStream:()=>r.MF,MultiPulse:()=>r.GG,Operator:()=>r.EF,Parameters:()=>r.aE,Pulse:()=>r.GM,Transform:()=>r.wx,changeset:()=>r._K,definition:()=>r.DF,ingest:()=>r.ax,isTuple:()=>r.x3,transform:()=>r.vs,transforms:()=>r.Lo,tupleid:()=>r.ai,bandwidthNRD:()=>g.U_,bin:()=>g.Ly,bootstrapCI:()=>g.aF,cumulativeLogNormal:()=>g.hz,cumulativeNormal:()=>g.Nn,cumulativeUniform:()=>g.rH,densityLogNormal:()=>g.Q3,densityNormal:()=>g.Dg,densityUniform:()=>g.ah,dotbin:()=>g.Hk,quantileLogNormal:()=>g.HA,quantileNormal:()=>g.if,quantileUniform:()=>g.At,quantiles:()=>g.cW,quartiles:()=>g.cF,random:()=>g.MX,randomInteger:()=>g.LU,randomKDE:()=>g.l0,randomLCG:()=>g.JY,randomLogNormal:()=>g.bw,randomMixture:()=>g.wz,randomNormal:()=>g.nG,randomUniform:()=>g.LG,regressionExp:()=>g.lI,regressionLinear:()=>g.fw,regressionLoess:()=>g.$S,regressionLog:()=>g.jE,regressionPoly:()=>g.gS,regressionPow:()=>g.kp,regressionQuad:()=>g.p9,sampleCurve:()=>g.sR,sampleLogNormal:()=>g.K,sampleNormal:()=>g.Tp,sampleUniform:()=>g.nP,setRandom:()=>g.J3,DATE:()=>y.Hu,DAY:()=>y.x4,DAYOFYEAR:()=>y.pN,HOURS:()=>y.gd,MILLISECONDS:()=>y.cw,MINUTES:()=>y.DZ,MONTH:()=>y.vc,QUARTER:()=>y.PD,SECONDS:()=>y.kG,TIME_UNITS:()=>y.LO,WEEK:()=>y.ps,YEAR:()=>y.oP,dayofyear:()=>y.y_,timeBin:()=>y.pt,timeFloor:()=>y.BR,timeInterval:()=>y.JZ,timeOffset:()=>y.Vm,timeSequence:()=>y.uA,timeUnitSpecifier:()=>y.iJ,timeUnits:()=>y.FW,utcFloor:()=>y.pd,utcInterval:()=>y.zr,utcOffset:()=>y._M,utcSequence:()=>y.MC,utcdayofyear:()=>y.zk,utcweek:()=>y.aw,week:()=>y.g0,format:()=>b.WU,formats:()=>b.bd,inferType:()=>b.O3,inferTypes:()=>b.FM,loader:()=>b._m,read:()=>b.ij,responseType:()=>b.hh,typeParsers:()=>b.sL,Bounds:()=>v.YZ,CanvasHandler:()=>v.fd,CanvasRenderer:()=>v.uK,Gradient:()=>v.ph,GroupItem:()=>v.MN,Handler:()=>v.RW,Item:()=>v.ck,Marks:()=>v.zT,RenderType:()=>v.y2,Renderer:()=>v.Th,ResourceLoader:()=>v.hZ,SVGHandler:()=>v.H_,SVGRenderer:()=>v.uM,SVGStringRenderer:()=>v.Xh,Scenegraph:()=>v.Yo,boundClip:()=>v.bs,boundContext:()=>v.I_,boundItem:()=>v.of,boundMark:()=>v.Ui,boundStroke:()=>v.Hz,domChild:()=>v.D2,domClear:()=>v.d7,domCreate:()=>v.$9,domFind:()=>v.nz,font:()=>v.LZ,fontFamily:()=>v.I8,fontSize:()=>v.JB,intersect:()=>v.wf,intersectBoxLine:()=>v.jy,intersectPath:()=>v.n8,intersectPoint:()=>v.Pk,intersectRule:()=>v.VC,lineHeight:()=>v.Nv,markup:()=>v.ND,multiLineOffset:()=>v.N_,pathCurves:()=>v.NV,pathEqual:()=>v.C7,pathParse:()=>v.LY,pathRectangle:()=>v.LP,pathRender:()=>v.dW,pathSymbols:()=>v.cb,pathTrail:()=>v.Xs,point:()=>v.xm,renderModule:()=>v.fS,resetSVGClipId:()=>v.le,resetSVGDefIds:()=>v.Y7,sceneEqual:()=>v.M7,sceneFromJSON:()=>v.Eu,scenePickVisit:()=>v.mI,sceneToJSON:()=>v.kd,sceneVisit:()=>v.X4,sceneZOrder:()=>v.jE,serializeXML:()=>v.mS,textMetrics:()=>v.Zd,interpolate:()=>x.sX,interpolateColors:()=>x.Nz,interpolateRange:()=>x.ST,quantizeInterpolator:()=>x.u1,scale:()=>x.bA,scheme:()=>x.rC,projection:()=>_.CJ,View:()=>w.G,defaultLocale:()=>A.al,formatLocale:()=>A.R7,locale:()=>A.SP,resetDefaultLocale:()=>A.AX,timeFormatLocale:()=>A.Ds,expressionFunction:()=>k.jB,parse:()=>O.Qc,runtimeContext:()=>D.D,codegenExpression:()=>E.YP,parseExpression:()=>E.BJ,parseSelector:()=>F.r,version:()=>$});var i=n(48823),r=n(4036),a=n(72930),o=n(16279),s=n(71986),u=n(87999),l=n(32712),f=n(82964),c=n(76081),d=n(71246),h=n(40995),p=n(93454),m=n(663),g=n(90195),y=n(73093),b=n(92987),v=n(38940),x=n(87180),_=n(76039),w=n(54518),A=n(57400),k=n(41275),O=n(48799),D=n(14644),E=n(25693),F=n(83082);(0,i.l7)(r.Lo,a,o,s,u,l,c,f,d,h,p,m);const $="5.21.0"},54639:(e,t,n)=>{const i=n(42901);t.parseFont=i,t.createCanvas=function(e,t){return Object.assign(document.createElement("canvas"),{width:e,height:t})},t.createImageData=function(e,t,n){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(e);case 2:return new ImageData(e,t);default:return new ImageData(e,t,n)}},t.loadImage=function(e,t){return new Promise((function(n,i){const r=Object.assign(document.createElement("img"),t);function a(){r.onload=null,r.onerror=null}r.onload=function(){a(),n(r)},r.onerror=function(){a(),i(new Error('Failed to load the image "'+e+'"'))},r.src=e}))}},42901:e=>{"use strict";const t="'([^']+)'|\"([^\"]+)\"|[\\w\\s-]+",n=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),i=new RegExp("(italic|oblique) +","i"),r=new RegExp("(small-caps) +","i"),a=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),o=new RegExp(`([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:${t})( *, *(?:${t}))*)`),s={};e.exports=e=>{if(s[e])return s[e];const t=o.exec(e);if(!t)return;const u={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")};let l,f,c,d;const h=e.substring(0,t.index);switch((l=n.exec(h))&&(u.weight=l[1]),(f=i.exec(h))&&(u.style=f[1]),(c=r.exec(h))&&(u.variant=c[1]),(d=a.exec(h))&&(u.stretch=d[1]),u.unit){case"pt":u.size/=.75;break;case"pc":u.size*=16;break;case"in":u.size*=96;break;case"cm":u.size*=96/2.54;break;case"mm":u.size*=96/25.4;break;case"%":break;case"em":case"rem":u.size*=16/.75;break;case"q":u.size*=96/25.4/4}return s[e]=u}},20202:(e,t,n)=>{"use strict";function i(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}n.d(t,{Z:()=>i})},27639:(e,t,n)=>{"use strict";n.d(t,{ml:()=>s,ZP:()=>u});var i=n(20202),r=n(12609),a=n(42707);const o=(0,r.Z)(i.Z),s=o.right,u=(o.left,(0,r.Z)(a.Z).center,s)},12609:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(20202);function r(e){let t=e,n=e;function r(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const a=i+r>>>1;n(e[a],t)<0?i=a+1:r=a}return i}return 1===e.length&&(t=(t,n)=>e(t)-n,n=function(e){return(t,n)=>(0,i.Z)(e(t),n)}(e)),{left:r,center:function(e,n,i,a){null==i&&(i=0),null==a&&(a=e.length);const o=r(e,n,i,a-1);return o>i&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){const a=i+r>>>1;n(e[a],t)>0?r=a:i=a+1}return i}}}},43004:(e,t,n)=>{"use strict";n.d(t,{dU:()=>i});class i{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let i=0;i<this._n&&i<32;i++){const r=t[i],a=e+r,o=Math.abs(e)<Math.abs(r)?e-(a-r):r-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,i,r=this._n,a=0;if(r>0){for(a=e[--r];r>0&&(t=a,n=e[--r],a=t+n,i=n-(a-t),!i););r>0&&(i<0&&e[r-1]<0||i>0&&e[r-1]>0)&&(n=2*i,t=a+n,n==t-a&&(a=t))}return a}}},42707:(e,t,n)=>{"use strict";function i(e){return null===e?NaN:+e}n.d(t,{Z:()=>i})},96913:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});var i=n(42707);function r(e,t,n=i.Z){if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,o=Math.floor(a),s=+n(e[o],o,e);return s+(+n(e[o+1],o+1,e)-s)*(a-o)}}},82118:(e,t,n)=>{"use strict";function i(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(r);++i<r;)a[i]=e+i*n;return a}n.d(t,{Z:()=>i})},27109:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>o,G9:()=>s,ly:()=>u});var i=Math.sqrt(50),r=Math.sqrt(10),a=Math.sqrt(2);function o(e,t,n){var i,r,a,o,u=-1;if(n=+n,(e=+e)==(t=+t)&&n>0)return[e];if((i=t<e)&&(r=e,e=t,t=r),0===(o=s(e,t,n))||!isFinite(o))return[];if(o>0){let n=Math.round(e/o),i=Math.round(t/o);for(n*o<e&&++n,i*o>t&&--i,a=new Array(r=i-n+1);++u<r;)a[u]=(n+u)*o}else{o=-o;let n=Math.round(e*o),i=Math.round(t*o);for(n/o<e&&++n,i/o>t&&--i,a=new Array(r=i-n+1);++u<r;)a[u]=(n+u)/o}return i&&a.reverse(),a}function s(e,t,n){var o=(t-e)/Math.max(0,n),s=Math.floor(Math.log(o)/Math.LN10),u=o/Math.pow(10,s);return s>=0?(u>=i?10:u>=r?5:u>=a?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(u>=i?10:u>=r?5:u>=a?2:1)}function u(e,t,n){var o=Math.abs(t-e)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),u=o/s;return u>=i?s*=10:u>=r?s*=5:u>=a&&(s*=2),t<e?-s:s}},45104:(e,t,n)=>{"use strict";n.d(t,{Il:()=>r,xV:()=>a,J5:()=>o,ZP:()=>x,SU:()=>A,B8:()=>k,Ss:()=>O,Ym:()=>M});var i=n(66550);function r(){}var a=.7,o=1/a,s="\\s*([+-]?\\d+)\\s*",u="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f=/^#([0-9a-f]{3,8})$/,c=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),d=new RegExp("^rgb\\("+[l,l,l]+"\\)$"),h=new RegExp("^rgba\\("+[s,s,s,u]+"\\)$"),p=new RegExp("^rgba\\("+[l,l,l,u]+"\\)$"),m=new RegExp("^hsl\\("+[u,l,l]+"\\)$"),g=new RegExp("^hsla\\("+[u,l,l,u]+"\\)$"),y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function v(){return this.rgb().formatRgb()}function x(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=f.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?_(t):3===n?new O(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?w(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?w(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=c.exec(e))?new O(t[1],t[2],t[3],1):(t=d.exec(e))?new O(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=h.exec(e))?w(t[1],t[2],t[3],t[4]):(t=p.exec(e))?w(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=m.exec(e))?$(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?$(t[1],t[2]/100,t[3]/100,t[4]):y.hasOwnProperty(e)?_(y[e]):"transparent"===e?new O(NaN,NaN,NaN,0):null}function _(e){return new O(e>>16&255,e>>8&255,255&e,1)}function w(e,t,n,i){return i<=0&&(e=t=n=NaN),new O(e,t,n,i)}function A(e){return e instanceof r||(e=x(e)),e?new O((e=e.rgb()).r,e.g,e.b,e.opacity):new O}function k(e,t,n,i){return 1===arguments.length?A(e):new O(e,t,n,null==i?1:i)}function O(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}function D(){return"#"+F(this.r)+F(this.g)+F(this.b)}function E(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function F(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function $(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new R(e,t,n,i)}function C(e){if(e instanceof R)return new R(e.h,e.s,e.l,e.opacity);if(e instanceof r||(e=x(e)),!e)return new R;if(e instanceof R)return e;var t=(e=e.rgb()).r/255,n=e.g/255,i=e.b/255,a=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,u=o-a,l=(o+a)/2;return u?(s=t===o?(n-i)/u+6*(n<i):n===o?(i-t)/u+2:(t-n)/u+4,u/=l<.5?o+a:2-o-a,s*=60):u=l>0&&l<1?0:s,new R(s,u,l,e.opacity)}function M(e,t,n,i){return 1===arguments.length?C(e):new R(e,t,n,null==i?1:i)}function R(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}function S(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}(0,i.Z)(r,x,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHsl:function(){return C(this).formatHsl()},formatRgb:v,toString:v}),(0,i.Z)(O,k,(0,i.l)(r,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new O(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new O(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D,formatHex:D,formatRgb:E,toString:E})),(0,i.Z)(R,M,(0,i.l)(r,{brighter:function(e){return e=null==e?o:Math.pow(o,e),new R(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?a:Math.pow(a,e),new R(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new O(S(e>=240?e-240:e+120,r,i),S(e,r,i),S(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}))},72187:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(66550),r=n(45104),a=n(6643),o=-.14861,s=1.78277,u=-.29227,l=-.90649,f=1.97294,c=f*l,d=f*s,h=s*u-l*o;function p(e){if(e instanceof g)return new g(e.h,e.s,e.l,e.opacity);e instanceof r.Ss||(e=(0,r.SU)(e));var t=e.r/255,n=e.g/255,i=e.b/255,o=(h*i+c*t-d*n)/(h+c-d),s=i-o,p=(f*(n-o)-u*s)/l,m=Math.sqrt(p*p+s*s)/(f*o*(1-o)),y=m?Math.atan2(p,s)*a.R-120:NaN;return new g(y<0?y+360:y,m,o,e.opacity)}function m(e,t,n,i){return 1===arguments.length?p(e):new g(e,t,n,null==i?1:i)}function g(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}(0,i.Z)(g,m,(0,i.l)(r.Il,{brighter:function(e){return e=null==e?r.J5:Math.pow(r.J5,e),new g(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?r.xV:Math.pow(r.xV,e),new g(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*a.u,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),i=Math.cos(e),c=Math.sin(e);return new r.Ss(255*(t+n*(o*i+s*c)),255*(t+n*(u*i+l*c)),255*(t+n*(f*i)),this.opacity)}}))},66550:(e,t,n)=>{"use strict";function i(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function r(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}n.d(t,{Z:()=>i,l:()=>r})},46401:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,Uc:()=>v});var i=n(66550),r=n(45104),a=n(6643);const o=.96422,s=.82521,u=4/29,l=6/29,f=3*l*l;function c(e){if(e instanceof h)return new h(e.l,e.a,e.b,e.opacity);if(e instanceof x)return _(e);e instanceof r.Ss||(e=(0,r.SU)(e));var t,n,i=y(e.r),a=y(e.g),u=y(e.b),l=p((.2225045*i+.7168786*a+.0606169*u)/1);return i===a&&a===u?t=n=l:(t=p((.4360747*i+.3850649*a+.1430804*u)/o),n=p((.0139322*i+.0971045*a+.7141733*u)/s)),new h(116*l-16,500*(t-l),200*(l-n),e.opacity)}function d(e,t,n,i){return 1===arguments.length?c(e):new h(e,t,n,null==i?1:i)}function h(e,t,n,i){this.l=+e,this.a=+t,this.b=+n,this.opacity=+i}function p(e){return e>.008856451679035631?Math.pow(e,1/3):e/f+u}function m(e){return e>l?e*e*e:f*(e-u)}function g(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function y(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function b(e){if(e instanceof x)return new x(e.h,e.c,e.l,e.opacity);if(e instanceof h||(e=c(e)),0===e.a&&0===e.b)return new x(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*a.R;return new x(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function v(e,t,n,i){return 1===arguments.length?b(e):new x(e,t,n,null==i?1:i)}function x(e,t,n,i){this.h=+e,this.c=+t,this.l=+n,this.opacity=+i}function _(e){if(isNaN(e.h))return new h(e.l,0,0,e.opacity);var t=e.h*a.u;return new h(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}(0,i.Z)(h,d,(0,i.l)(r.Il,{brighter:function(e){return new h(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new h(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=o*m(t),e=1*m(e),n=s*m(n),new r.Ss(g(3.1338561*t-1.6168667*e-.4906146*n),g(-.9787684*t+1.9161415*e+.033454*n),g(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),(0,i.Z)(x,v,(0,i.l)(r.Il,{brighter:function(e){return new x(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new x(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return _(this).rgb()}}))},6643:(e,t,n)=>{"use strict";n.d(t,{u:()=>i,R:()=>r});const i=Math.PI/180,r=180/Math.PI},55735:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i={},r={};function a(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function o(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var i in e)i in t||n.push(t[i]=i)})),n}function s(e,t){var n=e+"",i=n.length;return i<t?new Array(t-i+1).join(0)+n:n}function u(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function u(e,t){var a,o=[],s=e.length,u=0,l=0,f=s<=0,c=!1;function d(){if(f)return r;if(c)return c=!1,i;var t,a,o=u;if(34===e.charCodeAt(o)){for(;u++<s&&34!==e.charCodeAt(u)||34===e.charCodeAt(++u););return(t=u)>=s?f=!0:10===(a=e.charCodeAt(u++))?c=!0:13===a&&(c=!0,10===e.charCodeAt(u)&&++u),e.slice(o+1,t-1).replace(/""/g,'"')}for(;u<s;){if(10===(a=e.charCodeAt(t=u++)))c=!0;else if(13===a)c=!0,10===e.charCodeAt(u)&&++u;else if(a!==n)continue;return e.slice(o,t)}return f=!0,e.slice(o,s)}for(10===e.charCodeAt(s-1)&&--s,13===e.charCodeAt(s-1)&&--s;(a=d())!==r;){for(var h=[];a!==i&&a!==r;)h.push(a),a=d();t&&null==(h=t(h,l++))||o.push(h)}return o}function l(t,n){return t.map((function(t){return n.map((function(e){return c(t[e])})).join(e)}))}function f(t){return t.map(c).join(e)}function c(e){return null==e?"":e instanceof Date?(r=(n=e).getUTCHours(),a=n.getUTCMinutes(),o=n.getUTCSeconds(),u=n.getUTCMilliseconds(),isNaN(n)?"Invalid Date":((i=n.getUTCFullYear())<0?"-"+s(-i,6):i>9999?"+"+s(i,6):s(i,4))+"-"+s(n.getUTCMonth()+1,2)+"-"+s(n.getUTCDate(),2)+(u?"T"+s(r,2)+":"+s(a,2)+":"+s(o,2)+"."+s(u,3)+"Z":o?"T"+s(r,2)+":"+s(a,2)+":"+s(o,2)+"Z":a||r?"T"+s(r,2)+":"+s(a,2)+"Z":"")):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e;var n,i,r,a,o,u}return{parse:function(e,t){var n,i,r=u(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=a(e);return function(i,r){return t(n(i),r,e)}}(e,t):a(e)}));return r.columns=i||[],r},parseRows:u,format:function(t,n){return null==n&&(n=o(t)),[n.map(c).join(e)].concat(l(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=o(e)),l(e,t).join("\n")},formatRows:function(e){return e.map(f).join("\n")},formatRow:f,formatValue:c}}},46376:(e,t,n)=>{"use strict";var i,r,a,o;n.d(t,{WU:()=>r,jH:()=>a}),o={thousands:",",grouping:[3],currency:["$",""]},i=(0,n(36814).Z)(o),r=i.format,a=i.formatPrefix},88642:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(65497);function r(e){return(e=(0,i.V)(Math.abs(e)))?e[1]:NaN}},65497:(e,t,n)=>{"use strict";function i(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function r(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}n.d(t,{Z:()=>i,V:()=>r})},83799:(e,t,n)=>{"use strict";function i(e,t){return function(n,i){for(var r=n.length,a=[],o=0,s=e[0],u=0;r>0&&s>0&&(u+s+1>i&&(s=Math.max(1,i-u)),a.push(n.substring(r-=s,r+s)),!((u+=s+1)>i));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}n.d(t,{Z:()=>i})},41473:(e,t,n)=>{"use strict";function i(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}n.d(t,{Z:()=>i})},58539:(e,t,n)=>{"use strict";n.d(t,{y:()=>i,Z:()=>a});var i,r=n(65497);function a(e,t){var n=(0,r.V)(e,t);if(!n)return e+"";var a=n[0],o=n[1],s=o-(i=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,u=a.length;return s===u?a:s>u?a+new Array(s-u+1).join("0"):s>0?a.slice(0,s)+"."+a.slice(s):"0."+new Array(1-s).join("0")+(0,r.V)(e,Math.max(0,t+s-1))[0]}},50694:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(65497);function r(e,t){var n=(0,i.V)(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}},90127:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r(e){if(!(t=i.exec(e)))throw new Error("invalid format: "+e);var t;return new a({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function a(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}r.prototype=a.prototype,a.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type}},9211:(e,t,n)=>{"use strict";function i(e){e:for(var t,n=e.length,i=1,r=-1;i<n;++i)switch(e[i]){case".":r=t=i;break;case"0":0===r&&(r=i),t=i;break;default:if(!+e[i])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}n.d(t,{Z:()=>i})},2884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(65497),r=n(58539),a=n(50694);const o={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:i.Z,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>(0,a.Z)(100*e,t),r:a.Z,s:r.Z,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)}},45929:(e,t,n)=>{"use strict";function i(e){return e}n.d(t,{Z:()=>i})},36814:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(88642),r=n(83799),a=n(41473),o=n(90127),s=n(9211),u=n(2884),l=n(58539),f=n(45929),c=Array.prototype.map,d=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function h(e){var t=void 0===e.grouping||void 0===e.thousands?f.Z:(0,r.Z)(c.call(e.grouping,Number),e.thousands+""),n=void 0===e.currency?"":e.currency[0]+"",h=void 0===e.currency?"":e.currency[1]+"",p=void 0===e.decimal?".":e.decimal+"",m=void 0===e.numerals?f.Z:(0,a.Z)(c.call(e.numerals,String)),g=void 0===e.percent?"%":e.percent+"",y=void 0===e.minus?"−":e.minus+"",b=void 0===e.nan?"NaN":e.nan+"";function v(e){var i=(e=(0,o.Z)(e)).fill,r=e.align,a=e.sign,f=e.symbol,c=e.zero,v=e.width,x=e.comma,_=e.precision,w=e.trim,A=e.type;"n"===A?(x=!0,A="g"):u.Z[A]||(void 0===_&&(_=12),w=!0,A="g"),(c||"0"===i&&"="===r)&&(c=!0,i="0",r="=");var k="$"===f?n:"#"===f&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",O="$"===f?h:/[%p]/.test(A)?g:"",D=u.Z[A],E=/[defgprs%]/.test(A);function F(e){var n,o,u,f=k,h=O;if("c"===A)h=D(e)+h,e="";else{var g=(e=+e)<0||1/e<0;if(e=isNaN(e)?b:D(Math.abs(e),_),w&&(e=(0,s.Z)(e)),g&&0==+e&&"+"!==a&&(g=!1),f=(g?"("===a?a:y:"-"===a||"("===a?"":a)+f,h=("s"===A?d[8+l.y/3]:"")+h+(g&&"("===a?")":""),E)for(n=-1,o=e.length;++n<o;)if(48>(u=e.charCodeAt(n))||u>57){h=(46===u?p+e.slice(n+1):e.slice(n))+h,e=e.slice(0,n);break}}x&&!c&&(e=t(e,1/0));var F=f.length+e.length+h.length,$=F<v?new Array(v-F+1).join(i):"";switch(x&&c&&(e=t($+e,$.length?v-h.length:1/0),$=""),r){case"<":e=f+e+h+$;break;case"=":e=f+$+e+h;break;case"^":e=$.slice(0,F=$.length>>1)+f+e+h+$.slice(F);break;default:e=$+f+e+h}return m(e)}return _=void 0===_?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),F.toString=function(){return e+""},F}return{format:v,formatPrefix:function(e,t){var n=v(((e=(0,o.Z)(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor((0,i.Z)(t)/3))),a=Math.pow(10,-r),s=d[8+r/3];return function(e){return n(a*e)+s}}}}},26067:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(88642);function r(e){return Math.max(0,-(0,i.Z)(Math.abs(e)))}},50371:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(88642);function r(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor((0,i.Z)(t)/3)))-(0,i.Z)(Math.abs(e)))}},91072:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(88642);function r(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,(0,i.Z)(t)-(0,i.Z)(e))+1}},72358:(e,t,n)=>{"use strict";n.d(t,{L9:()=>d,gL:()=>p,ZP:()=>v});var i,r,a,o,s,u=n(43004),l=n(84376),f=n(5134),c=n(39310),d=new u.dU,h=new u.dU,p={point:f.Z,lineStart:f.Z,lineEnd:f.Z,polygonStart:function(){d=new u.dU,p.lineStart=m,p.lineEnd=g},polygonEnd:function(){var e=+d;h.add(e<0?l.BZ+e:e),this.lineStart=this.lineEnd=this.point=f.Z},sphere:function(){h.add(l.BZ)}};function m(){p.point=y}function g(){b(i,r)}function y(e,t){p.point=b,i=e,r=t,e*=l.uR,t*=l.uR,a=e,o=(0,l.mC)(t=t/2+l.pu),s=(0,l.O$)(t)}function b(e,t){e*=l.uR,t=(t*=l.uR)/2+l.pu;var n=e-a,i=n>=0?1:-1,r=i*n,u=(0,l.mC)(t),f=(0,l.O$)(t),c=s*f,h=o*u+c*(0,l.mC)(r),p=c*i*(0,l.O$)(r);d.add((0,l.fv)(p,h)),a=e,o=u,s=f}function v(e){return h=new u.dU,(0,c.Z)(e,p),2*h}},54820:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var i,r,a,o,s,u,l,f,c,d,h,p=n(43004),m=n(72358),g=n(78114),y=n(84376),b=n(39310),v={point:x,lineStart:w,lineEnd:A,polygonStart:function(){v.point=k,v.lineStart=O,v.lineEnd=D,c=new p.dU,m.gL.polygonStart()},polygonEnd:function(){m.gL.polygonEnd(),v.point=x,v.lineStart=w,v.lineEnd=A,m.L9<0?(i=-(a=180),r=-(o=90)):c>y.Ho?o=90:c<-y.Ho&&(r=-90),h[0]=i,h[1]=a},sphere:function(){i=-(a=180),r=-(o=90)}};function x(e,t){d.push(h=[i=e,a=e]),t<r&&(r=t),t>o&&(o=t)}function _(e,t){var n=(0,g.Og)([e*y.uR,t*y.uR]);if(f){var u=(0,g.T5)(f,n),l=[u[1],-u[0],0],c=(0,g.T5)(l,u);(0,g.iJ)(c),c=(0,g.Y1)(c);var p,m=e-s,b=m>0?1:-1,v=c[0]*y.RW*b,x=(0,y.Wn)(m)>180;x^(b*s<v&&v<b*e)?(p=c[1]*y.RW)>o&&(o=p):x^(b*s<(v=(v+360)%360-180)&&v<b*e)?(p=-c[1]*y.RW)<r&&(r=p):(t<r&&(r=t),t>o&&(o=t)),x?e<s?E(i,e)>E(i,a)&&(a=e):E(e,a)>E(i,a)&&(i=e):a>=i?(e<i&&(i=e),e>a&&(a=e)):e>s?E(i,e)>E(i,a)&&(a=e):E(e,a)>E(i,a)&&(i=e)}else d.push(h=[i=e,a=e]);t<r&&(r=t),t>o&&(o=t),f=n,s=e}function w(){v.point=_}function A(){h[0]=i,h[1]=a,v.point=x,f=null}function k(e,t){if(f){var n=e-s;c.add((0,y.Wn)(n)>180?n+(n>0?360:-360):n)}else u=e,l=t;m.gL.point(e,t),_(e,t)}function O(){m.gL.lineStart()}function D(){k(u,l),m.gL.lineEnd(),(0,y.Wn)(c)>y.Ho&&(i=-(a=180)),h[0]=i,h[1]=a,f=null}function E(e,t){return(t-=e)<0?t+360:t}function F(e,t){return e[0]-t[0]}function $(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function C(e){var t,n,s,u,l,f,c;if(o=a=-(i=r=1/0),d=[],(0,b.Z)(e,v),n=d.length){for(d.sort(F),t=1,l=[s=d[0]];t<n;++t)$(s,(u=d[t])[0])||$(s,u[1])?(E(s[0],u[1])>E(s[0],s[1])&&(s[1]=u[1]),E(u[0],s[1])>E(s[0],s[1])&&(s[0]=u[0])):l.push(s=u);for(f=-1/0,t=0,s=l[n=l.length-1];t<=n;s=u,++t)u=l[t],(c=E(s[1],u[0]))>f&&(f=c,i=u[0],a=s[1])}return d=h=null,i===1/0||r===1/0?[[NaN,NaN],[NaN,NaN]]:[[i,r],[a,o]]}},78114:(e,t,n)=>{"use strict";n.d(t,{Y1:()=>r,Og:()=>a,T5:()=>o,iJ:()=>s});var i=n(84376);function r(e){return[(0,i.fv)(e[1],e[0]),(0,i.ZR)(e[2])]}function a(e){var t=e[0],n=e[1],r=(0,i.mC)(n);return[r*(0,i.mC)(t),r*(0,i.O$)(t),(0,i.O$)(n)]}function o(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function s(e){var t=(0,i._b)(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}},42487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var i,r,a,o,s,u,l,f,c,d,h,p,m,g,y,b,v=n(43004),x=n(84376),_=n(5134),w=n(39310),A={sphere:_.Z,point:k,lineStart:D,lineEnd:$,polygonStart:function(){A.lineStart=C,A.lineEnd=M},polygonEnd:function(){A.lineStart=D,A.lineEnd=$}};function k(e,t){e*=x.uR,t*=x.uR;var n=(0,x.mC)(t);O(n*(0,x.mC)(e),n*(0,x.O$)(e),(0,x.O$)(t))}function O(e,t,n){++i,a+=(e-a)/i,o+=(t-o)/i,s+=(n-s)/i}function D(){A.point=E}function E(e,t){e*=x.uR,t*=x.uR;var n=(0,x.mC)(t);g=n*(0,x.mC)(e),y=n*(0,x.O$)(e),b=(0,x.O$)(t),A.point=F,O(g,y,b)}function F(e,t){e*=x.uR,t*=x.uR;var n=(0,x.mC)(t),i=n*(0,x.mC)(e),a=n*(0,x.O$)(e),o=(0,x.O$)(t),s=(0,x.fv)((0,x._b)((s=y*o-b*a)*s+(s=b*i-g*o)*s+(s=g*a-y*i)*s),g*i+y*a+b*o);r+=s,u+=s*(g+(g=i)),l+=s*(y+(y=a)),f+=s*(b+(b=o)),O(g,y,b)}function $(){A.point=k}function C(){A.point=R}function M(){S(p,m),A.point=k}function R(e,t){p=e,m=t,e*=x.uR,t*=x.uR,A.point=S;var n=(0,x.mC)(t);g=n*(0,x.mC)(e),y=n*(0,x.O$)(e),b=(0,x.O$)(t),O(g,y,b)}function S(e,t){e*=x.uR,t*=x.uR;var n=(0,x.mC)(t),i=n*(0,x.mC)(e),a=n*(0,x.O$)(e),o=(0,x.O$)(t),s=y*o-b*a,p=b*i-g*o,m=g*a-y*i,v=(0,x._m)(s,p,m),_=(0,x.ZR)(v),w=v&&-_/v;c.add(w*s),d.add(w*p),h.add(w*m),r+=_,u+=_*(g+(g=i)),l+=_*(y+(y=a)),f+=_*(b+(b=o)),O(g,y,b)}function B(e){i=r=a=o=s=u=l=f=0,c=new v.dU,d=new v.dU,h=new v.dU,(0,w.Z)(e,A);var t=+c,n=+d,p=+h,m=(0,x._m)(t,n,p);return m<x.aW&&(t=u,n=l,p=f,r<x.Ho&&(t=a,n=o,p=s),(m=(0,x._m)(t,n,p))<x.aW)?[NaN,NaN]:[(0,x.fv)(n,t)*x.RW,(0,x.ZR)(p/m)*x.RW]}},84376:(e,t,n)=>{"use strict";n.d(t,{Ho:()=>i,aW:()=>r,pu:()=>s,BZ:()=>u,RW:()=>l,uR:()=>f,Wn:()=>c,fv:()=>d,mC:()=>h,_m:()=>p,O$:()=>m,_b:()=>g,ZR:()=>y});var i=1e-6,r=1e-12,a=Math.PI,o=a/2,s=a/4,u=2*a,l=180/a,f=a/180,c=Math.abs,d=(Math.atan,Math.atan2),h=Math.cos,p=(Math.ceil,Math.exp,Math.floor,Math.hypot),m=(Math.log,Math.pow,Math.sin),g=(Math.sign,Math.sqrt);function y(e){return e>1?o:e<-1?-o:Math.asin(e)}Math.tan},5134:(e,t,n)=>{"use strict";function i(){}n.d(t,{Z:()=>i})},39310:(e,t,n)=>{"use strict";function i(e,t){e&&a.hasOwnProperty(e.type)&&a[e.type](e,t)}n.d(t,{Z:()=>u});var r={Feature:function(e,t){i(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)i(n[r].geometry,t)}},a={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){o(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)o(n[i],t,0)},Polygon:function(e,t){s(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)s(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)i(n[r],t)}};function o(e,t,n){var i,r=-1,a=e.length-n;for(t.lineStart();++r<a;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function s(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)o(e[n],t,1);t.polygonEnd()}function u(e,t){e&&r.hasOwnProperty(e.type)?r[e.type](e,t):i(e,t)}},97988:(e,t,n)=>{"use strict";function i(e){var t=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),r=e[i],a=e[i+1],o=i>0?e[i-1]:2*r-a,s=i<t-1?e[i+2]:2*a-r;return function(e,t,n,i,r){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*i+o*r)/6}((n-i/t)*t,o,r,a,s)}}n.d(t,{Z:()=>i})},43485:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=Math.PI,r=2*i,a=1e-6,o=r-a;function s(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function u(){return new s}s.prototype=u.prototype={constructor:s,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var s=this._x1,u=this._y1,l=n-e,f=r-t,c=s-e,d=u-t,h=c*c+d*d;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>a)if(Math.abs(d*l-f*c)>a&&o){var p=n-s,m=r-u,g=l*l+f*f,y=p*p+m*m,b=Math.sqrt(g),v=Math.sqrt(h),x=o*Math.tan((i-Math.acos((g+h-y)/(2*b*v)))/2),_=x/v,w=x/b;Math.abs(_-1)>a&&(this._+="L"+(e+_*c)+","+(t+_*d)),this._+="A"+o+","+o+",0,0,"+ +(d*p>c*m)+","+(this._x1=e+w*l)+","+(this._y1=t+w*f)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,s,u,l){e=+e,t=+t,l=!!l;var f=(n=+n)*Math.cos(s),c=n*Math.sin(s),d=e+f,h=t+c,p=1^l,m=l?s-u:u-s;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+d+","+h:(Math.abs(this._x1-d)>a||Math.abs(this._y1-h)>a)&&(this._+="L"+d+","+h),n&&(m<0&&(m=m%r+r),m>o?this._+="A"+n+","+n+",0,1,"+p+","+(e-f)+","+(t-c)+"A"+n+","+n+",0,1,"+p+","+(this._x1=d)+","+(this._y1=h):m>a&&(this._+="A"+n+","+n+",0,"+ +(m>=i)+","+p+","+(this._x1=e+n*Math.cos(u))+","+(this._y1=t+n*Math.sin(u))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};const l=u},32977:(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.d(t,{Z:()=>i})},3121:(e,t,n)=>{"use strict";function i(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function r(e){this._context=e}function a(e){return new r(e)}n.d(t,{ZP:()=>a}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},90340:(e,t,n)=>{"use strict";function i(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function r(e,t){this._context=e,this._k=(1-t)/6}n.d(t,{pC:()=>r}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:i(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:i(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}},function e(t){function n(e){return new r(e,t)}return n.tension=function(t){return e(+t)},n}(0)},53979:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(28761),r=n(90340);function a(e,t){this._context=e,this._alpha=t}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:!function(e,t,n){var r=e._x1,a=e._y1,o=e._x2,s=e._y2;if(e._l01_a>i.Ho){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>i.Ho){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*f+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*f+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,a,o,s,e._x2,e._y2)}(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const o=function e(t){function n(e){return t?new a(e,t):new r.pC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},64366:(e,t,n)=>{"use strict";function i(e){this._context=e}function r(e){return new i(e)}n.d(t,{Z:()=>r}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},55239:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(43485),r=n(32977),a=n(64366),o=n(58561);function s(){var e=o.x,t=o.y,n=(0,r.Z)(!0),s=null,u=a.Z,l=null;function f(r){var a,o,f,c=r.length,d=!1;for(null==s&&(l=u(f=(0,i.Z)())),a=0;a<=c;++a)!(a<c&&n(o=r[a],a,r))===d&&((d=!d)?l.lineStart():l.lineEnd()),d&&l.point(+e(o,a,r),+t(o,a,r));if(f)return l=null,f+""||null}return f.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.Z)(+t),f):e},f.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.Z)(+e),f):t},f.defined=function(e){return arguments.length?(n="function"==typeof e?e:(0,r.Z)(!!e),f):n},f.curve=function(e){return arguments.length?(u=e,null!=s&&(l=u(s)),f):u},f.context=function(e){return arguments.length?(null==e?s=l=null:l=u(s=e),f):s},f}},28761:(e,t,n)=>{"use strict";n.d(t,{Ho:()=>i}),Math.abs,Math.atan2,Math.cos,Math.max,Math.min,Math.sin,Math.sqrt;var i=1e-12;Math.PI},58561:(e,t,n)=>{"use strict";function i(e){return e[0]}function r(e){return e[1]}n.d(t,{x:()=>i,y:()=>r})},34254:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(77889),r=n(53979);function a(e){return(0,i.Z)(e,r.Z)}},77889:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(55239),r=n(3121),a=n(82118),o=n(97988);function s(e,t,n=1e-5,s=100){const u=e.length,l=(0,a.Z)(u).map((function(e,t){return t*(1/(u-1))})),f=e.map(((e,t)=>[l[t],e]));return t===r.ZP?(0,o.Z)(e):function(e,t,n,r){return function(e,t,n){e=e||"M0,0L1,1";const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.innerHTML="<path></path>";const r=i.querySelector("path");r.setAttribute("d",e);const a=r.getTotalLength(),o=r.getPointAtLength(0),s=r.getPointAtLength(a);let u=s.x<o.x;const l=u?[s,o]:[o,s];return u=u?-1:1,function(e){const i=0===e?0:e||o.x;if(i<l[0].x)return l[0];if(i>l[1].x)return l[1];const s=function(e,a,o){let s=r.getPointAtLength(e).x-i,l=0,f=0;for(;Math.abs(s)>t&&f<n;){if(f>n)return!1;f++,u*s<0?(a=e,e=(e+o)/2):(o=e,e=(a+e)/2),l=r.getPointAtLength(e).x-i,s=l}return e}(a/2,0,a);return r.getPointAtLength(s).y}}((0,i.Z)().curve(t)(e),n,r)}(f,t,n,s)}},89613:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,M:()=>o});var i=n(95654),r=n(96981);function a(e,t){return((0,r.v)(t)?r.Z:o)(e,t)}function o(e,t){var n,r=t?t.length:0,a=e?Math.min(r,e.length):0,o=new Array(a),s=new Array(r);for(n=0;n<a;++n)o[n]=(0,i.Z)(e[n],t[n]);for(;n<r;++n)s[n]=t[n];return function(e){for(n=0;n<a;++n)s[n]=o[n](e);return s}}},35929:(e,t,n)=>{"use strict";function i(e,t,n,i,r){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*i+o*r)/6}function r(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],o=e[r+1],s=r>0?e[r-1]:2*a-o,u=r<t-1?e[r+2]:2*o-a;return i((n-r/t)*t,s,a,o,u)}}n.d(t,{t:()=>i,Z:()=>r})},39763:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(35929);function r(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],u=e[(r+2)%t];return(0,i.t)((n-r/t)*t,a,o,s,u)}}},10945:(e,t,n)=>{"use strict";n.d(t,{wx:()=>a,yi:()=>o,ZP:()=>s});var i=n(56173);function r(e,t){return function(n){return e+n*t}}function a(e,t){var n=t-e;return n?r(e,n>180||n<-180?n-360*Math.round(n/360):n):(0,i.Z)(isNaN(e)?t:e)}function o(e){return 1==(e=+e)?s:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}(t,n,e):(0,i.Z)(isNaN(t)?n:t)}}function s(e,t){var n=t-e;return n?r(e,n):(0,i.Z)(isNaN(e)?t:e)}},56173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=e=>()=>e},69031:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,B:()=>s});var i=n(72187),r=n(10945);function a(e){return function t(n){function a(t,a){var o=e((t=(0,i.Z)(t)).h,(a=(0,i.Z)(a)).h),s=(0,r.ZP)(t.s,a.s),u=(0,r.ZP)(t.l,a.l),l=(0,r.ZP)(t.opacity,a.opacity);return function(e){return t.h=o(e),t.s=s(e),t.l=u(Math.pow(e,n)),t.opacity=l(e),t+""}}return n=+n,a.gamma=t,a}(1)}const o=a(r.wx);var s=a(r.ZP)},56602:(e,t,n)=>{"use strict";function i(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}n.d(t,{Z:()=>i})},71353:(e,t,n)=>{"use strict";function i(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}n.d(t,{Z:()=>i})},35529:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,b:()=>s});var i=n(46401),r=n(10945);function a(e){return function(t,n){var a=e((t=(0,i.Uc)(t)).h,(n=(0,i.Uc)(n)).h),o=(0,r.ZP)(t.c,n.c),s=(0,r.ZP)(t.l,n.l),u=(0,r.ZP)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.c=o(e),t.l=s(e),t.opacity=u(e),t+""}}}const o=a(r.wx);var s=a(r.ZP)},8202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,q:()=>s});var i=n(45104),r=n(10945);function a(e){return function(t,n){var a=e((t=(0,i.Ym)(t)).h,(n=(0,i.Ym)(n)).h),o=(0,r.ZP)(t.s,n.s),s=(0,r.ZP)(t.l,n.l),u=(0,r.ZP)(t.opacity,n.opacity);return function(e){return t.h=a(e),t.s=o(e),t.l=s(e),t.opacity=u(e),t+""}}}const o=a(r.wx);var s=a(r.ZP)},87793:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(10945);function r(e,t){var n=(0,i.wx)(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}},61813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{interpolate:()=>i.Z,interpolateArray:()=>r.Z,interpolateBasis:()=>a.Z,interpolateBasisClosed:()=>o.Z,interpolateDate:()=>s.Z,interpolateDiscrete:()=>u.Z,interpolateHue:()=>l.Z,interpolateNumber:()=>f.Z,interpolateNumberArray:()=>c.Z,interpolateObject:()=>d.Z,interpolateRound:()=>h.Z,interpolateString:()=>p.Z,interpolateTransformCss:()=>m.Y,interpolateTransformSvg:()=>m.w,interpolateZoom:()=>g.Z,interpolateRgb:()=>y.ZP,interpolateRgbBasis:()=>y.hD,interpolateRgbBasisClosed:()=>y.YD,interpolateHsl:()=>b.Z,interpolateHslLong:()=>b.q,interpolateLab:()=>v.Z,interpolateHcl:()=>x.Z,interpolateHclLong:()=>x.b,interpolateCubehelix:()=>_.Z,interpolateCubehelixLong:()=>_.B,piecewise:()=>w.Z,quantize:()=>A.Z});var i=n(95654),r=n(89613),a=n(35929),o=n(39763),s=n(56602),u=n(71353),l=n(87793),f=n(22458),c=n(96981),d=n(4329),h=n(92267),p=n(70030),m=n(81520),g=n(28207),y=n(75722),b=n(8202),v=n(40568),x=n(35529),_=n(69031),w=n(90518),A=n(2357)},40568:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(46401),r=n(10945);function a(e,t){var n=(0,r.ZP)((e=(0,i.ZP)(e)).l,(t=(0,i.ZP)(t)).l),a=(0,r.ZP)(e.a,t.a),o=(0,r.ZP)(e.b,t.b),s=(0,r.ZP)(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=a(t),e.b=o(t),e.opacity=s(t),e+""}}},22458:(e,t,n)=>{"use strict";function i(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{Z:()=>i})},96981:(e,t,n)=>{"use strict";function i(e,t){t||(t=[]);var n,i=e?Math.min(t.length,e.length):0,r=t.slice();return function(a){for(n=0;n<i;++n)r[n]=e[n]*(1-a)+t[n]*a;return r}}function r(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}n.d(t,{Z:()=>i,v:()=>r})},4329:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(95654);function r(e,t){var n,r={},a={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=(0,i.Z)(e[n],t[n]):a[n]=t[n];return function(e){for(n in r)a[n]=r[n](e);return a}}},90518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(95654);function r(e,t){void 0===t&&(t=e,e=i.Z);for(var n=0,r=t.length-1,a=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(a,a=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}},2357:(e,t,n)=>{"use strict";function i(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e(i/(t-1));return n}n.d(t,{Z:()=>i})},75722:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s,hD:()=>l,YD:()=>f});var i=n(45104),r=n(35929),a=n(39763),o=n(10945);const s=function e(t){var n=(0,o.yi)(t);function r(e,t){var r=n((e=(0,i.B8)(e)).r,(t=(0,i.B8)(t)).r),a=n(e.g,t.g),s=n(e.b,t.b),u=(0,o.ZP)(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=a(t),e.b=s(t),e.opacity=u(t),e+""}}return r.gamma=e,r}(1);function u(e){return function(t){var n,r,a=t.length,o=new Array(a),s=new Array(a),u=new Array(a);for(n=0;n<a;++n)r=(0,i.B8)(t[n]),o[n]=r.r||0,s[n]=r.g||0,u[n]=r.b||0;return o=e(o),s=e(s),u=e(u),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=u(e),r+""}}}var l=u(r.Z),f=u(a.Z)},92267:(e,t,n)=>{"use strict";function i(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}n.d(t,{Z:()=>i})},70030:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(22458),r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,a=new RegExp(r.source,"g");function o(e,t){var n,o,s,u=r.lastIndex=a.lastIndex=0,l=-1,f=[],c=[];for(e+="",t+="";(n=r.exec(e))&&(o=a.exec(t));)(s=o.index)>u&&(s=t.slice(u,s),f[l]?f[l]+=s:f[++l]=s),(n=n[0])===(o=o[0])?f[l]?f[l]+=o:f[++l]=o:(f[++l]=null,c.push({i:l,x:(0,i.Z)(n,o)})),u=a.lastIndex;return u<t.length&&(s=t.slice(u),f[l]?f[l]+=s:f[++l]=s),f.length<2?c[0]?function(e){return function(t){return e(t)+""}}(c[0].x):function(e){return function(){return e}}(t):(t=c.length,function(e){for(var n,i=0;i<t;++i)f[(n=c[i]).i]=n.x(e);return f.join("")})}},1171:(e,t,n)=>{"use strict";n.d(t,{y:()=>r,Z:()=>a});var i=180/Math.PI,r={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function a(e,t,n,r,a,o){var s,u,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,l/=u),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:a,translateY:o,rotate:Math.atan2(t,e)*i,skewX:Math.atan(l)*i,scaleX:s,scaleY:u}}},81520:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o,w:()=>s});var i=n(22458),r=n(67524);function a(e,t,n,r){function a(e){return e.length?e.pop()+" ":""}return function(o,s){var u=[],l=[];return o=e(o),s=e(s),function(e,r,a,o,s,u){if(e!==a||r!==o){var l=s.push("translate(",null,t,null,n);u.push({i:l-4,x:(0,i.Z)(e,a)},{i:l-2,x:(0,i.Z)(r,o)})}else(a||o)&&s.push("translate("+a+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,u,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(a(n)+"rotate(",null,r)-2,x:(0,i.Z)(e,t)})):t&&n.push(a(n)+"rotate("+t+r)}(o.rotate,s.rotate,u,l),function(e,t,n,o){e!==t?o.push({i:n.push(a(n)+"skewX(",null,r)-2,x:(0,i.Z)(e,t)}):t&&n.push(a(n)+"skewX("+t+r)}(o.skewX,s.skewX,u,l),function(e,t,n,r,o,s){if(e!==n||t!==r){var u=o.push(a(o)+"scale(",null,",",null,")");s.push({i:u-4,x:(0,i.Z)(e,n)},{i:u-2,x:(0,i.Z)(t,r)})}else 1===n&&1===r||o.push(a(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,u,l),o=s=null,function(e){for(var t,n=-1,i=l.length;++n<i;)u[(t=l[n]).i]=t.x(e);return u.join("")}}}var o=a(r.z,"px, ","px)","deg)"),s=a(r.X,", ",")",")")},67524:(e,t,n)=>{"use strict";n.d(t,{z:()=>a,X:()=>o});var i,r=n(1171);function a(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?r.y:(0,r.Z)(t.a,t.b,t.c,t.d,t.e,t.f)}function o(e){return null==e?r.y:(i||(i=document.createElementNS("http://www.w3.org/2000/svg","g")),i.setAttribute("transform",e),(e=i.transform.baseVal.consolidate())?(e=e.matrix,(0,r.Z)(e.a,e.b,e.c,e.d,e.e,e.f)):r.y)}},95654:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(45104),r=n(75722),a=n(89613),o=n(56602),s=n(22458),u=n(4329),l=n(70030),f=n(56173),c=n(96981);function d(e,t){var n,d=typeof t;return null==t||"boolean"===d?(0,f.Z)(t):("number"===d?s.Z:"string"===d?(n=(0,i.ZP)(t))?(t=n,r.ZP):l.Z:t instanceof i.ZP?r.ZP:t instanceof Date?o.Z:(0,c.v)(t)?c.Z:Array.isArray(t)?a.M:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?u.Z:s.Z)(e,t)}},28207:(e,t,n)=>{"use strict";function i(e){return((e=Math.exp(e))+1/e)/2}n.d(t,{Z:()=>r});const r=function e(t,n,r){function a(e,a){var o,s,u=e[0],l=e[1],f=e[2],c=a[0],d=a[1],h=a[2],p=c-u,m=d-l,g=p*p+m*m;if(g<1e-12)s=Math.log(h/f)/t,o=function(e){return[u+e*p,l+e*m,f*Math.exp(t*e*s)]};else{var y=Math.sqrt(g),b=(h*h-f*f+r*g)/(2*f*n*y),v=(h*h-f*f-r*g)/(2*h*n*y),x=Math.log(Math.sqrt(b*b+1)-b),_=Math.log(Math.sqrt(v*v+1)-v);s=(_-x)/t,o=function(e){var r,a=e*s,o=i(x),c=f/(n*y)*(o*(r=t*a+x,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(x));return[u+c*p,l+c*m,f*o/i(t*a+x)]}}return o.duration=1e3*s*t/Math.SQRT2,o}return a.rho=function(t){var n=Math.max(.001,+t),i=n*n;return e(n,i,i*i)},a}(Math.SQRT2,2,4)},95254:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});const i=Math.PI,r=2*i,a=1e-6,o=r-a;function s(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function u(){return new s}s.prototype=u.prototype={constructor:s,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,i){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(e,t,n,i,r,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+a)},arcTo:function(e,t,n,r,o){e=+e,t=+t,n=+n,r=+r,o=+o;var s=this._x1,u=this._y1,l=n-e,f=r-t,c=s-e,d=u-t,h=c*c+d*d;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(h>a)if(Math.abs(d*l-f*c)>a&&o){var p=n-s,m=r-u,g=l*l+f*f,y=p*p+m*m,b=Math.sqrt(g),v=Math.sqrt(h),x=o*Math.tan((i-Math.acos((g+h-y)/(2*b*v)))/2),_=x/v,w=x/b;Math.abs(_-1)>a&&(this._+="L"+(e+_*c)+","+(t+_*d)),this._+="A"+o+","+o+",0,0,"+ +(d*p>c*m)+","+(this._x1=e+w*l)+","+(this._y1=t+w*f)}else this._+="L"+(this._x1=e)+","+(this._y1=t)},arc:function(e,t,n,s,u,l){e=+e,t=+t,l=!!l;var f=(n=+n)*Math.cos(s),c=n*Math.sin(s),d=e+f,h=t+c,p=1^l,m=l?s-u:u-s;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+d+","+h:(Math.abs(this._x1-d)>a||Math.abs(this._y1-h)>a)&&(this._+="L"+d+","+h),n&&(m<0&&(m=m%r+r),m>o?this._+="A"+n+","+n+",0,1,"+p+","+(e-f)+","+(t-c)+"A"+n+","+n+",0,1,"+p+","+(this._x1=d)+","+(this._y1=h):m>a&&(this._+="A"+n+","+n+",0,"+ +(m>=i)+","+p+","+(this._x1=e+n*Math.cos(u))+","+(this._y1=t+n*Math.sin(u))))},rect:function(e,t,n,i){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};const l=u},33539:(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.d(t,{Z:()=>i})},4701:(e,t,n)=>{"use strict";n.d(t,{yR:()=>f,JG:()=>p,l4:()=>m,ZP:()=>g});var i=n(27639),r=n(95654),a=n(22458),o=n(92267),s=n(33539),u=n(76760),l=[0,1];function f(e){return e}function c(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(0,s.Z)(isNaN(t)?NaN:.5)}function d(e,t,n){var i=e[0],r=e[1],a=t[0],o=t[1];return r<i?(i=c(r,i),a=n(o,a)):(i=c(i,r),a=n(a,o)),function(e){return a(i(e))}}function h(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)a[s]=c(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(t){var n=(0,i.ZP)(e,t,1,r)-1;return o[n](a[n](t))}}function p(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function m(){var e,t,n,i,s,c,p=l,m=l,g=r.Z,y=f;function b(){var e,t,n,r=Math.min(p.length,m.length);return y!==f&&(e=p[0],t=p[r-1],e>t&&(n=e,e=t,t=n),y=function(n){return Math.max(e,Math.min(t,n))}),i=r>2?h:d,s=c=null,v}function v(t){return null==t||isNaN(t=+t)?n:(s||(s=i(p.map(e),m,g)))(e(y(t)))}return v.invert=function(n){return y(t((c||(c=i(m,p.map(e),a.Z)))(n)))},v.domain=function(e){return arguments.length?(p=Array.from(e,u.Z),b()):p.slice()},v.range=function(e){return arguments.length?(m=Array.from(e),b()):m.slice()},v.rangeRound=function(e){return m=Array.from(e),g=o.Z,b()},v.clamp=function(e){return arguments.length?(y=!!e||f,b()):y!==f},v.interpolate=function(e){return arguments.length?(g=e,b()):g},v.unknown=function(e){return arguments.length?(n=e,v):n},function(n,i){return e=n,t=i,b()}}function g(){return m()(f,f)}},94246:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p,QA:()=>m,UM:()=>g,ld:()=>y,Km:()=>b});var i=n(90518),r=n(95654),a=n(92267),o=n(4701),s=n(35769),u=n(40917),l=n(2468),f=n(71022),c=n(15012),d=n(2587);function h(){var e,t,n,s,u,l,f,c=0,d=.5,h=1,p=1,m=o.yR,g=!1;function y(e){return isNaN(e=+e)?f:(e=.5+((e=+l(e))-t)*(p*e<p*t?s:u),m(g?Math.max(0,Math.min(1,e)):e))}function b(e){return function(t){var n,r,a;return arguments.length?([n,r,a]=t,m=(0,i.Z)(e,[n,r,a]),y):[m(0),m(.5),m(1)]}}return y.domain=function(i){return arguments.length?([c,d,h]=i,e=l(c=+c),t=l(d=+d),n=l(h=+h),s=e===t?0:.5/(t-e),u=t===n?0:.5/(n-t),p=t<e?-1:1,y):[c,d,h]},y.clamp=function(e){return arguments.length?(g=!!e,y):g},y.interpolator=function(e){return arguments.length?(m=e,y):m},y.range=b(r.Z),y.rangeRound=b(a.Z),y.unknown=function(e){return arguments.length?(f=e,y):f},function(i){return l=i,e=i(c),t=i(d),n=i(h),s=e===t?0:.5/(t-e),u=t===n?0:.5/(n-t),p=t<e?-1:1,y}}function p(){var e=(0,u.Q)(h()(o.yR));return e.copy=function(){return(0,f.JG)(e,p())},s.O.apply(e,arguments)}function m(){var e=(0,l.Q)(h()).domain([.1,1,10]);return e.copy=function(){return(0,f.JG)(e,m()).base(e.base())},s.O.apply(e,arguments)}function g(){var e=(0,c.P)(h());return e.copy=function(){return(0,f.JG)(e,g()).constant(e.constant())},s.O.apply(e,arguments)}function y(){var e=(0,d.Hh)(h());return e.copy=function(){return(0,f.JG)(e,y()).exponent(e.exponent())},s.O.apply(e,arguments)}function b(){return y.apply(null,arguments).exponent(.5)}},49533:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(40917),r=n(76760);function a(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,r.Z),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return a(e).unknown(t)},e=arguments.length?Array.from(e,r.Z):[0,1],(0,i.Q)(n)}},35769:(e,t,n)=>{"use strict";function i(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function r(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}n.d(t,{o:()=>i,O:()=>r})},40917:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s,Z:()=>u});var i=n(27109),r=n(4701),a=n(35769),o=n(55740);function s(e){var t=e.domain;return e.ticks=function(e){var n=t();return(0,i.ZP)(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var i=t();return(0,o.Z)(i[0],i[i.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,a,o=t(),s=0,u=o.length-1,l=o[s],f=o[u],c=10;for(f<l&&(a=l,l=f,f=a,a=s,s=u,u=a);c-- >0;){if((a=(0,i.G9)(l,f,n))===r)return o[s]=l,o[u]=f,t(o);if(a>0)l=Math.floor(l/a)*a,f=Math.ceil(f/a)*a;else{if(!(a<0))break;l=Math.ceil(l*a)/a,f=Math.floor(f*a)/a}r=a}return e},e}function u(){var e=(0,r.ZP)();return e.copy=function(){return(0,r.JG)(e,u())},a.o.apply(e,arguments),s(e)}},2468:(e,t,n)=>{"use strict";n.d(t,{Q:()=>p,Z:()=>m});var i=n(27109),r=n(46376),a=n(23822),o=n(4701),s=n(35769);function u(e){return Math.log(e)}function l(e){return Math.exp(e)}function f(e){return-Math.log(-e)}function c(e){return-Math.exp(-e)}function d(e){return isFinite(e)?+("1e"+e):e<0?0:e}function h(e){return function(t){return-e(-t)}}function p(e){var t,n,o=e(u,l),s=o.domain,p=10;function m(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(p),n=function(e){return 10===e?d:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(p),s()[0]<0?(t=h(t),n=h(n),e(f,c)):e(u,l),o}return o.base=function(e){return arguments.length?(p=+e,m()):p},o.domain=function(e){return arguments.length?(s(e),m()):s()},o.ticks=function(e){var r,a=s(),o=a[0],u=a[a.length-1];(r=u<o)&&(d=o,o=u,u=d);var l,f,c,d=t(o),h=t(u),m=null==e?10:+e,g=[];if(!(p%1)&&h-d<m){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(f=1,l=n(d);f<p;++f)if(!((c=l*f)<o)){if(c>u)break;g.push(c)}}else for(;d<=h;++d)for(f=p-1,l=n(d);f>=1;--f)if(!((c=l*f)<o)){if(c>u)break;g.push(c)}2*g.length<m&&(g=(0,i.ZP)(o,u,m))}else g=(0,i.ZP)(d,h,Math.min(h-d,m)).map(n);return r?g.reverse():g},o.tickFormat=function(e,i){if(null==i&&(i=10===p?".0e":","),"function"!=typeof i&&(i=(0,r.WU)(i)),e===1/0)return i;null==e&&(e=10);var a=Math.max(1,p*e/o.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*p<p-.5&&(r*=p),r<=a?i(e):""}},o.nice=function(){return s((0,a.Z)(s(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},o}function m(){var e=p((0,o.l4)()).domain([1,10]);return e.copy=function(){return(0,o.JG)(e,m()).base(e.base())},s.o.apply(e,arguments),e}},23822:(e,t,n)=>{"use strict";function i(e,t){var n,i=0,r=(e=e.slice()).length-1,a=e[i],o=e[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),e[i]=t.floor(a),e[r]=t.ceil(o),e}n.d(t,{Z:()=>i})},76760:(e,t,n)=>{"use strict";function i(e){return+e}n.d(t,{Z:()=>i})},46208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(35769);const r=Symbol("implicit");function a(){var e=new Map,t=[],n=[],o=r;function s(i){var a=i+"",s=e.get(a);if(!s){if(o!==r)return o;e.set(a,s=t.push(i))}return n[(s-1)%n.length]}return s.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Map;for(const i of n){const n=i+"";e.has(n)||e.set(n,t.push(i))}return s},s.range=function(e){return arguments.length?(n=Array.from(e),s):n.slice()},s.unknown=function(e){return arguments.length?(o=e,s):o},s.copy=function(){return a(t,n).unknown(o)},i.o.apply(s,arguments),s}},2587:(e,t,n)=>{"use strict";n.d(t,{Hh:()=>l,ZP:()=>f,_b:()=>c});var i=n(40917),r=n(4701),a=n(35769);function o(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function s(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function u(e){return e<0?-e*e:e*e}function l(e){var t=e(r.yR,r.yR),n=1;function a(){return 1===n?e(r.yR,r.yR):.5===n?e(s,u):e(o(n),o(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,a()):n},(0,i.Q)(t)}function f(){var e=l((0,r.l4)());return e.copy=function(){return(0,r.JG)(e,f()).exponent(e.exponent())},a.o.apply(e,arguments),e}function c(){return f.apply(null,arguments).exponent(.5)}},95581:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(96913),r=n(27639),a=n(20202),o=n(35769);function s(){var e,t=[],n=[],u=[];function l(){var e=0,r=Math.max(1,n.length);for(u=new Array(r-1);++e<r;)u[e-1]=(0,i.s)(t,e/r);return f}function f(t){return null==t||isNaN(t=+t)?e:n[(0,r.ZP)(u,t)]}return f.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?u[i-1]:t[0],i<u.length?u[i]:t[t.length-1]]},f.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(a.Z),l()},f.range=function(e){return arguments.length?(n=Array.from(e),l()):n.slice()},f.unknown=function(t){return arguments.length?(e=t,f):e},f.quantiles=function(){return u.slice()},f.copy=function(){return s().domain(t).range(n).unknown(e)},o.o.apply(f,arguments)}},44353:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(27639),r=n(40917),a=n(35769);function o(){var e,t=0,n=1,s=1,u=[.5],l=[0,1];function f(t){return null!=t&&t<=t?l[(0,i.ZP)(u,t,0,s)]:e}function c(){var e=-1;for(u=new Array(s);++e<s;)u[e]=((e+1)*n-(e-s)*t)/(s+1);return f}return f.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,c()):[t,n]},f.range=function(e){return arguments.length?(s=(l=Array.from(e)).length-1,c()):l.slice()},f.invertExtent=function(e){var i=l.indexOf(e);return i<0?[NaN,NaN]:i<1?[t,u[0]]:i>=s?[u[s-1],n]:[u[i-1],u[i]]},f.unknown=function(t){return arguments.length?(e=t,f):f},f.thresholds=function(){return u.slice()},f.copy=function(){return o().domain([t,n]).range(l).unknown(e)},a.o.apply((0,r.Q)(f),arguments)}},71022:(e,t,n)=>{"use strict";n.d(t,{JG:()=>d,ZP:()=>h,S5:()=>p,cV:()=>m,UN:()=>g,L2:()=>y});var i=n(95654),r=n(92267),a=n(4701),o=n(35769),s=n(40917),u=n(2468),l=n(15012),f=n(2587);function c(){var e,t,n,o,s,u=0,l=1,f=a.yR,c=!1;function d(t){return null==t||isNaN(t=+t)?s:f(0===n?.5:(t=(o(t)-e)*n,c?Math.max(0,Math.min(1,t)):t))}function h(e){return function(t){var n,i;return arguments.length?([n,i]=t,f=e(n,i),d):[f(0),f(1)]}}return d.domain=function(i){return arguments.length?([u,l]=i,e=o(u=+u),t=o(l=+l),n=e===t?0:1/(t-e),d):[u,l]},d.clamp=function(e){return arguments.length?(c=!!e,d):c},d.interpolator=function(e){return arguments.length?(f=e,d):f},d.range=h(i.Z),d.rangeRound=h(r.Z),d.unknown=function(e){return arguments.length?(s=e,d):s},function(i){return o=i,e=i(u),t=i(l),n=e===t?0:1/(t-e),d}}function d(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function h(){var e=(0,s.Q)(c()(a.yR));return e.copy=function(){return d(e,h())},o.O.apply(e,arguments)}function p(){var e=(0,u.Q)(c()).domain([1,10]);return e.copy=function(){return d(e,p()).base(e.base())},o.O.apply(e,arguments)}function m(){var e=(0,l.P)(c());return e.copy=function(){return d(e,m()).constant(e.constant())},o.O.apply(e,arguments)}function g(){var e=(0,f.Hh)(c());return e.copy=function(){return d(e,g()).exponent(e.exponent())},o.O.apply(e,arguments)}function y(){return g.apply(null,arguments).exponent(.5)}},15012:(e,t,n)=>{"use strict";n.d(t,{P:()=>u,Z:()=>l});var i=n(40917),r=n(4701),a=n(35769);function o(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function s(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function u(e){var t=1,n=e(o(t),s(t));return n.constant=function(n){return arguments.length?e(o(t=+n),s(t)):t},(0,i.Q)(n)}function l(){var e=u((0,r.l4)());return e.copy=function(){return(0,r.JG)(e,l()).constant(e.constant())},a.o.apply(e,arguments)}},62313:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(27639),r=n(35769);function a(){var e,t=[.5],n=[0,1],o=1;function s(r){return null!=r&&r<=r?n[(0,i.ZP)(t,r,0,o)]:e}return s.domain=function(e){return arguments.length?(t=Array.from(e),o=Math.min(t.length,n.length-1),s):t.slice()},s.range=function(e){return arguments.length?(n=Array.from(e),o=Math.min(t.length,n.length-1),s):n.slice()},s.invertExtent=function(e){var i=n.indexOf(e);return[t[i-1],t[i]]},s.unknown=function(t){return arguments.length?(e=t,s):e},s.copy=function(){return a().domain(t).range(n).unknown(e)},r.o.apply(s,arguments)}},55740:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(27109),r=n(90127),a=n(50371),o=n(46376),s=n(91072),u=n(26067);function l(e,t,n,l){var f,c=(0,i.ly)(e,t,n);switch((l=(0,r.Z)(null==l?",f":l)).type){case"s":var d=Math.max(Math.abs(e),Math.abs(t));return null!=l.precision||isNaN(f=(0,a.Z)(c,d))||(l.precision=f),(0,o.jH)(l,d);case"":case"e":case"g":case"p":case"r":null!=l.precision||isNaN(f=(0,s.Z)(c,Math.max(Math.abs(e),Math.abs(t))))||(l.precision=f-("e"===l.type));break;case"f":case"%":null!=l.precision||isNaN(f=(0,u.Z)(c))||(l.precision=f-2*("%"===l.type))}return(0,o.WU)(l)}},17747:(e,t,n)=>{"use strict";n.d(t,{Y:()=>y,Z:()=>b});var i=n(51669),r=n(35042),a=n(13001),o=n(57971),s=n(91427),u=n(74636),l=n(69639),f=n(74437),c=n(69382),d=n(4701),h=n(35769),p=n(23822);function m(e){return new Date(e)}function g(e){return e instanceof Date?+e:+new Date(+e)}function y(e,t,n,i,r,a,o,s,u,l){var f=(0,d.ZP)(),c=f.invert,h=f.domain,b=l(".%L"),v=l(":%S"),x=l("%I:%M"),_=l("%I %p"),w=l("%a %d"),A=l("%b %d"),k=l("%B"),O=l("%Y");function D(e){return(u(e)<e?b:s(e)<e?v:o(e)<e?x:a(e)<e?_:i(e)<e?r(e)<e?w:A:n(e)<e?k:O)(e)}return f.invert=function(e){return new Date(c(e))},f.domain=function(e){return arguments.length?h(Array.from(e,g)):h().map(m)},f.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},f.tickFormat=function(e,t){return null==t?D:l(t)},f.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h((0,p.Z)(n,e)):f},f.copy=function(){return(0,d.JG)(f,y(e,t,n,i,r,a,o,s,u,l))},f}function b(){return h.o.apply(y(i.jK,i._g,r.Z,a.Z,o.OM,s.Z,u.Z,l.Z,f.Z,c.i$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}},4540:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(51669),r=n(52539),a=n(53621),o=n(26328),s=n(4518),u=n(20290),l=n(6731),f=n(74437),c=n(69382),d=n(17747),h=n(35769);function p(){return h.o.apply((0,d.Y)(i.WG,i.jo,r.Z,a.Z,o.Ox,s.Z,u.Z,l.Z,f.Z,c.g0).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}},74074:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(95254),r=n(53087),a=n(62575);function o(e){return e.innerRadius}function s(e){return e.outerRadius}function u(e){return e.startAngle}function l(e){return e.endAngle}function f(e){return e&&e.padAngle}function c(e,t,n,i,r,o,s,u){var l=n-e,f=i-t,c=s-r,d=u-o,h=d*l-c*f;if(!(h*h<a.Ho))return[e+(h=(c*(t-o)-d*(e-r))/h)*l,t+h*f]}function d(e,t,n,i,r,o,s){var u=e-n,l=t-i,f=(s?o:-o)/(0,a._b)(u*u+l*l),c=f*l,d=-f*u,h=e+c,p=t+d,m=n+c,g=i+d,y=(h+m)/2,b=(p+g)/2,v=m-h,x=g-p,_=v*v+x*x,w=r-o,A=h*g-m*p,k=(x<0?-1:1)*(0,a._b)((0,a.Fp)(0,w*w*_-A*A)),O=(A*x-v*k)/_,D=(-A*v-x*k)/_,E=(A*x+v*k)/_,F=(-A*v+x*k)/_,$=O-y,C=D-b,M=E-y,R=F-b;return $*$+C*C>M*M+R*R&&(O=E,D=F),{cx:O,cy:D,x01:-c,y01:-d,x11:O*(r/w-1),y11:D*(r/w-1)}}function h(){var e=o,t=s,n=(0,r.Z)(0),h=null,p=u,m=l,g=f,y=null;function b(){var r,o,s=+e.apply(this,arguments),u=+t.apply(this,arguments),l=p.apply(this,arguments)-a.ou,f=m.apply(this,arguments)-a.ou,b=(0,a.Wn)(f-l),v=f>l;if(y||(y=r=(0,i.Z)()),u<s&&(o=u,u=s,s=o),u>a.Ho)if(b>a.BZ-a.Ho)y.moveTo(u*(0,a.mC)(l),u*(0,a.O$)(l)),y.arc(0,0,u,l,f,!v),s>a.Ho&&(y.moveTo(s*(0,a.mC)(f),s*(0,a.O$)(f)),y.arc(0,0,s,f,l,v));else{var x,_,w=l,A=f,k=l,O=f,D=b,E=b,F=g.apply(this,arguments)/2,$=F>a.Ho&&(h?+h.apply(this,arguments):(0,a._b)(s*s+u*u)),C=(0,a.VV)((0,a.Wn)(u-s)/2,+n.apply(this,arguments)),M=C,R=C;if($>a.Ho){var S=(0,a.ZR)($/s*(0,a.O$)(F)),B=(0,a.ZR)($/u*(0,a.O$)(F));(D-=2*S)>a.Ho?(k+=S*=v?1:-1,O-=S):(D=0,k=O=(l+f)/2),(E-=2*B)>a.Ho?(w+=B*=v?1:-1,A-=B):(E=0,w=A=(l+f)/2)}var Z=u*(0,a.mC)(w),T=u*(0,a.O$)(w),P=s*(0,a.mC)(O),j=s*(0,a.O$)(O);if(C>a.Ho){var z,q=u*(0,a.mC)(A),N=u*(0,a.O$)(A),U=s*(0,a.mC)(k),L=s*(0,a.O$)(k);if(b<a.pi&&(z=c(Z,T,U,L,q,N,P,j))){var I=Z-z[0],W=T-z[1],X=q-z[0],V=N-z[1],H=1/(0,a.O$)((0,a.Kh)((I*X+W*V)/((0,a._b)(I*I+W*W)*(0,a._b)(X*X+V*V)))/2),J=(0,a._b)(z[0]*z[0]+z[1]*z[1]);M=(0,a.VV)(C,(s-J)/(H-1)),R=(0,a.VV)(C,(u-J)/(H+1))}}E>a.Ho?R>a.Ho?(x=d(U,L,Z,T,u,R,v),_=d(q,N,P,j,u,R,v),y.moveTo(x.cx+x.x01,x.cy+x.y01),R<C?y.arc(x.cx,x.cy,R,(0,a.fv)(x.y01,x.x01),(0,a.fv)(_.y01,_.x01),!v):(y.arc(x.cx,x.cy,R,(0,a.fv)(x.y01,x.x01),(0,a.fv)(x.y11,x.x11),!v),y.arc(0,0,u,(0,a.fv)(x.cy+x.y11,x.cx+x.x11),(0,a.fv)(_.cy+_.y11,_.cx+_.x11),!v),y.arc(_.cx,_.cy,R,(0,a.fv)(_.y11,_.x11),(0,a.fv)(_.y01,_.x01),!v))):(y.moveTo(Z,T),y.arc(0,0,u,w,A,!v)):y.moveTo(Z,T),s>a.Ho&&D>a.Ho?M>a.Ho?(x=d(P,j,q,N,s,-M,v),_=d(Z,T,U,L,s,-M,v),y.lineTo(x.cx+x.x01,x.cy+x.y01),M<C?y.arc(x.cx,x.cy,M,(0,a.fv)(x.y01,x.x01),(0,a.fv)(_.y01,_.x01),!v):(y.arc(x.cx,x.cy,M,(0,a.fv)(x.y01,x.x01),(0,a.fv)(x.y11,x.x11),!v),y.arc(0,0,s,(0,a.fv)(x.cy+x.y11,x.cx+x.x11),(0,a.fv)(_.cy+_.y11,_.cx+_.x11),v),y.arc(_.cx,_.cy,M,(0,a.fv)(_.y11,_.x11),(0,a.fv)(_.y01,_.x01),!v))):y.arc(0,0,s,O,k,v):y.lineTo(P,j)}else y.moveTo(0,0);if(y.closePath(),r)return y=null,r+""||null}return b.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+p.apply(this,arguments)+ +m.apply(this,arguments))/2-a.pi/2;return[(0,a.mC)(i)*n,(0,a.O$)(i)*n]},b.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:(0,r.Z)(+t),b):e},b.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:(0,r.Z)(+e),b):t},b.cornerRadius=function(e){return arguments.length?(n="function"==typeof e?e:(0,r.Z)(+e),b):n},b.padRadius=function(e){return arguments.length?(h=null==e?null:"function"==typeof e?e:(0,r.Z)(+e),b):h},b.startAngle=function(e){return arguments.length?(p="function"==typeof e?e:(0,r.Z)(+e),b):p},b.endAngle=function(e){return arguments.length?(m="function"==typeof e?e:(0,r.Z)(+e),b):m},b.padAngle=function(e){return arguments.length?(g="function"==typeof e?e:(0,r.Z)(+e),b):g},b.context=function(e){return arguments.length?(y=null==e?null:e,b):y},b}},71267:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(95254),r=n(5297),a=n(53087),o=n(93030),s=n(95734),u=n(55276);function l(e,t,n){var l=null,f=(0,a.Z)(!0),c=null,d=o.Z,h=null;function p(a){var o,s,u,p,m,g=(a=(0,r.Z)(a)).length,y=!1,b=new Array(g),v=new Array(g);for(null==c&&(h=d(m=(0,i.Z)())),o=0;o<=g;++o){if(!(o<g&&f(p=a[o],o,a))===y)if(y=!y)s=o,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),u=o-1;u>=s;--u)h.point(b[u],v[u]);h.lineEnd(),h.areaEnd()}y&&(b[o]=+e(p,o,a),v[o]=+t(p,o,a),h.point(l?+l(p,o,a):b[o],n?+n(p,o,a):v[o]))}if(m)return h=null,m+""||null}function m(){return(0,s.Z)().defined(f).curve(d).context(c)}return e="function"==typeof e?e:void 0===e?u.x:(0,a.Z)(+e),t="function"==typeof t?t:void 0===t?(0,a.Z)(0):(0,a.Z)(+t),n="function"==typeof n?n:void 0===n?u.y:(0,a.Z)(+n),p.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,a.Z)(+t),l=null,p):e},p.x0=function(t){return arguments.length?(e="function"==typeof t?t:(0,a.Z)(+t),p):e},p.x1=function(e){return arguments.length?(l=null==e?null:"function"==typeof e?e:(0,a.Z)(+e),p):l},p.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,a.Z)(+e),n=null,p):t},p.y0=function(e){return arguments.length?(t="function"==typeof e?e:(0,a.Z)(+e),p):t},p.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:(0,a.Z)(+e),p):n},p.lineX0=p.lineY0=function(){return m().x(e).y(t)},p.lineY1=function(){return m().x(e).y(n)},p.lineX1=function(){return m().x(l).y(t)},p.defined=function(e){return arguments.length?(f="function"==typeof e?e:(0,a.Z)(!!e),p):f},p.curve=function(e){return arguments.length?(d=e,null!=c&&(h=d(c)),p):d},p.context=function(e){return arguments.length?(null==e?c=h=null:h=d(c=e),p):c},p}},5297:(e,t,n)=>{"use strict";function i(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}n.d(t,{Z:()=>i}),Array.prototype.slice},53087:(e,t,n)=>{"use strict";function i(e){return function(){return e}}n.d(t,{Z:()=>i})},64082:(e,t,n)=>{"use strict";function i(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function r(e){this._context=e}function a(e){return new r(e)}n.d(t,{xm:()=>i,fE:()=>r,ZP:()=>a}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:i(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:i(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},87907:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(70839),r=n(64082);function a(e){this._context=e}function o(e){return new a(e)}a.prototype={areaStart:i.Z,areaEnd:i.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:(0,r.xm)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},58594:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(64082);function r(e){this._context=e}function a(e){return new r(e)}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:(0,i.xm)(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}},69406:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(64082);function r(e,t){this._basis=new i.fE(e),this._beta=t}r.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var i,r=e[0],a=t[0],o=e[n]-r,s=t[n]-a,u=-1;++u<=n;)i=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(r+i*o),this._beta*t[u]+(1-this._beta)*(a+i*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const a=function e(t){function n(e){return 1===t?new i.fE(e):new r(e,t)}return n.beta=function(t){return e(+t)},n}(.85)},72911:(e,t,n)=>{"use strict";function i(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function r(e,t){this._context=e,this._k=(1-t)/6}n.d(t,{xm:()=>i,pC:()=>r,ZP:()=>a}),r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:i(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:i(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a=function e(t){function n(e){return new r(e,t)}return n.tension=function(t){return e(+t)},n}(0)},97473:(e,t,n)=>{"use strict";n.d(t,{U:()=>a,Z:()=>o});var i=n(70839),r=n(72911);function a(e,t){this._context=e,this._k=(1-t)/6}a.prototype={areaStart:i.Z,areaEnd:i.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,r.xm)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const o=function e(t){function n(e){return new a(e,t)}return n.tension=function(t){return e(+t)},n}(0)},30151:(e,t,n)=>{"use strict";n.d(t,{T:()=>r,Z:()=>a});var i=n(72911);function r(e,t){this._context=e,this._k=(1-t)/6}r.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,i.xm)(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a=function e(t){function n(e){return new r(e,t)}return n.tension=function(t){return e(+t)},n}(0)},38110:(e,t,n)=>{"use strict";n.d(t,{x:()=>a,Z:()=>s});var i=n(62575),r=n(72911);function a(e,t,n){var r=e._x1,a=e._y1,o=e._x2,s=e._y2;if(e._l01_a>i.Ho){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,a=(a*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>i.Ho){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*f+e._x1*e._l23_2a-t*e._l12_2a)/c,s=(s*f+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,a,o,s,e._x2,e._y2)}function o(e,t){this._context=e,this._alpha=t}o.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:a(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const s=function e(t){function n(e){return t?new o(e,t):new r.pC(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},10701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(97473),r=n(70839),a=n(38110);function o(e,t){this._context=e,this._alpha=t}o.prototype={areaStart:r.Z,areaEnd:r.Z,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:(0,a.x)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const s=function e(t){function n(e){return t?new o(e,t):new i.U(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},63631:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(30151),r=n(38110);function a(e,t){this._context=e,this._alpha=t}a.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:(0,r.x)(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const o=function e(t){function n(e){return t?new a(e,t):new i.T(e,0)}return n.alpha=function(t){return e(+t)},n}(.5)},93030:(e,t,n)=>{"use strict";function i(e){this._context=e}function r(e){return new i(e)}n.d(t,{Z:()=>r}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}}},23013:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(70839);function r(e){this._context=e}function a(e){return new r(e)}r.prototype={areaStart:i.Z,areaEnd:i.Z,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}},4885:(e,t,n)=>{"use strict";function i(e){return e<0?-1:1}function r(e,t,n){var r=e._x1-e._x0,a=t-e._x1,o=(e._y1-e._y0)/(r||a<0&&-0),s=(n-e._y1)/(a||r<0&&-0),u=(o*a+s*r)/(r+a);return(i(o)+i(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function a(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o(e,t,n){var i=e._x0,r=e._y0,a=e._x1,o=e._y1,s=(a-i)/3;e._context.bezierCurveTo(i+s,r+s*t,a-s,o-s*n,a,o)}function s(e){this._context=e}function u(e){this._context=new l(e)}function l(e){this._context=e}function f(e){return new s(e)}function c(e){return new u(e)}n.d(t,{Z:()=>f,s:()=>c}),s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o(this,this._t0,a(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o(this,a(this,n=r(this,e,t)),n);break;default:o(this,this._t0,n=r(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(u.prototype=Object.create(s.prototype)).point=function(e,t){s.prototype.point.call(this,t,e)},l.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,i,r,a){this._context.bezierCurveTo(t,e,i,n,a,r)}}},17228:(e,t,n)=>{"use strict";function i(e){this._context=e}function r(e){var t,n,i=e.length-1,r=new Array(i),a=new Array(i),o=new Array(i);for(r[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<i-1;++t)r[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(r[i-1]=2,a[i-1]=7,o[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)n=r[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(r[i-1]=o[i-1]/a[i-1],t=i-2;t>=0;--t)r[t]=(o[t]-r[t+1])/a[t];for(a[i-1]=(e[i]+r[i-1])/2,t=0;t<i-1;++t)a[t]=2*e[t+1]-r[t+1];return[r,a]}function a(e){return new i(e)}n.d(t,{Z:()=>a}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var i=r(e),a=r(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],a[0][o],i[1][o],a[1][o],e[s],t[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}},65979:(e,t,n)=>{"use strict";function i(e,t){this._context=e,this._t=t}function r(e){return new i(e,.5)}function a(e){return new i(e,0)}function o(e){return new i(e,1)}n.d(t,{ZP:()=>r,RN:()=>a,cD:()=>o}),i.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}}},95734:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(95254),r=n(5297),a=n(53087),o=n(93030),s=n(55276);function u(e,t){var n=(0,a.Z)(!0),u=null,l=o.Z,f=null;function c(a){var o,s,c,d=(a=(0,r.Z)(a)).length,h=!1;for(null==u&&(f=l(c=(0,i.Z)())),o=0;o<=d;++o)!(o<d&&n(s=a[o],o,a))===h&&((h=!h)?f.lineStart():f.lineEnd()),h&&f.point(+e(s,o,a),+t(s,o,a));if(c)return f=null,c+""||null}return e="function"==typeof e?e:void 0===e?s.x:(0,a.Z)(e),t="function"==typeof t?t:void 0===t?s.y:(0,a.Z)(t),c.x=function(t){return arguments.length?(e="function"==typeof t?t:(0,a.Z)(+t),c):e},c.y=function(e){return arguments.length?(t="function"==typeof e?e:(0,a.Z)(+e),c):t},c.defined=function(e){return arguments.length?(n="function"==typeof e?e:(0,a.Z)(!!e),c):n},c.curve=function(e){return arguments.length?(l=e,null!=u&&(f=l(u)),c):l},c.context=function(e){return arguments.length?(null==e?u=f=null:f=l(u=e),c):u},c}},62575:(e,t,n)=>{"use strict";n.d(t,{Wn:()=>i,fv:()=>r,mC:()=>a,Fp:()=>o,VV:()=>s,O$:()=>u,_b:()=>l,Ho:()=>f,pi:()=>c,ou:()=>d,BZ:()=>h,Kh:()=>p,ZR:()=>m});var i=Math.abs,r=Math.atan2,a=Math.cos,o=Math.max,s=Math.min,u=Math.sin,l=Math.sqrt,f=1e-12,c=Math.PI,d=c/2,h=2*c;function p(e){return e>1?0:e<-1?c:Math.acos(e)}function m(e){return e>=1?d:e<=-1?-d:Math.asin(e)}},70839:(e,t,n)=>{"use strict";function i(){}n.d(t,{Z:()=>i})},55276:(e,t,n)=>{"use strict";function i(e){return e[0]}function r(e){return e[1]}n.d(t,{x:()=>i,y:()=>r})},76063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(95254),r=n(63524),a=n(78398),o=n(54927),s=n(6982),u=n(76963),l=n(74534),f=n(60823),c=n(53087);function d(e,t){var n=null;function a(){var r;if(n||(n=r=(0,i.Z)()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"==typeof e?e:(0,c.Z)(e||r.Z),t="function"==typeof t?t:(0,c.Z)(void 0===t?64:+t),a.type=function(t){return arguments.length?(e="function"==typeof t?t:(0,c.Z)(t),a):e},a.size=function(e){return arguments.length?(t="function"==typeof e?e:(0,c.Z)(+e),a):t},a.context=function(e){return arguments.length?(n=null==e?null:e,a):n},a}r.Z,a.Z,o.Z,u.Z,s.Z,l.Z,f.Z},63524:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(62575);const r={draw:function(e,t){var n=Math.sqrt(t/i.pi);e.moveTo(n,0),e.arc(0,0,n,0,i.BZ)}}},78398:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={draw:function(e,t){var n=Math.sqrt(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}},54927:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=Math.sqrt(1/3),r=2*i;const a={draw:function(e,t){var n=Math.sqrt(t/r),a=n*i;e.moveTo(0,-n),e.lineTo(a,0),e.lineTo(0,n),e.lineTo(-a,0),e.closePath()}}},76963:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}}},6982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(62575),r=Math.sin(i.pi/10)/Math.sin(7*i.pi/10),a=Math.sin(i.BZ/10)*r,o=-Math.cos(i.BZ/10)*r;const s={draw:function(e,t){var n=Math.sqrt(.8908130915292852*t),r=a*n,s=o*n;e.moveTo(0,-n),e.lineTo(r,s);for(var u=1;u<5;++u){var l=i.BZ*u/5,f=Math.cos(l),c=Math.sin(l);e.lineTo(c*n,-f*n),e.lineTo(f*r-c*s,c*r+f*s)}e.closePath()}}},74534:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=Math.sqrt(3);const r={draw:function(e,t){var n=-Math.sqrt(t/(3*i));e.moveTo(0,2*n),e.lineTo(-i*n,-n),e.lineTo(i*n,-n),e.closePath()}}},60823:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=-.5,r=Math.sqrt(3)/2,a=1/Math.sqrt(12),o=3*(a/2+1);const s={draw:function(e,t){var n=Math.sqrt(t/o),s=n/2,u=n*a,l=s,f=n*a+n,c=-l,d=f;e.moveTo(s,u),e.lineTo(l,f),e.lineTo(c,d),e.lineTo(i*s-r*u,r*s+i*u),e.lineTo(i*l-r*f,r*l+i*f),e.lineTo(i*c-r*d,r*c+i*d),e.lineTo(i*s+r*u,i*u-r*s),e.lineTo(i*l+r*f,i*f-r*l),e.lineTo(i*c+r*d,i*d-r*c),e.closePath()}}},69382:(e,t,n)=>{"use strict";var i,r,a,o,s,u;n.d(t,{i$:()=>r,Z1:()=>a,g0:()=>o,wp:()=>s}),u={dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},i=(0,n(65986).Z)(u),r=i.format,a=i.parse,o=i.utcFormat,s=i.utcParse},65986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(26328),r=n(4518),a=n(57971),o=n(91427),s=n(35042),u=n(52539);function l(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function f(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function c(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function d(e){var t=e.dateTime,n=e.date,s=e.time,u=e.periods,d=e.days,p=e.shortDays,m=e.months,g=e.shortMonths,y=v(u),b=x(u),K=v(d),be=x(d),Ce=v(p),Me=x(p),Re=v(m),Se=x(m),Be=v(g),Ze=x(g),Te={a:function(e){return p[e.getDay()]},A:function(e){return d[e.getDay()]},b:function(e){return g[e.getMonth()]},B:function(e){return m[e.getMonth()]},c:null,d:N,e:N,f:X,g:ie,G:ae,H:U,I:L,j:I,L:W,m:V,M:H,p:function(e){return u[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:Fe,s:$e,S:J,u:Y,U:G,V:Q,w:ee,W:te,x:null,X:null,y:ne,Y:re,Z:oe,"%":Ee},Pe={a:function(e){return p[e.getUTCDay()]},A:function(e){return d[e.getUTCDay()]},b:function(e){return g[e.getUTCMonth()]},B:function(e){return m[e.getUTCMonth()]},c:null,d:se,e:se,f:de,g:Ae,G:Oe,H:ue,I:le,j:fe,L:ce,m:he,M:pe,p:function(e){return u[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:Fe,s:$e,S:me,u:ge,U:ye,V:ve,w:xe,W:_e,x:null,X:null,y:we,Y:ke,Z:De,"%":Ee},je={a:function(e,t,n){var i=Ce.exec(t.slice(n));return i?(e.w=Me.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){var i=K.exec(t.slice(n));return i?(e.w=be.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){var i=Be.exec(t.slice(n));return i?(e.m=Ze.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){var i=Re.exec(t.slice(n));return i?(e.m=Se.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,n,i){return Ne(e,t,n,i)},d:M,e:M,f:P,g:E,G:D,H:S,I:S,j:R,L:T,m:C,M:B,p:function(e,t,n){var i=y.exec(t.slice(n));return i?(e.p=b.get(i[0].toLowerCase()),n+i[0].length):-1},q:$,Q:z,s:q,S:Z,u:w,U:A,V:k,w:_,W:O,x:function(e,t,i){return Ne(e,n,t,i)},X:function(e,t,n){return Ne(e,s,t,n)},y:E,Y:D,Z:F,"%":j};function ze(e,t){return function(n){var i,r,a,o=[],s=-1,u=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===e.charCodeAt(s)&&(o.push(e.slice(u,s)),null!=(r=h[i=e.charAt(++s)])?i=e.charAt(++s):r="e"===i?" ":"0",(a=t[i])&&(i=a(n,r)),o.push(i),u=s+1);return o.push(e.slice(u,s)),o.join("")}}function qe(e,t){return function(n){var s,u,d=c(1900,void 0,1);if(Ne(d,e,n+="",0)!=n.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1e3*d.s+("L"in d?d.L:0));if(t&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+12*d.p),void 0===d.m&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(u=(s=f(c(d.y,0,1))).getUTCDay(),s=u>4||0===u?i.l6.ceil(s):(0,i.l6)(s),s=r.Z.offset(s,7*(d.V-1)),d.y=s.getUTCFullYear(),d.m=s.getUTCMonth(),d.d=s.getUTCDate()+(d.w+6)%7):(u=(s=l(c(d.y,0,1))).getDay(),s=u>4||0===u?a.wA.ceil(s):(0,a.wA)(s),s=o.Z.offset(s,7*(d.V-1)),d.y=s.getFullYear(),d.m=s.getMonth(),d.d=s.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),u="Z"in d?f(c(d.y,0,1)).getUTCDay():l(c(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(u+5)%7:d.w+7*d.U-(u+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,f(d)):l(d)}}function Ne(e,t,n,i){for(var r,a,o=0,s=t.length,u=n.length;o<s;){if(i>=u)return-1;if(37===(r=t.charCodeAt(o++))){if(r=t.charAt(o++),!(a=je[r in h?t.charAt(o++):r])||(i=a(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return Te.x=ze(n,Te),Te.X=ze(s,Te),Te.c=ze(t,Te),Pe.x=ze(n,Pe),Pe.X=ze(s,Pe),Pe.c=ze(t,Pe),{format:function(e){var t=ze(e+="",Te);return t.toString=function(){return e},t},parse:function(e){var t=qe(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=ze(e+="",Pe);return t.toString=function(){return e},t},utcParse:function(e){var t=qe(e+="",!0);return t.toString=function(){return e},t}}}var h={"-":"",_:" ",0:"0"},p=/^\s*\d+/,m=/^%/,g=/[\\^$*+?|[\]().{}]/g;function y(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(t)+r:r)}function b(e){return e.replace(g,"\\$&")}function v(e){return new RegExp("^(?:"+e.map(b).join("|")+")","i")}function x(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function _(e,t,n){var i=p.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function w(e,t,n){var i=p.exec(t.slice(n,n+1));return i?(e.u=+i[0],n+i[0].length):-1}function A(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.U=+i[0],n+i[0].length):-1}function k(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.V=+i[0],n+i[0].length):-1}function O(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.W=+i[0],n+i[0].length):-1}function D(e,t,n){var i=p.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function E(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function F(e,t,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function $(e,t,n){var i=p.exec(t.slice(n,n+1));return i?(e.q=3*i[0]-3,n+i[0].length):-1}function C(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function M(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function R(e,t,n){var i=p.exec(t.slice(n,n+3));return i?(e.m=0,e.d=+i[0],n+i[0].length):-1}function S(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function B(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function Z(e,t,n){var i=p.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function T(e,t,n){var i=p.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function P(e,t,n){var i=p.exec(t.slice(n,n+6));return i?(e.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function j(e,t,n){var i=m.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function z(e,t,n){var i=p.exec(t.slice(n));return i?(e.Q=+i[0],n+i[0].length):-1}function q(e,t,n){var i=p.exec(t.slice(n));return i?(e.s=+i[0],n+i[0].length):-1}function N(e,t){return y(e.getDate(),t,2)}function U(e,t){return y(e.getHours(),t,2)}function L(e,t){return y(e.getHours()%12||12,t,2)}function I(e,t){return y(1+o.Z.count((0,s.Z)(e),e),t,3)}function W(e,t){return y(e.getMilliseconds(),t,3)}function X(e,t){return W(e,t)+"000"}function V(e,t){return y(e.getMonth()+1,t,2)}function H(e,t){return y(e.getMinutes(),t,2)}function J(e,t){return y(e.getSeconds(),t,2)}function Y(e){var t=e.getDay();return 0===t?7:t}function G(e,t){return y(a.OM.count((0,s.Z)(e)-1,e),t,2)}function K(e){var t=e.getDay();return t>=4||0===t?(0,a.bL)(e):a.bL.ceil(e)}function Q(e,t){return e=K(e),y(a.bL.count((0,s.Z)(e),e)+(4===(0,s.Z)(e).getDay()),t,2)}function ee(e){return e.getDay()}function te(e,t){return y(a.wA.count((0,s.Z)(e)-1,e),t,2)}function ne(e,t){return y(e.getFullYear()%100,t,2)}function ie(e,t){return y((e=K(e)).getFullYear()%100,t,2)}function re(e,t){return y(e.getFullYear()%1e4,t,4)}function ae(e,t){var n=e.getDay();return y((e=n>=4||0===n?(0,a.bL)(e):a.bL.ceil(e)).getFullYear()%1e4,t,4)}function oe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+y(t/60|0,"0",2)+y(t%60,"0",2)}function se(e,t){return y(e.getUTCDate(),t,2)}function ue(e,t){return y(e.getUTCHours(),t,2)}function le(e,t){return y(e.getUTCHours()%12||12,t,2)}function fe(e,t){return y(1+r.Z.count((0,u.Z)(e),e),t,3)}function ce(e,t){return y(e.getUTCMilliseconds(),t,3)}function de(e,t){return ce(e,t)+"000"}function he(e,t){return y(e.getUTCMonth()+1,t,2)}function pe(e,t){return y(e.getUTCMinutes(),t,2)}function me(e,t){return y(e.getUTCSeconds(),t,2)}function ge(e){var t=e.getUTCDay();return 0===t?7:t}function ye(e,t){return y(i.Ox.count((0,u.Z)(e)-1,e),t,2)}function be(e){var t=e.getUTCDay();return t>=4||0===t?(0,i.hB)(e):i.hB.ceil(e)}function ve(e,t){return e=be(e),y(i.hB.count((0,u.Z)(e),e)+(4===(0,u.Z)(e).getUTCDay()),t,2)}function xe(e){return e.getUTCDay()}function _e(e,t){return y(i.l6.count((0,u.Z)(e)-1,e),t,2)}function we(e,t){return y(e.getUTCFullYear()%100,t,2)}function Ae(e,t){return y((e=be(e)).getUTCFullYear()%100,t,2)}function ke(e,t){return y(e.getUTCFullYear()%1e4,t,4)}function Oe(e,t){var n=e.getUTCDay();return y((e=n>=4||0===n?(0,i.hB)(e):i.hB.ceil(e)).getUTCFullYear()%1e4,t,4)}function De(){return"+0000"}function Ee(){return"%"}function Fe(e){return+e}function $e(e){return Math.floor(+e/1e3)}},91427:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(53939),r=n(4658),a=(0,i.Z)((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*r.yB)/r.UD),(e=>e.getDate()-1));const o=a;a.range},4658:(e,t,n)=>{"use strict";n.d(t,{Ym:()=>i,yB:()=>r,Y2:()=>a,UD:()=>o,iM:()=>s,jz:()=>u,qz:()=>l});const i=1e3,r=60*i,a=60*r,o=24*a,s=7*o,u=30*o,l=365*o},74636:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(53939),r=n(4658),a=(0,i.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*r.Ym-e.getMinutes()*r.yB)}),(function(e,t){e.setTime(+e+t*r.Y2)}),(function(e,t){return(t-e)/r.Y2}),(function(e){return e.getHours()}));const o=a;a.range},53939:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=new Date,r=new Date;function a(e,t,n,o){function s(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return s.floor=function(t){return e(t=new Date(+t)),t},s.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},s.round=function(e){var t=s(e),n=s.ceil(e);return e-t<n-e?t:n},s.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},s.range=function(n,i,r){var a,o=[];if(n=s.ceil(n),r=null==r?1:Math.floor(r),!(n<i&&r>0))return o;do{o.push(a=new Date(+n)),t(n,r),e(n)}while(a<n&&n<i);return o},s.filter=function(n){return a((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,i){if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!n(e););else for(;--i>=0;)for(;t(e,1),!n(e););}))},n&&(s.count=function(t,a){return i.setTime(+t),r.setTime(+a),e(i),e(r),Math.floor(n(i,r))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?s.filter(o?function(t){return o(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}},79217:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(53939),r=(0,i.Z)((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?(0,i.Z)((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):r:null};const a=r;r.range},69639:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(53939),r=n(4658),a=(0,i.Z)((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*r.Ym)}),(function(e,t){e.setTime(+e+t*r.yB)}),(function(e,t){return(t-e)/r.yB}),(function(e){return e.getMinutes()}));const o=a;a.range},13001:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=(0,n(53939).Z)((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()}));const r=i;i.range},74437:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(53939),r=n(4658),a=(0,i.Z)((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*r.Ym)}),(function(e,t){return(t-e)/r.Ym}),(function(e){return e.getUTCSeconds()}));const o=a;a.range},51669:(e,t,n)=>{"use strict";n.d(t,{WG:()=>_,jo:()=>w,jK:()=>A,_g:()=>k});var i=n(12609),r=n(27109),a=n(4658),o=n(79217),s=n(74437),u=n(69639),l=n(74636),f=n(91427),c=n(57971),d=n(13001),h=n(35042),p=n(6731),m=n(20290),g=n(4518),y=n(26328),b=n(53621),v=n(52539);function x(e,t,n,u,l,f){const c=[[s.Z,1,a.Ym],[s.Z,5,5*a.Ym],[s.Z,15,15*a.Ym],[s.Z,30,30*a.Ym],[f,1,a.yB],[f,5,5*a.yB],[f,15,15*a.yB],[f,30,30*a.yB],[l,1,a.Y2],[l,3,3*a.Y2],[l,6,6*a.Y2],[l,12,12*a.Y2],[u,1,a.UD],[u,2,2*a.UD],[n,1,a.iM],[t,1,a.jz],[t,3,3*a.jz],[e,1,a.qz]];function d(t,n,s){const u=Math.abs(n-t)/s,l=(0,i.Z)((([,,e])=>e)).right(c,u);if(l===c.length)return e.every((0,r.ly)(t/a.qz,n/a.qz,s));if(0===l)return o.Z.every(Math.max((0,r.ly)(t,n,s),1));const[f,d]=c[u/c[l-1][2]<c[l][2]/u?l-1:l];return f.every(d)}return[function(e,t,n){const i=t<e;i&&([e,t]=[t,e]);const r=n&&"function"==typeof n.range?n:d(e,t,n),a=r?r.range(e,+t+1):[];return i?a.reverse():a},d]}const[_,w]=x(v.Z,b.Z,y.Ox,g.Z,m.Z,p.Z),[A,k]=x(h.Z,d.Z,c.OM,f.Z,l.Z,u.Z)},4518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(53939),r=n(4658),a=(0,i.Z)((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/r.UD}),(function(e){return e.getUTCDate()-1}));const o=a;a.range},20290:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(53939),r=n(4658),a=(0,i.Z)((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*r.Y2)}),(function(e,t){return(t-e)/r.Y2}),(function(e){return e.getUTCHours()}));const o=a;a.range},6731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(53939),r=n(4658),a=(0,i.Z)((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*r.yB)}),(function(e,t){return(t-e)/r.yB}),(function(e){return e.getUTCMinutes()}));const o=a;a.range},53621:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=(0,n(53939).Z)((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()}));const r=i;i.range},26328:(e,t,n)=>{"use strict";n.d(t,{Ox:()=>o,l6:()=>s,hB:()=>f});var i=n(53939),r=n(4658);function a(e){return(0,i.Z)((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/r.iM}))}var o=a(0),s=a(1),u=a(2),l=a(3),f=a(4),c=a(5),d=a(6);o.range,s.range,u.range,l.range,f.range,c.range,d.range},52539:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(53939),r=(0,i.Z)((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));r.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,i.Z)((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};const a=r;r.range},57971:(e,t,n)=>{"use strict";n.d(t,{OM:()=>o,wA:()=>s,bL:()=>f});var i=n(53939),r=n(4658);function a(e){return(0,i.Z)((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*r.yB)/r.iM}))}var o=a(0),s=a(1),u=a(2),l=a(3),f=a(4),c=a(5),d=a(6);o.range,s.range,u.range,l.range,f.range,c.range,d.range},35042:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(53939),r=(0,i.Z)((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));r.every=function(e){return isFinite(e=Math.floor(e))&&e>0?(0,i.Z)((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};const a=r;r.range},16117:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,R:()=>s});var i=n(11728),r=n(6125);function a(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return o(e,t)}))}:o(e,t)}function o(e,t){var n=t.id,i=t.bbox,r=null==t.properties?{}:t.properties,a=s(e,t);return null==n&&null==i?{type:"Feature",properties:r,geometry:a}:null==i?{type:"Feature",id:n,properties:r,geometry:a}:{type:"Feature",id:n,bbox:i,properties:r,geometry:a}}function s(e,t){var n=(0,r.Z)(e.transform),a=e.arcs;function o(e,t){t.length&&t.pop();for(var r=a[e<0?~e:e],o=0,s=r.length;o<s;++o)t.push(n(r[o],o));e<0&&(0,i.Z)(t,s)}function s(e){return n(e)}function u(e){for(var t=[],n=0,i=e.length;n<i;++n)o(e[n],t);return t.length<2&&t.push(t[0]),t}function l(e){for(var t=u(e);t.length<4;)t.push(t[0]);return t}function f(e){return e.map(l)}return function e(t){var n,i=t.type;switch(i){case"GeometryCollection":return{type:i,geometries:t.geometries.map(e)};case"Point":n=s(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(s);break;case"LineString":n=u(t.arcs);break;case"MultiLineString":n=t.arcs.map(u);break;case"Polygon":n=f(t.arcs);break;case"MultiPolygon":n=t.arcs.map(f);break;default:return null}return{type:i,coordinates:n}}(t)}},27187:(e,t,n)=>{"use strict";function i(e){return e}n.d(t,{Z:()=>i})},1227:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(16117),r=n(84082);function a(e){return(0,i.R)(e,o.apply(this,arguments))}function o(e,t,n){var i,a,o;if(arguments.length>1)i=s(0,t,n);else for(a=0,i=new Array(o=e.arcs.length);a<o;++a)i[a]=a;return{type:"MultiLineString",arcs:(0,r.Z)(e,i)}}function s(e,t,n){var i,r=[],a=[];function o(e){var t=e<0?~e:e;(a[t]||(a[t]=[])).push({i:e,g:i})}function s(e){e.forEach(o)}function u(e){e.forEach(s)}return function e(t){switch(i=t,t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":s(t.arcs);break;case"MultiLineString":case"Polygon":u(t.arcs);break;case"MultiPolygon":!function(e){e.forEach(u)}(t.arcs)}}(t),a.forEach(null==n?function(e){r.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&r.push(e[0].i)}),r}},11728:(e,t,n)=>{"use strict";function i(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}n.d(t,{Z:()=>i})},84082:(e,t,n)=>{"use strict";function i(e,t){var n={},i={},r={},a=[],o=-1;function s(e,t){for(var i in e){var r=e[i];delete t[r.start],delete r.start,delete r.end,r.forEach((function(e){n[e<0?~e:e]=1})),a.push(r)}}return t.forEach((function(n,i){var r,a=e.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(r=t[++o],t[o]=n,t[i]=r)})),t.forEach((function(t){var n,a,o=function(t){var n,i=e.arcs[t<0?~t:t],r=i[0];return e.transform?(n=[0,0],i.forEach((function(e){n[0]+=e[0],n[1]+=e[1]}))):n=i[i.length-1],t<0?[n,r]:[r,n]}(t),s=o[0],u=o[1];if(n=r[s])if(delete r[n.end],n.push(t),n.end=u,a=i[u]){delete i[a.start];var l=a===n?n:n.concat(a);i[l.start=n.start]=r[l.end=a.end]=l}else i[n.start]=r[n.end]=n;else if(n=i[u])if(delete i[n.start],n.unshift(t),n.start=s,a=r[s]){delete r[a.end];var f=a===n?n:a.concat(n);i[f.start=a.start]=r[f.end=n.end]=f}else i[n.start]=r[n.end]=n;else i[(n=[t]).start=s]=r[n.end=u]=n})),s(r,i),s(i,r),t.forEach((function(e){n[e<0?~e:e]||a.push([e])})),a}n.d(t,{Z:()=>i})},6125:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(27187);function r(e){if(null==e)return i.Z;var t,n,r=e.scale[0],a=e.scale[1],o=e.translate[0],s=e.translate[1];return function(e,i){i||(t=n=0);var u=2,l=e.length,f=new Array(l);for(f[0]=(t+=e[0])*r+o,f[1]=(n+=e[1])*a+s;u<l;)f[u]=e[u],++u;return f}}},99724:(e,t,n)=>{"use strict";n.d(t,{JQ:()=>a,BH:()=>o});var i=n(31564),r=n(19522);function a(e,t,n){return(0,i.v)(e,t)||(0,r.v)(e,t,n)||null}function o(){return(0,i.K)()||(0,r.H)()||null}},31564:(e,t,n)=>{"use strict";function i(e,t){if("undefined"!=typeof document&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}n.d(t,{v:()=>i,K:()=>r});const r=()=>"undefined"!=typeof Image?Image:null},19522:(e,t,n)=>{"use strict";let i;n.d(t,{v:()=>r,H:()=>a});try{i=n(54639),i&&i.createCanvas||(i=null)}catch(e){}function r(e,t,n){if(i)try{return new i.Canvas(e,t,n)}catch(e){}return null}const a=()=>i&&i.Image||null},287:(e,t,n)=>{"use strict";n.d(t,{x3:()=>i.x3}),n(2137),n(83247),n(70677),n(70575),n(83133),n(91908),n(78419),n(82121),n(31719);var i=n(59210);n(98942)},83247:(e,t,n)=>{"use strict";n.d(t,{m:()=>a,Z:()=>o});var i=n(59210),r=n(72688);function a(e){return e&&e.constructor===o}function o(){const e=[],t=[],n=[],a=[],s=[];let u=null,l=!1;return{constructor:o,insert(t){const n=(0,r.IX)(t),i=n.length;for(let t=0;t<i;++t)e.push(n[t]);return this},remove(e){const n=(0,r.mf)(e)?a:t,i=(0,r.IX)(e),o=i.length;for(let e=0;e<o;++e)n.push(i[e]);return this},modify(e,t,i){const a={field:t,value:(0,r.a9)(i)};return(0,r.mf)(e)?(a.filter=e,s.push(a)):(a.tuple=e,n.push(a)),this},encode(e,t){return(0,r.mf)(e)?s.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean(e){return u=e,this},reflow(){return l=!0,this},pulse(r,o){const f={},c={};let d,h,p,m,g,y;for(d=0,h=o.length;d<h;++d)f[(0,i.ai)(o[d])]=1;for(d=0,h=t.length;d<h;++d)g=t[d],f[(0,i.ai)(g)]=-1;for(d=0,h=a.length;d<h;++d)m=a[d],o.forEach((e=>{m(e)&&(f[(0,i.ai)(e)]=-1)}));for(d=0,h=e.length;d<h;++d)g=e[d],y=(0,i.ai)(g),f[y]?f[y]=1:r.add.push((0,i.ax)(e[d]));for(d=0,h=o.length;d<h;++d)g=o[d],f[(0,i.ai)(g)]<0&&r.rem.push(g);function b(e,t,n){n?e[t]=n(e):r.encode=t,l||(c[(0,i.ai)(e)]=e)}for(d=0,h=n.length;d<h;++d)p=n[d],g=p.tuple,m=p.field,y=f[(0,i.ai)(g)],y>0&&(b(g,m,p.value),r.modifies(m));for(d=0,h=s.length;d<h;++d)p=s[d],m=p.filter,o.forEach((e=>{m(e)&&f[(0,i.ai)(e)]>0&&b(e,p.field,p.value)})),r.modifies(p.field);if(l)r.mod=t.length||a.length?o.filter((e=>f[(0,i.ai)(e)]>0)):o.slice();else for(y in c)r.mod.push(c[y]);return(u||null==u&&(t.length||a.length))&&r.clean(!0),r}}}},70575:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var i=n(2137),r=n(72688);let a=0;function o(e,t,n){this.id=++a,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function s(e,t,n){return new o(e,t,n)}o.prototype={_filter:r.yb,_apply:r.yR,targets(){return this._targets||(this._targets=(0,i.Z)(r.id))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,i=n?n.length:0;for(let e=0;e<i;++e)n[e].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=s(e);return this.targets().add(t),t},apply(e){const t=s(null,e);return this.targets().add(t),t},merge(){const e=s();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter((()=>{const n=Date.now();return n-t>e?(t=n,1):0}))},debounce(e){const t=s();return this.targets().add(s(null,null,(0,r.Ds)(e,(e=>{const n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},between(e,t){let n=!1;return e.targets().add(s(null,null,(()=>n=!0))),t.targets().add(s(null,null,(()=>n=!1))),this.filter((()=>n))},detach(){this._filter=r.yb,this._targets=null}}},78419:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(91908),r=n(72688);function a(e,t,n,i){const r=this;let a=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=i||null,this.pulses=n;for(const e of n)if(e.stamp===t){if(e.fields){const t=r.fields||(r.fields={});for(const n in e.fields)t[n]=1}e.changed(r.ADD)&&(a|=r.ADD),e.changed(r.REM)&&(a|=r.REM),e.changed(r.MOD)&&(a|=r.MOD)}this.changes=a}(0,r.XW)(a,i.Z,{fork(e){const t=new i.Z(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(e=>t.add.push(e))),e&t.REM&&this.visit(t.REM,(e=>t.rem.push(e))),e&t.MOD&&this.visit(t.MOD,(e=>t.mod.push(e)))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?(0,r.kJ)(e)?e.some((e=>n[e])):n[e]:0},filter(){(0,r.vU)("MultiPulse does not support filtering.")},materialize(){(0,r.vU)("MultiPulse does not support materialization.")},visit(e,t){const n=this,i=n.pulses,r=i.length;let a=0;if(e&n.SOURCE)for(;a<r;++a)i[a].visit(e,t);else for(;a<r;++a)i[a].stamp===n.stamp&&i[a].visit(e,t);return n}})},82121:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(83133),r=n(2137),a=n(72688);let o=0;const s=new i.Z;function u(e,t,n,i){this.id=++o,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,i)}function l(e){return function(t){const n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}u.prototype={targets(){return this._targets||(this._targets=(0,r.Z)(a.id))},set(e){return this.value!==e?(this.value=e,1):0},skip:l(1),modified:l(2),parameters(e,t,n){t=!1!==t;const r=this._argval=this._argval||new i.Z,o=this._argops=this._argops||[],s=[];let l,f,c,d;const h=(e,n,i)=>{i instanceof u?(i!==this&&(t&&i.targets().add(this),s.push(i)),o.push({op:i,name:e,index:n})):r.set(e,n,i)};for(l in e)if(f=e[l],"pulse"===l)(0,a.IX)(f).forEach((e=>{e instanceof u?e!==this&&(e.targets().add(this),s.push(e)):(0,a.vU)("Pulse parameters must be operator instances.")})),this.source=f;else if((0,a.kJ)(f))for(r.set(l,-1,Array(c=f.length)),d=0;d<c;++d)h(l,d,f[d]);else h(l,-1,f);return this.marshall().clear(),n&&(o.initonly=!0),s},marshall(e){const t=this._argval||s,n=this._argops;let i,r,a,o;if(n){const s=n.length;for(r=0;r<s;++r)i=n[r],a=i.op,o=a.modified()&&a.stamp===e,t.set(i.name,i.index,a.value,o);if(n.initonly){for(r=0;r<s;++r)i=n[r],i.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,i,r;if(e)for(t=0,n=e.length;t<n;++t)i=e[t],r=i.op,r._targets&&r._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),i=t.call(this,n,e);if(n.clear(),i!==this.value)this.value=i;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}}},83133:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(72688);const r="_:mod:_";function a(){Object.defineProperty(this,r,{writable:!0,value:{}})}a.prototype={set(e,t,n,a){const o=this,s=o[e],u=o[r];return null!=t&&t>=0?(s[t]!==n||a)&&(s[t]=n,u[t+":"+e]=-1,u[e]=-1):(s!==n||a)&&(o[e]=n,u[e]=(0,i.kJ)(n)?1+n.length:-1),o},modified(e,t){const n=this[r];if(!arguments.length){for(const e in n)if(n[e])return!0;return!1}if((0,i.kJ)(e)){for(let t=0;t<e.length;++t)if(n[e[t]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[r]={},this}}},91908:(e,t,n)=>{"use strict";n.d(t,{t:()=>a,Z:()=>o});var i=n(59210),r=n(72688);const a={};function o(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function s(e,t){const n=[];return(0,r.FP)(e,t,(e=>n.push(e))),n}function u(e,t){const n={};return e.visit(t,(e=>{n[(0,i.ai)(e)]=1})),e=>n[(0,i.ai)(e)]?null:e}function l(e,t){return e?(n,i)=>e(n,i)&&t(n,i):t}o.prototype={StopPropagation:a,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new o(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new o(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,u(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return(0,r.kJ)(e)?e.forEach((e=>t[e]=!0)):t[e]=!0,this},modified(e,t){const n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?(0,r.kJ)(e)?e.some((e=>n[e])):n[e]:!!n)},filter(e,t){const n=this;return 1&e&&(n.addF=l(n.addF,t)),2&e&&(n.remF=l(n.remF,t)),4&e&&(n.modF=l(n.modF,t)),16&e&&(n.srcF=l(n.srcF,t)),n},materialize(e){const t=this;return 1&(e=e||7)&&t.addF&&(t.add=s(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=s(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=s(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,i=t;if(16&e)return(0,r.FP)(n.source,n.srcF,i),n;1&e&&(0,r.FP)(n.add,n.addF,i),2&e&&(0,r.FP)(n.rem,n.remF,i),4&e&&(0,r.FP)(n.mod,n.modF,i);const a=n.source;if(8&e&&a){const e=n.add.length+n.mod.length;e===a.length||(e?(0,r.FP)(a,u(n,5),i):(0,r.FP)(a,n.srcF,i))}return n}}},31719:(e,t,n)=>{"use strict";var i=n(82121);(0,n(72688).XW)((function(e,t){i.Z.call(this,e,null,t)}),i.Z,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then((e=>this.pulse=e)):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}})},59210:(e,t,n)=>{"use strict";n.d(t,{x3:()=>a,ai:()=>o,ax:()=>s});const i=Symbol("vega_id");let r=1;function a(e){return!(!e||!o(e))}function o(e){return e[i]}function s(e){const t=e===Object(e)?e:{data:e};return o(t)?t:function(e,t){return e[i]=t,e}(t,r++)}},70677:(e,t,n)=>{"use strict";var i=n(33439),r=n(89037),a=n(25733),o=n(80874),s=n(22818),u=n(45556),l=n(21871),f=n(52616),c=n(83247);function d(e){return function(){return this._log[e].apply(this,arguments)}}n(55688),n(2137),n(77699),n(81250),n(72688),d("error"),d("warn"),d("info"),d("debug"),d("level"),i.Z,r.Z,u.d,u.t,f.dC,f.Fq,f.Vx,c.Z,o.ax,o.Qc,o.MA,o.WY,a.Z,s.Z,l.ku,l.KH,l.eH,l.pD,l.SP,l.LO},33439:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(82121),r=n(72688);function a(e,t,n,a){let o,s=1;return e instanceof i.Z?o=e:e&&e.prototype instanceof i.Z?o=new e:(0,r.mf)(e)?o=new i.Z(null,e):(s=0,o=new i.Z(e,t)),this.rank(o),s&&(a=n,n=t),n&&this.connect(o,o.parameters(n,a)),this.touch(o),o}},89037:(e,t,n)=>{"use strict";function i(e,t){const n=e.rank,i=t.length;for(let r=0;r<i;++r)if(n<t[r].rank)return void this.rerank(e)}n.d(t,{Z:()=>i})},25733:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(70575),r=n(72688);function a(e,t,n,a){const o=this,s=(0,i.V)(n,a),u=function(e){e.dataflow=o;try{s.receive(e)}catch(e){o.error(e)}finally{o.run()}};let l;l="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):(0,r.IX)(e);const f=l.length;for(let e=0;e<f;++e)l[e].addEventListener(t,u);return s}},80874:(e,t,n)=>{"use strict";n.d(t,{Qc:()=>a,ax:()=>o,WY:()=>s,MA:()=>u});var i=n(81250),r=n(72688);function a(e,t){const n=this.locale();return(0,i.ij)(e,t,n.timeParse,n.utcParse)}function o(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function s(e,t){const n=this;let r,a=0;try{r=await n.loader().load(e,{context:"dataflow",response:(0,i.hh)(t&&t.type)});try{r=n.parse(r,t)}catch(t){a=-2,n.warn("Data ingestion failed",e,t)}}catch(t){a=-1,n.warn("Loading failed",e,t)}return{data:r,status:a}}async function u(e,t,n){const i=this,a=i._pending||function(e){let t;const n=new Promise((e=>t=e));return n.requests=0,n.done=()=>{0==--n.requests&&(e._pending=null,t(e))},e._pending=n}(i);a.requests+=1;const o=await i.request(t,n);return i.pulse(e,i.changeset().remove(r.yb).insert(o.data||[])),a.done(),o}},22818:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(82121),r=n(83247),a=n(72688);const o={skip:!0};function s(e,t,n,r,a){return(e instanceof i.Z?l:u)(this,e,t,n,r,a),this}function u(e,t,n,s,u,l){const f=(0,a.l7)({},l,o);let c,d;(0,a.mf)(n)||(n=(0,a.a9)(n)),void 0===s?c=t=>e.touch(n(t)):(0,a.mf)(s)?(d=new i.Z(null,s,u,!1),c=t=>{d.evaluate(t);const i=n(t),a=d.value;(0,r.m)(a)?e.pulse(i,a,l):e.update(i,a,f)}):c=t=>e.update(n(t),s,f),t.apply(c)}function l(e,t,n,r,o,s){if(void 0===r)t.targets().add(n);else{const u=s||{},l=new i.Z(null,function(e,t){return t=(0,a.mf)(t)?t:(0,a.a9)(t),e?function(n,i){const r=t(n,i);return e.skip()||(e.skip(r!==this.value).value=r),r}:t}(n,r),o,!1);l.modified(u.force),l.rank=t.rank,t.targets().add(l),n&&(l.skip(!0),l.value=n.value,l.targets().add(n),e.connect(n,[l]))}}},45556:(e,t,n)=>{"use strict";n.d(t,{d:()=>r,t:()=>a});var i=n(72688);function r(e){e.rank=++this._rank}function a(e){const t=[e];let n,r,a;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(a=r.length;--a>=0;)t.push(n=r[a]),n===e&&(0,i.vU)("Cycle detected in dataflow graph.")}},21871:(e,t,n)=>{"use strict";n.d(t,{ku:()=>u,eH:()=>l,KH:()=>f,pD:()=>c,SP:()=>h,LO:()=>p});var i=n(91908),r=n(78419),a=n(56125),o=n(2137),s=n(72688);async function u(e,t,n){const r=this,u=[];if(r._pulse)return d(r);if(r._pending&&await r._pending,t&&await(0,a.Z)(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const l=++r._clock;r._pulse=new i.Z(r,l,e),r._touched.forEach((e=>r._enqueue(e,!0))),r._touched=(0,o.Z)(s.id);let f,c,h,p=0;try{for(;r._heap.size()>0;)f=r._heap.pop(),f.rank===f.qrank?(c=f.run(r._getPulse(f,e)),c.then?c=await c:c.async&&(u.push(c.async),c=i.t),c!==i.t&&f._targets&&f._targets.forEach((e=>r._enqueue(e))),++p):r._enqueue(f,!0)}catch(e){r._heap.clear(),h=e}if(r._input={},r._pulse=null,r.debug(`Pulse ${l}: ${p} operators`),h&&(r._postrun=[],r.error(h)),r._postrun.length){const e=r._postrun.sort(((e,t)=>t.priority-e.priority));r._postrun=[];for(let t=0;t<e.length;++t)await(0,a.Z)(r,e[t].callback)}return n&&await(0,a.Z)(r,n),u.length&&Promise.all(u).then((e=>r.runAsync(null,(()=>{e.forEach((e=>{try{e(r)}catch(e){r.error(e)}}))})))),r}async function l(e,t,n){for(;this._running;)await this._running;const i=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(i,i),this._running}function f(e,t,n){return this._pulse?d(this):(this.evaluate(e,t,n),this)}function c(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(e){this.error(e)}}function d(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function h(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function p(e,t){const n=e.source,a=this._clock;return n&&(0,s.kJ)(n)?new r.Z(this,a,n.map((e=>e.pulse)),t):this._input[e.id]||function(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==i.t&&(e.source=t.source),e)}(this._pulse,n&&n.pulse)}},52616:(e,t,n)=>{"use strict";n.d(t,{Fq:()=>a,Vx:()=>o,dC:()=>s});var i=n(91908);const r={skip:!1,force:!1};function a(e,t){const n=t||r;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function o(e,t,n){const i=n||r;return(e.set(t)||i.force)&&this.touch(e,i),this}function s(e,t,n){this.touch(e,n||r);const a=new i.Z(this,this._clock+(this._pulse?0:1)),o=e.pulse&&e.pulse.source||[];return a.target=e,this._input[e.id]=t.pulse(a,o),this}},98942:(e,t,n)=>{"use strict";n(72688)},55688:(e,t,n)=>{"use strict";function i(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),r(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let i;return t.length?(i=t[0],t[0]=n,function(e,t,n){const i=t,a=e.length,o=e[t];let s,u=1+(t<<1);for(;u<a;)s=u+1,s<a&&n(e[u],e[s])>=0&&(u=s),e[t]=e[u],u=1+((t=u)<<1);e[t]=o,r(e,i,t,n)}(t,0,e)):i=n,i}}}function r(e,t,n,i){let r,a;const o=e[n];for(;n>t&&(a=n-1>>1,r=e[a],i(o,r)<0);)e[n]=r,n=a;return e[n]=o}n.d(t,{Z:()=>i})},2137:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(72688);function r(e){const t=e||i.yR,n=[],r={};return n.add=e=>{const i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=e=>{const i=t(e);if(r[i]){r[i]=0;const t=n.indexOf(e);t>=0&&n.splice(t,1)}return n},n}},56125:(e,t,n)=>{"use strict";async function i(e,t){try{await t(e)}catch(t){e.error(t)}}n.d(t,{Z:()=>i})},48991:(e,t,n)=>{"use strict";n.d(t,{t$:()=>i.t$,Lt:()=>i.Lt,BJ:()=>r.Z,YP:()=>a.Z,wk:()=>o.Z,_G:()=>s.Z});var i=n(79892),r=n(28558),a=n(76638),o=n(68763),s=n(20204)},79892:(e,t,n)=>{"use strict";n.d(t,{t$:()=>i,Lt:()=>r,ZP:()=>a});const i="Literal",r="CallExpression";function a(e){this.type=e}a.prototype.visit=function(e){let t,n,i;if(e(this))return 1;for(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case r:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),n=0,i=t.length;n<i;++n)if(t[n].visit(e))return 1}},76638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(20204),r=n(68763),a=n(72688);function o(e){const t=(e=e||{}).allowed?(0,a.Rg)(e.allowed):{},n=e.forbidden?(0,a.Rg)(e.forbidden):{},o=e.constants||i.Z,s=(e.functions||r.Z)(p),u=e.globalvar,l=e.fieldvar,f=(0,a.mf)(u)?u:e=>`${u}["${e}"]`;let c={},d={},h=0;function p(e){if((0,a.HD)(e))return e;const t=m[e.type];return null==t&&(0,a.vU)("Unsupported type: "+e.type),t(e)}const m={Literal:e=>e.raw,Identifier:e=>{const i=e.name;return h>0?i:(0,a.nr)(n,i)?(0,a.vU)("Illegal identifier: "+i):(0,a.nr)(o,i)?o[i]:(0,a.nr)(t,i)?i:(c[i]=1,f(i))},MemberExpression:e=>{const t=!e.computed,n=p(e.object);t&&(h+=1);const i=p(e.property);return n===l&&(d[function(e){const t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(i)]=1),t&&(h-=1),n+(t?"."+i:"["+i+"]")},CallExpression:e=>{"Identifier"!==e.callee.type&&(0,a.vU)("Illegal callee type: "+e.callee.type);const t=e.callee.name,n=e.arguments,i=(0,a.nr)(s,t)&&s[t];return i||(0,a.vU)("Unrecognized function: "+t),(0,a.mf)(i)?i(n):i+"("+n.map(p).join(",")+")"},ArrayExpression:e=>"["+e.elements.map(p).join(",")+"]",BinaryExpression:e=>"("+p(e.left)+" "+e.operator+" "+p(e.right)+")",UnaryExpression:e=>"("+e.operator+p(e.argument)+")",ConditionalExpression:e=>"("+p(e.test)+"?"+p(e.consequent)+":"+p(e.alternate)+")",LogicalExpression:e=>"("+p(e.left)+e.operator+p(e.right)+")",ObjectExpression:e=>"{"+e.properties.map(p).join(",")+"}",Property:e=>{h+=1;const t=p(e.key);return h-=1,t+":"+p(e.value)}};function g(e){const t={code:p(e),globals:Object.keys(c),fields:Object.keys(d)};return c={},d={},t}return g.functions=s,g.constants=o,g}},20204:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"}},68763:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(72688);function r(e){function t(t,n,i){return r=>function(t,n,i,r){let a=e(n[0]);return i&&(a=i+"("+a+")",0===i.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(r<0?"":0===r?"()":"("+n.slice(1).map(e).join(",")+")")}(t,r,n,i)}const n="new Date",r="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&(0,i.vU)("Missing arguments to clamp function."),t.length>3&&(0,i.vU)("Too many arguments to clamp function.");const n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),trim:t("trim",r,0),regexp:a,test:t("test",a),if:function(t){t.length<3&&(0,i.vU)("Missing arguments to if function."),t.length>3&&(0,i.vU)("Too many arguments to if function.");const n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}},28558:(e,t,n)=>{"use strict";n.d(t,{Z:()=>re});var i,r,a,o,s,u=n(79892);(i={})[1]="Boolean",i[2]="<end>",i[3]="Identifier",i[4]="Keyword",i[5]="Null",i[6]="Numeric",i[7]="Punctuator",i[8]="String",i[9]="RegularExpression";var l="Identifier",f="Unexpected token %0",c="Invalid regular expression",d="Invalid regular expression: missing /",h="Octal literals are not allowed in strict mode.",p="ILLEGAL",m="Disabled.",g=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),y=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function b(e,t){if(!e)throw new Error("ASSERT: "+t)}function v(e){return e>=48&&e<=57}function x(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function _(e){return"01234567".indexOf(e)>=0}function w(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function A(e){return 10===e||13===e||8232===e||8233===e}function k(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&g.test(String.fromCharCode(e))}function O(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&y.test(String.fromCharCode(e))}const D={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function E(){for(;a<o;){const e=r.charCodeAt(a);if(!w(e)&&!A(e))break;++a}}function F(e){var t,n,i,s=0;for(n="u"===e?4:2,t=0;t<n;++t)a<o&&x(r[a])?(i=r[a++],s=16*s+"0123456789abcdef".indexOf(i.toLowerCase())):U({},f,p);return String.fromCharCode(s)}function $(){var e,t,n,i;for(t=0,"}"===(e=r[a])&&U({},f,p);a<o&&x(e=r[a++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&U({},f,p),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),i=56320+(t-65536&1023),String.fromCharCode(n,i))}function C(){var e,t;for(e=r.charCodeAt(a++),t=String.fromCharCode(e),92===e&&(117!==r.charCodeAt(a)&&U({},f,p),++a,(e=F("u"))&&"\\"!==e&&k(e.charCodeAt(0))||U({},f,p),t=e);a<o&&O(e=r.charCodeAt(a));)++a,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==r.charCodeAt(a)&&U({},f,p),++a,(e=F("u"))&&"\\"!==e&&O(e.charCodeAt(0))||U({},f,p),t+=e);return t}function M(){var e,t,n,i,o=a,s=r.charCodeAt(a),u=r[a];switch(s){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++a,{type:7,value:String.fromCharCode(s),start:o,end:a};default:if(61===(e=r.charCodeAt(a+1)))switch(s){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return a+=2,{type:7,value:String.fromCharCode(s)+String.fromCharCode(e),start:o,end:a};case 33:case 61:return a+=2,61===r.charCodeAt(a)&&++a,{type:7,value:r.slice(o,a),start:o,end:a}}}return">>>="===(i=r.substr(a,4))?{type:7,value:i,start:o,end:a+=4}:">>>"===(n=i.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:o,end:a+=3}:u===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(u)>=0||"=>"===t?{type:7,value:t,start:o,end:a+=2}:("//"===t&&U({},f,p),"<>=!+-*%&|^/".indexOf(u)>=0?{type:7,value:u,start:o,end:++a}:void U({},f,p))}function R(){var e,t,n;if(b(v((n=r[a]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=a,e="","."!==n){if(e=r[a++],n=r[a],"0"===e){if("x"===n||"X"===n)return++a,function(e){let t="";for(;a<o&&x(r[a]);)t+=r[a++];return 0===t.length&&U({},f,p),k(r.charCodeAt(a))&&U({},f,p),{type:6,value:parseInt("0x"+t,16),start:e,end:a}}(t);if(_(n))return function(e){let t="0"+r[a++];for(;a<o&&_(r[a]);)t+=r[a++];return(k(r.charCodeAt(a))||v(r.charCodeAt(a)))&&U({},f,p),{type:6,value:parseInt(t,8),octal:!0,start:e,end:a}}(t);n&&v(n.charCodeAt(0))&&U({},f,p)}for(;v(r.charCodeAt(a));)e+=r[a++];n=r[a]}if("."===n){for(e+=r[a++];v(r.charCodeAt(a));)e+=r[a++];n=r[a]}if("e"===n||"E"===n)if(e+=r[a++],"+"!==(n=r[a])&&"-"!==n||(e+=r[a++]),v(r.charCodeAt(a)))for(;v(r.charCodeAt(a));)e+=r[a++];else U({},f,p);return k(r.charCodeAt(a))&&U({},f,p),{type:6,value:parseFloat(e),start:t,end:a}}function S(){if(E(),a>=o)return{type:2,start:a,end:a};const e=r.charCodeAt(a);return k(e)?(t=a,n=92===r.charCodeAt(a)?C():function(){var e,t;for(e=a++;a<o;){if(92===(t=r.charCodeAt(a)))return a=e,C();if(!O(t))break;++a}return r.slice(e,a)}(),{type:1===n.length?3:D.hasOwnProperty(n)?4:"null"===n?5:"true"===n||"false"===n?1:3,value:n,start:t,end:a}):40===e||41===e||59===e?M():39===e||34===e?function(){var e,t,n,i,s="",u=!1;for(b("'"===(e=r[a])||'"'===e,"String literal must starts with a quote"),t=a,++a;a<o;){if((n=r[a++])===e){e="";break}if("\\"===n)if((n=r[a++])&&A(n.charCodeAt(0)))"\r"===n&&"\n"===r[a]&&++a;else switch(n){case"u":case"x":"{"===r[a]?(++a,s+=$()):s+=F(n);break;case"n":s+="\n";break;case"r":s+="\r";break;case"t":s+="\t";break;case"b":s+="\b";break;case"f":s+="\f";break;case"v":s+="\v";break;default:_(n)?(0!==(i="01234567".indexOf(n))&&(u=!0),a<o&&_(r[a])&&(u=!0,i=8*i+"01234567".indexOf(r[a++]),"0123".indexOf(n)>=0&&a<o&&_(r[a])&&(i=8*i+"01234567".indexOf(r[a++]))),s+=String.fromCharCode(i)):s+=n}else{if(A(n.charCodeAt(0)))break;s+=n}}return""!==e&&U({},f,p),{type:8,value:s,octal:u,start:t,end:a}}():46===e?v(r.charCodeAt(a+1))?R():M():v(e)?R():M();var t,n}function B(){const e=s;return a=e.end,s=S(),a=e.end,e}function Z(){const e=a;s=S(),a=e}function T(e,t,n){const i=new u.ZP("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return i.operator=e,i.left=t,i.right=n,i}function P(e,t){const n=new u.ZP("CallExpression");return n.callee=e,n.arguments=t,n}function j(e){const t=new u.ZP(l);return t.name=e,t}function z(e){const t=new u.ZP("Literal");return t.value=e.value,t.raw=r.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function q(e,t,n){const i=new u.ZP("MemberExpression");return i.computed="["===e,i.object=t,i.property=n,i.computed||(n.member=!0),i}function N(e,t,n){const i=new u.ZP("Property");return i.key=t,i.value=n,i.kind=e,i}function U(e,t){var n,i=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\d)/g,((e,t)=>(b(t<i.length,"Message reference must be in range"),i[t])));throw(n=new Error(r)).index=a,n.description=r,n}function L(e){2===e.type&&U(e,"Unexpected end of input"),6===e.type&&U(e,"Unexpected number"),8===e.type&&U(e,"Unexpected string"),3===e.type&&U(e,"Unexpected identifier"),4===e.type&&U(e,"Unexpected reserved word"),U(e,f,e.value)}function I(e){const t=B();7===t.type&&t.value===e||L(t)}function W(e){return 7===s.type&&s.value===e}function X(e){return 4===s.type&&s.value===e}function V(){a=s.start;const e=B();return 8===e.type||6===e.type?(e.octal&&U(e,h),z(e)):j(e.value)}function H(){var e,t,n;return a=s.start,3===(e=s).type?(n=V(),I(":"),N("init",n,ne())):2!==e.type&&7!==e.type?(t=V(),I(":"),N("init",t,ne())):void L(e)}const J={if:1};function Y(){var e,t,n,i,g,y,v;if(W("("))return function(){I("(");const e=ie();return I(")"),e}();if(W("["))return function(){const e=[];for(a=s.start,I("[");!W("]");)W(",")?(B(),e.push(null)):(e.push(ne()),W("]")||I(","));return B(),function(e){const t=new u.ZP("ArrayExpression");return t.elements=e,t}(e)}();if(W("{"))return function(){var e,t,n=[],i={},r=String;for(a=s.start,I("{");!W("}");)t="$"+((e=H()).key.type===l?e.key.name:r(e.key.value)),Object.prototype.hasOwnProperty.call(i,t)?U({},"Duplicate data property in object literal not allowed in strict mode"):i[t]=!0,n.push(e),W("}")||I(",");return I("}"),function(e){const t=new u.ZP("ObjectExpression");return t.properties=e,t}(n)}();if(e=s.type,a=s.start,3===e||J[s.value])n=j(B().value);else if(8===e||6===e)s.octal&&U(s,h),n=z(B());else{if(4===e)throw new Error(m);1===e?((t=B()).value="true"===t.value,n=z(t)):5===e?((t=B()).value=null,n=z(t)):W("/")||W("/=")?(n=z((s=null,E(),i=a,g=function(){var e,t,n,i;for(b("/"===(e=r[a]),"Regular expression literal must start with a slash"),t=r[a++],n=!1,i=!1;a<o;)if(t+=e=r[a++],"\\"===e)A((e=r[a++]).charCodeAt(0))&&U({},d),t+=e;else if(A(e.charCodeAt(0)))U({},d);else if(n)"]"===e&&(n=!1);else{if("/"===e){i=!0;break}"["===e&&(n=!0)}return i||U({},d),{value:t.substr(1,t.length-2),literal:t}}(),y=function(){var e,t,n;for(t="",n="";a<o&&O((e=r[a]).charCodeAt(0));)++a,"\\"===e&&a<o?U({},f,p):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&U({},c,n),{value:n,literal:t}}(),v=function(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,((e,t)=>{if(parseInt(t,16)<=1114111)return"x";U({},c)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){U({},c)}try{return new RegExp(e,t)}catch(e){return null}}(g.value,y.value),{literal:g.literal+y.literal,value:v,regex:{pattern:g.value,flags:y.value},start:i,end:a})),Z()):L(B())}return n}function G(){const e=[];if(I("("),!W(")"))for(;a<o&&(e.push(ne()),!W(")"));)I(",");return I(")"),e}function K(){I("[");const e=ie();return I("]"),e}function Q(){const e=function(){var e;for(e=Y();;)if(W("."))e=q(".",e,(I("."),function(){a=s.start;const e=B();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||L(e),j(e.value)}()));else if(W("("))e=P(e,G());else{if(!W("["))break;e=q("[",e,K())}return e}();if(7===s.type&&(W("++")||W("--")))throw new Error(m);return e}function ee(){var e,t;if(7!==s.type&&4!==s.type)t=Q();else{if(W("++")||W("--"))throw new Error(m);if(W("+")||W("-")||W("~")||W("!"))e=B(),t=ee(),t=function(e,t){const n=new u.ZP("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(X("delete")||X("void")||X("typeof"))throw new Error(m);t=Q()}}return t}function te(e){let t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function ne(){var e,t;return e=function(){var e,t,n,i,r,a,o,u,l,f;if(e=s,l=ee(),0===(r=te(i=s)))return l;for(i.prec=r,B(),t=[e,s],a=[l,i,o=ee()];(r=te(s))>0;){for(;a.length>2&&r<=a[a.length-2].prec;)o=a.pop(),u=a.pop().value,l=a.pop(),t.pop(),n=T(u,l,o),a.push(n);(i=B()).prec=r,a.push(i),t.push(s),n=ee(),a.push(n)}for(n=a[f=a.length-1],t.pop();f>1;)t.pop(),n=T(a[f-1].value,a[f-2],n),f-=2;return n}(),W("?")&&(B(),t=ne(),I(":"),e=function(e,t,n){const i=new u.ZP("ConditionalExpression");return i.test=e,i.consequent=t,i.alternate=n,i}(e,t,ne())),e}function ie(){const e=ne();if(W(","))throw new Error(m);return e}function re(e){a=0,o=(r=e).length,s=null,Z();const t=ie();if(2!==s.type)throw new Error("Unexpect token after expression.");return t}},77699:(e,t,n)=>{"use strict";n.d(t,{Ds:()=>i.Ds,al:()=>r.al}),n(86220);var i=n(13531),r=n(45687)},45687:(e,t,n)=>{"use strict";n.d(t,{al:()=>s});var i=n(86220),r=n(13531),a=n(72688);const o=(e,t)=>(0,a.l7)({},e,t);function s(e,t){const n=arguments.length;return n&&2!==n&&(0,a.vU)("defaultLocale expects either zero or two arguments."),n?o((0,i.R7)(e),(0,r.Ds)(t)):o((0,i.R7)(),(0,r.Ds)())}},48514:(e,t,n)=>{"use strict";function i(e){const t={};return n=>t[n]||(t[n]=e(n))}n.d(t,{Z:()=>i})},86220:(e,t,n)=>{"use strict";n.d(t,{R7:()=>p});var i=n(48514),r=n(27109),a=n(90127),o=n(50371),s=n(91072),u=n(26067),l=n(46376),f=n(36814);function c(e){const t=(0,i.Z)(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(e){const n=(0,a.Z)(e||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return i=t(n),r=t(".1f")(1)[1],e=>{const t=i(e),n=t.indexOf(r);if(n<0)return t;let a=function(e,t){let n,i=e.lastIndexOf("e");if(i>0)return i;for(i=e.length;--i>t;)if(n=e.charCodeAt(i),n>=48&&n<=57)return i+1}(t,n);const o=a<t.length?t.slice(a):"";for(;--a>n;)if("0"!==t[a]){++a;break}return t.slice(0,a)+o}}return t(n);var i,r},formatSpan(e,i,l,f){f=(0,a.Z)(null==f?",f":f);const c=(0,r.ly)(e,i,l),d=Math.max(Math.abs(e),Math.abs(i));let h;if(null==f.precision)switch(f.type){case"s":return isNaN(h=(0,o.Z)(c,d))||(f.precision=h),n(f,d);case"":case"e":case"g":case"p":case"r":isNaN(h=(0,s.Z)(c,d))||(f.precision=h-("e"===f.type));break;case"f":case"%":isNaN(h=(0,u.Z)(c))||(f.precision=h-2*("%"===f.type))}return t(f)}}}let d;function h(e){return c((0,f.Z)(e))}function p(e){return arguments.length?d=h(e):d}d=c({format:l.WU,formatPrefix:l.jH})},13531:(e,t,n)=>{"use strict";n.d(t,{Ds:()=>d});var i=n(48514),r=n(36388),a=n(72688),o=n(69382),s=n(65986);function u(e,t,n){n=n||{},(0,a.Kn)(n)||(0,a.vU)(`Invalid time multi-format specifier: ${n}`);const i=t(r.kG),o=t(r.DZ),s=t(r.gd),u=t(r.Hu),l=t(r.ps),f=t(r.vc),c=t(r.PD),d=t(r.oP),h=e(n[r.cw]||".%L"),p=e(n[r.kG]||":%S"),m=e(n[r.DZ]||"%I:%M"),g=e(n[r.gd]||"%I %p"),y=e(n[r.Hu]||n[r.x4]||"%a %d"),b=e(n[r.ps]||"%b %d"),v=e(n[r.vc]||"%B"),x=e(n[r.PD]||"%B"),_=e(n[r.oP]||"%Y");return e=>(i(e)<e?h:o(e)<e?p:s(e)<e?m:u(e)<e?g:f(e)<e?l(e)<e?y:b:d(e)<e?c(e)<e?v:x:_)(e)}function l(e){const t=(0,i.Z)(e.format),n=(0,i.Z)(e.utcFormat);return{timeFormat:e=>(0,a.HD)(e)?t(e):u(t,r.JZ,e),utcFormat:e=>(0,a.HD)(e)?n(e):u(n,r.zr,e),timeParse:(0,i.Z)(e.parse),utcParse:(0,i.Z)(e.utcParse)}}let f;function c(e){return l((0,s.Z)(e))}function d(e){return arguments.length?f=c(e):f}f=l({format:o.i$,parse:o.Z1,utcFormat:o.g0,utcParse:o.wp})},41275:(e,t,n)=>{"use strict";n.d(t,{jB:()=>oe,b5:()=>ee,BJ:()=>se});var i=n(72688),r=n(48991),a=n(72358),o=n(54820),s=n(42487),u=n(45104),l=n(46401),f=n(287),c=n(79885),d=n(1872),h=n(16023),p=n(12116),m=n(36388),g=n(83152),y=n(62165),b=n(51103),v=n(30732),x=n(78081),_=n(99851),w=n(8081),A=n(91595),k=n(34254);function O(e){const t=this.context.data[e];return t?t.values.value:[]}const D=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},E=D("format"),F=D("timeFormat"),$=D("utcFormat"),C=D("timeParse"),M=D("utcParse"),R=new Date(2e3,0,1);function S(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(R.setYear(2e3),R.setMonth(e),R.setDate(t),F.call(this,R,n)):""}function B(e,t,n,a){t[0].type!==r.t$&&(0,i.vU)("First argument to data functions must be a string literal.");const o=t[0].value,s=":"+o;if(!(0,i.nr)(s,a))try{a[s]=n.getData(o).tuplesRef()}catch(e){}}function Z(e,t,n,i){if(t[0].type===r.t$)T(n,i,t[0].value);else for(e in n.scales)T(n,i,e)}function T(e,t,n){const r="%"+n;if(!(0,i.nr)(t,r))try{t[r]=e.scaleRef(n)}catch(e){}}function P(e,t){let n;return(0,i.mf)(e)?e:(0,i.HD)(e)?(n=t.scales[e])&&n.value:void 0}function j(e,t){return function(n,i,r){if(n){const t=P(n,(r||this).context);return t&&t.path[e](i)}return t(i)}}const z=j("area",a.ZP),q=j("bounds",o.Z),N=j("centroid",s.Z);function U(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(t){e.warn(t)}return n[n.length-1]}function L(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function I(e){const t=(0,u.B8)(e);return.2126*L(t.r)+.7152*L(t.g)+.0722*L(t.b)}function W(e,t){return e===t||e!=e&&t!=t||((0,i.kJ)(e)?!(!(0,i.kJ)(t)||e.length!==t.length)&&function(e,t){for(let n=0,i=e.length;n<i;++n)if(!W(e[n],t[n]))return!1;return!0}(e,t):!(!(0,i.Kn)(e)||!(0,i.Kn)(t))&&X(e,t))}function X(e,t){for(const n in e)if(!W(e[n],t[n]))return!1;return!0}function V(e){return t=>X(e,t)}const H={};function J(e){return(0,i.kJ)(e)||ArrayBuffer.isView(e)?e:null}function Y(e){return J(e)||((0,i.HD)(e)?e:null)}const G=e=>e.data;function K(e,t){const n=O.call(t,e);return n.root&&n.root.lookup||{}}const Q=()=>"undefined"!=typeof window&&window||null,ee={random:()=>(0,p.MX)(),cumulativeNormal:p.Nn,cumulativeLogNormal:p.hz,cumulativeUniform:p.rH,densityNormal:p.Dg,densityLogNormal:p.Q3,densityUniform:p.ah,quantileNormal:p.if,quantileLogNormal:p.HA,quantileUniform:p.At,sampleNormal:p.Tp,sampleLogNormal:p.K,sampleUniform:p.nP,isArray:i.kJ,isBoolean:i.jn,isDate:i.J_,isDefined:e=>void 0!==e,isNumber:i.hj,isObject:i.Kn,isRegExp:i.Kj,isString:i.HD,isTuple:f.x3,isValid:e=>null!=e&&e==e,toBoolean:i.sw,toDate:i.ZU,toNumber:i.He,toString:i.BB,indexof:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Y(e).indexOf(...n)},join:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return J(e).join(...n)},lastindexof:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Y(e).lastIndexOf(...n)},replace:function(e,t,n){return(0,i.mf)(n)&&(0,i.vU)("Function argument passed to replace."),String(e).replace(t,n)},reverse:function(e){return J(e).slice().reverse()},slice:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Y(e).slice(...n)},flush:i.yl,lerp:i.t7,merge:function(){const e=[].slice.call(arguments);return e.unshift({}),(0,i.l7)(...e)},pad:i.vk,peek:i.fj,pluck:function(e,t){const n=H[t]||(H[t]=(0,i.EP)(t));return(0,i.kJ)(e)?e.map(n):n(e)},span:i.yP,inrange:i.u5,truncate:i.$G,rgb:u.B8,lab:l.ZP,hcl:l.Uc,hsl:u.Ym,luminance:I,contrast:function(e,t){const n=I(e),i=I(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},easeCubic:y.tw,easeLinear:b.G,easeQuadIn:v.Kl,easeQuadOut:v.u4,easeQuadInOut:v.U2,easeCubicIn:y.yD,easeCubicOut:y._e,easeCubicInOut:y.tw,easeSinIn:x.yx,easeSinOut:x.Dh,easeSinInOut:x.xU,easeExpIn:_.oP,easeExpOut:_.M4,easeExpInOut:_.Oo,easeCircleIn:w.rf,easeCircleOut:w.v2,easeCircleInOut:w.WE,easeBounceIn:A.h9,easeBounceOut:A.gJ,easeBounceInOut:A.yD,interpolateCatmullRom:function(e,t){return 1===e.length?e[0]:(0,k.Z)(e)(t)},sequence:g.Z,format:E,utcFormat:$,utcParse:M,utcOffset:m._M,utcSequence:m.MC,timeFormat:F,timeParse:C,timeOffset:m.Vm,timeSequence:m.uA,timeUnitSpecifier:m.iJ,monthFormat:function(e){return S.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return S.call(this,e,1,"%b")},dayFormat:function(e){return S.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return S.call(this,0,2+e,"%a")},quarter:i.mS,utcquarter:i.N3,week:m.g0,utcweek:m.aw,dayofyear:m.y_,utcdayofyear:m.zk,warn:function(){return U(this.context.dataflow,"warn",arguments)},info:function(){return U(this.context.dataflow,"info",arguments)},debug:function(){return U(this.context.dataflow,"debug",arguments)},extent:i.We,inScope:function(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];const[r,a]=e,o=(new d.YZ).set(r[0],r[1],a[0],a[1]),s=n||this.context.dataflow.scenegraph().root;return(0,d.wf)(s,o,function(e){let t=null;if(e){const n=(0,i.IX)(e.marktype),r=(0,i.IX)(e.markname);t=e=>(!n.length||n.some((t=>e.marktype===t)))&&(!r.length||r.some((t=>e.name===t)))}return t}(t))},clampRange:i.l$,pinchDistance:function(e){const t=e.touches,n=t[0].clientX-t[1].clientX,i=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+i*i)},pinchAngle:function(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){const e=Q();return e?e.screen:{}},containerSize:function(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){const e=Q();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return(0,c.U6)(e||0,t||0,n||0)},setdata:function(e,t){const n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(i.yb).insert(t)),1},pathShape:function(e){let t=null;return function(n){return n?(0,d.dW)(n,t=t||(0,d.LY)(e)):e}},panLinear:i.Dw,panLog:i.mJ,panPow:i.QA,panSymlog:i.Zw,zoomLinear:i.ay,zoomLog:i.dH,zoomPow:i.mK,zoomSymlog:i.bV,encode:function(e,t,n){if(e){const n=this.context.dataflow,i=e.mark.source;n.pulse(i,n.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,a,o){const s=this.context.dataflow,u=this.context.data[e],l=u.input,c=s.stamp();let d,h,p=u.changes;if(!1===s._trigger||!(l.value.length||t||r))return 0;if((!p||p.stamp<c)&&(u.changes=p=s.changeset(),p.stamp=c,s.runAfter((()=>{u.modified=!0,s.pulse(l,p).run()}),!0,1)),n&&(d=!0===n?i.yb:(0,i.kJ)(n)||(0,f.x3)(n)?n:V(n),p.remove(d)),t&&p.insert(t),r&&(d=V(r),l.value.some(d)?p.remove(d):p.insert(r)),a)for(h in o)p.modify(a,h,o[h]);return 1}},te=["view","item","group","xy","x","y"],ne="this.",ie={},re={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>"_[".concat((0,i.m8)("$"+e),"]"),functions:function(e){const t=(0,r.wk)(e);te.forEach((e=>t[e]="event.vega."+e));for(const e in ee)t[e]=ne+e;return(0,i.l7)(t,function(e,t,n){t.__bandwidth=e=>e&&e.bandwidth?e.bandwidth():0,n._bandwidth=Z,n._range=Z,n._scale=Z;const a=t=>"_["+(t.type===r.t$?(0,i.m8)("%"+t.value):(0,i.m8)("%")+"+"+e(t))+"]";return{_bandwidth:e=>"this.__bandwidth(".concat(a(e[0]),")"),_range:e=>"".concat(a(e[0]),".range()"),_scale:t=>"".concat(a(t[0]),"(").concat(e(t[1]),")")}}(e,ee,ie)),t},constants:r._G,visitors:ie},ae=(0,r.YP)(re);function oe(e,t,n){return 1===arguments.length?ee[e]:(ee[e]=t,n&&(ie[e]=n),ae&&(ae.functions[e]=ne+e),this)}function se(e,t){const n={};let a;try{e=(0,i.HD)(e)?e:(0,i.m8)(e)+"",a=(0,r.BJ)(e)}catch(t){(0,i.vU)("Expression parse error: "+e)}a.visit((e=>{if(e.type!==r.Lt)return;const i=e.callee.name,a=re.visitors[i];a&&a(i,e.arguments,t,n)}));const o=ae(a);return o.globals.forEach((e=>{const r="$"+e;!(0,i.nr)(n,r)&&t.getSignal(e)&&(n[r]=t.signalRef(e))})),{$expr:(0,i.l7)({code:o.code},t.options.ast?{ast:a}:null),$fields:o.fields,$params:n}}oe("bandwidth",(function(e,t){const n=P(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),Z),oe("copy",(function(e,t){const n=P(e,(t||this).context);return n?n.copy():void 0}),Z),oe("domain",(function(e,t){const n=P(e,(t||this).context);return n?n.domain():[]}),Z),oe("range",(function(e,t){const n=P(e,(t||this).context);return n&&n.range?n.range():[]}),Z),oe("invert",(function(e,t,n){const r=P(e,(n||this).context);return r?(0,i.kJ)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),Z),oe("scale",(function(e,t,n){const i=P(e,(n||this).context);return i?i(t):void 0}),Z),oe("gradient",(function(e,t,n,r,a){e=P(e,(a||this).context);const o=(0,d.ph)(t,n);let s=e.domain(),u=s[0],l=(0,i.fj)(s),f=i.yR;return l-u?f=(0,c.NR)(e,u,l):e=(e.interpolator?(0,c.bA)("sequential")().interpolator(e.interpolator()):(0,c.bA)("linear")().interpolate(e.interpolate()).range(e.range())).domain([u=0,l=1]),e.ticks&&(s=e.ticks(+r||15),u!==s[0]&&s.unshift(u),l!==(0,i.fj)(s)&&s.push(l)),s.forEach((t=>o.stop(f(t),e(t)))),o}),Z),oe("geoArea",z,Z),oe("geoBounds",q,Z),oe("geoCentroid",N,Z),oe("geoShape",(function(e,t,n){const i=P(e,(n||this).context);return function(e){return i?i.path.context(e)(t):""}}),Z),oe("indata",(function(e,t,n){const i=this.context.data[e]["index:"+t],r=i?i.value.get(n):void 0;return r?r.count:r}),(function(e,t,n,a){t[0].type!==r.t$&&(0,i.vU)("First argument to indata must be a string literal."),t[1].type!==r.t$&&(0,i.vU)("Second argument to indata must be a string literal.");const o=t[0].value,s=t[1].value,u="@"+s;(0,i.nr)(u,a)||(a[u]=n.getData(o).indataRef(n,s))})),oe("fieldvaluesforkey",(function(e,t,n,i){const r=this.context.data[e];return r?r.values.value.filter((e=>e[n]==i)).map((e=>e[t])):[]}),B),oe("data",O,B),oe("treePath",(function(e,t,n){const i=K(e,this),r=i[t],a=i[n];return r&&a?r.path(a).map(G):void 0}),B),oe("treeAncestors",(function(e,t){const n=K(e,this)[t];return n?n.ancestors().map(G):void 0}),B),oe("vlSelectionTest",h.FN,h.ow),oe("vlSelectionIdTest",h.VF,h.ow),oe("vlSelectionResolve",h.Wj,h.ow),oe("vlSelectionTuples",h.wy)},83152:(e,t,n)=>{"use strict";function i(e,t,n){e=+e,t=+t,n=(r=arguments.length)<2?(t=e,e=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(r);++i<r;)a[i]=e+i*n;return a}n.d(t,{Z:()=>i})},81250:(e,t,n)=>{"use strict";n.d(t,{_m:()=>M,ij:()=>C,hh:()=>$});var i=n(72688),r=n(55735),a=n(16117),o=n(1227),s=n(77699);const u=/^(data:|([A-Za-z]+:)?\/\/)/,l=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,f=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,c="file://";async function d(e,t){const n=await this.sanitize(e,t),i=n.href;return n.localFile?this.file(i):this.http(i,t)}async function h(e,t){t=(0,i.l7)({},this.options,t);const n=this.fileAccess,r={href:null};let a,o,s;const d=l.test(e.replace(f,""));null!=e&&"string"==typeof e&&d||(0,i.vU)("Sanitize failure, invalid URI: "+(0,i.m8)(e));const h=u.test(e);return(s=t.baseURL)&&!h&&(e.startsWith("/")||s.endsWith("/")||(e="/"+e),e=s+e),o=(a=e.startsWith(c))||"file"===t.mode||"http"!==t.mode&&!h&&n,a?e=e.slice(c.length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function p(e){return e?t=>new Promise(((n,i)=>{e.readFile(t,((e,t)=>{e?i(e):n(t)}))})):m}async function m(){(0,i.vU)("No file system access.")}function g(e){return e?async function(t,n){const r=(0,i.l7)({},this.options.http,n),a=n&&n.response,o=await e(t,r);return o.ok?(0,i.mf)(o[a])?o[a]():o.text():(0,i.vU)(o.status+""+o.statusText)}:y}async function y(){(0,i.vU)("No HTTP fetch method available.")}const b=e=>!(Number.isNaN(+e)||e instanceof Date),v={boolean:i.sw,integer:i.He,number:i.He,date:i.ZU,string:i.BB,unknown:i.yR},x=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>b(e)&&Number.isInteger(+e),b,e=>!Number.isNaN(Date.parse(e))],_=["boolean","integer","number","date"];function w(e){const t=function(t,n){const r={delimiter:e};return A(t,n?(0,i.l7)(n,r):r)};return t.responseType="text",t}function A(e,t){return t.header&&(e=t.header.map(i.m8).join(t.delimiter)+"\n"+e),(0,r.Z)(t.delimiter).parse(e+"")}function k(e,t){const n=t&&t.property?(0,i.EP)(t.property):i.yR;return!(0,i.Kn)(e)||(r=e,"function"==typeof Buffer&&(0,i.mf)(Buffer.isBuffer)&&Buffer.isBuffer(r))?n(JSON.parse(e)):function(e,t){return!(0,i.kJ)(e)&&(0,i.TW)(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}(n(e),t);var r}A.responseType="text",k.responseType="json";const O={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function D(e,t){let n,r,s,u;return e=k(e,t),t&&t.feature?(n=a.Z,s=t.feature):t&&t.mesh?(n=o.Z,s=t.mesh,u=O[t.filter]):(0,i.vU)("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[s])?n(e,r,u):(0,i.vU)("Invalid TopoJSON object: "+s),r&&r.features||[r]}D.responseType="json";const E={dsv:A,csv:w(","),tsv:w("\t"),json:k,topojson:D};function F(e,t){return arguments.length>1?(E[e]=t,this):(0,i.nr)(E,e)?E[e]:null}function $(e){const t=F(e);return t&&t.responseType||"text"}function C(e,t,n,r){const a=F((t=t||{}).type||"json");return a||(0,i.vU)("Unknown data format type: "+t.type),e=a(e,t),t.parse&&function(e,t,n,i){if(!e.length)return;const r=(0,s.Ds)();n=n||r.timeParse,i=i||r.utcParse;let a,o,u,l,f,c,d=e.columns||Object.keys(e[0]);"auto"===t&&(t=function(e,t){return t.reduce(((t,n)=>(t[n]=function(e,t){if(!e||!e.length)return"unknown";const n=e.length,i=x.length,r=x.map(((e,t)=>t+1));for(let o,s,u=0,l=0;u<n;++u)for(s=t?e[u][t]:e[u],o=0;o<i;++o)if(r[o]&&null!=(a=s)&&a==a&&!x[o](s)&&(r[o]=0,++l,l===x.length))return"string";var a;return _[r.reduce(((e,t)=>0===e?t:e),0)-1]}(e,n),t)),{})}(e,d)),d=Object.keys(t);const h=d.map((e=>{const r=t[e];let a,o;if(r&&(r.startsWith("date:")||r.startsWith("utc:")))return a=r.split(/:(.+)?/,2),o=a[1],("'"===o[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.slice(1,-1)),("utc"===a[0]?i:n)(o);if(!v[r])throw Error("Illegal format pattern: "+e+":"+r);return v[r]}));for(u=0,f=e.length,c=d.length;u<f;++u)for(a=e[u],l=0;l<c;++l)o=d[l],a[o]=h[l](a[o])}(e,t.parse,n,r),(0,i.nr)(e,"columns")&&delete e.columns,e}const M=function(e,t){return t=>({options:t||{},sanitize:h,load:d,fileAccess:!1,file:p(null),http:g(e)})}("undefined"!=typeof fetch&&fetch)},79885:(e,t,n)=>{"use strict";n.d(t,{U6:()=>i.Z,NR:()=>r.NR,bA:()=>a.bA,lK:()=>a.lK,A_:()=>o.A});var i=n(65716),r=n(22579),a=n(33786),o=(n(21736),n(71263),n(58027),n(92551))},92551:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(58027),r=n(46465),a=n(33786),o=n(72688);function s(e,t,n){n=n||{};const s=Math.max(3,n.maxlen||7),u=function(e,t,n,s){const u=s||t.type;return(0,o.HD)(n)&&(0,a.IC)(u)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||u!==r.qp?n||u!==r.zR?(0,i.n7)(e,t,5,null,n,s,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,n.format,n.formatType);if((0,a.WE)(t.type)){const e=(0,i.PL)(t).slice(1).map(u),n=e.length;return`${n} boundar${1===n?"y":"ies"}: ${e.join(", ")}`}if((0,a.lK)(t.type)){const e=t.domain(),n=e.length;return`${n} value${1===n?"":"s"}: ${n>s?e.slice(0,s-2).map(u).join(", ")+", ending with "+e.slice(-1).map(u):e.map(u).join(", ")}`}{const e=t.domain();return`values from ${u(e[0])} to ${u((0,o.fj)(e))}`}}},22579:(e,t,n)=>{"use strict";n.d(t,{Nz:()=>u,NR:()=>l});var i=n(33786),r=n(72688),a=n(90518),o=n(61813);const s=["clamp","base","constant","exponent"];function u(e,t,n){return a.Z(function(e,t){const n=o[function(e){return"interpolate"+e.toLowerCase().split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}(t||"rgb",n),e)}function l(e,t,n){const a=n-t;let o,u,l;return a&&Number.isFinite(a)?(o=(u=e.type).indexOf("-"),u=o<0?u:u.slice(o+1),l=(0,i.bA)(u)().domain([t,n]).range([0,1]),s.forEach((t=>e[t]?l[t](e[t]()):0)),l):(0,r.a9)(.5)}},58027:(e,t,n)=>{"use strict";n.d(t,{PL:()=>l,n7:()=>f});var i=n(89026),r=n(46465),a=n(71263),o=n(72688);const s={[r.cO]:"quantiles",[r.J$]:"thresholds",[r.Ms]:"domain"},u={[r.cO]:"quantiles",[r.J$]:"domain"};function l(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=(0,o.fj)(e),t}(e.bins):e.type===r.Zb?(0,a.DE)(e,t,!0):s[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[s[e.type]]()):(0,a.DP)(e,t)}function f(e,t,n,o,l,f,d){const m=u[t.type]&&f!==r.qp&&f!==r.zR?function(e,t,n){const i=t[u[t.type]](),r=i.length;let a,o=r>1?i[1]-i[0]:i[0];for(a=1;a<r;++a)o=Math.min(o,i[a]-i[a-1]);return e.formatSpan(0,o,30,n)}(e,t,l):(0,a.uk)(e,t,n,l,f,d);return o===i.UX&&(e=>s[e.type]||e.bins)(t)?c(m):o===i.Wv?h(m):p(m)}const c=e=>(t,n,i)=>{const r=d(i[n+1],d(i.max,1/0)),a=m(t,e),o=m(r,e);return a&&o?a+" – "+o:o?"< "+o:"≥ "+a},d=(e,t)=>null!=e?e:t,h=e=>(t,n)=>n?e(t):null,p=e=>t=>e(t),m=(e,t)=>Number.isFinite(e)?t(e):null},89026:(e,t,n)=>{"use strict";n.d(t,{UX:()=>i,Wv:()=>r});const i="symbol",r="discrete"},60533:(e,t,n)=>{"use strict";n.d(t,{u:()=>i,T:()=>r});const i={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},r={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"}},33786:(e,t,n)=>{"use strict";n.d(t,{bA:()=>k,lK:()=>E,WE:()=>F,dh:()=>$,IC:()=>C});var i=n(72688),r=n(26211),a=n(29809),o=n(46465),s=n(62986),u=n(41917),l=n(49533),f=n(40917),c=n(2468),d=n(2587),h=n(15012),p=n(17747),m=n(4540),g=n(71022),y=n(94246),b=n(95581),v=n(44353),x=n(62313),_=n(46208);const w={};function A(e,t,n){const o=function(){const n=t();return n.invertRange||(n.invertRange=n.invert?(0,r.Z)(n):n.invertExtent?(0,a.Z)(n):void 0),n.type=e,n};return o.metadata=(0,i.Rg)((0,i.IX)(n)),o}function k(e,t,n){return arguments.length>1?(w[e]=A(e,t,n),this):O(e)?w[e]:void 0}function O(e){return(0,i.nr)(w,e)}function D(e,t){const n=w[e];return n&&n.metadata[t]}function E(e){return D(e,o.lh)}function F(e){return D(e,o._l)}function $(e){return D(e,o.Zb)}function C(e){return D(e,o.AT)}k(o.iJ,l.Z),k(o.bJ,f.Z,o.Vc),k(o.Zb,c.Z,[o.Vc,o.Zb]),k(o.pe,d.ZP,o.Vc),k(o.FK,d._b,o.Vc),k(o.PB,h.Z,o.Vc),k(o.qp,p.Z,[o.Vc,o.AT]),k(o.zR,m.Z,[o.Vc,o.AT]),k(o.sb,g.ZP,[o.Vc,o.CF]),k(`${o.sb}-${o.bJ}`,g.ZP,[o.Vc,o.CF]),k(`${o.sb}-${o.Zb}`,g.S5,[o.Vc,o.CF,o.Zb]),k(`${o.sb}-${o.pe}`,g.UN,[o.Vc,o.CF]),k(`${o.sb}-${o.FK}`,g.L2,[o.Vc,o.CF]),k(`${o.sb}-${o.PB}`,g.cV,[o.Vc,o.CF]),k(`${o.QZ}-${o.bJ}`,y.ZP,[o.Vc,o.CF]),k(`${o.QZ}-${o.Zb}`,y.QA,[o.Vc,o.CF,o.Zb]),k(`${o.QZ}-${o.pe}`,y.ld,[o.Vc,o.CF]),k(`${o.QZ}-${o.FK}`,y.Km,[o.Vc,o.CF]),k(`${o.QZ}-${o.PB}`,y.UM,[o.Vc,o.CF]),k(o.cO,b.Z,[o._l,o.cO]),k(o.J$,v.Z,o._l),k(o.Ms,x.Z,o._l),k(o.a7,u.p,[o.lh,o._l]),k(o.r7,_.Z,o.lh),k(o.td,s.S,o.lh),k(o.E9,s.x,o.lh)},65716:(e,t,n)=>{"use strict";function i(e,t,n){const i=e-t+2*n;return e?i>0?i:1:0}n.d(t,{Z:()=>i})},26211:(e,t,n)=>{"use strict";function i(e){return function(t){let n,i=t[0],r=t[1];return r<i&&(n=i,i=r,r=n),[e.invert(i),e.invert(r)]}}n.d(t,{Z:()=>i})},29809:(e,t,n)=>{"use strict";function i(e){return function(t){const n=e.range();let i,r,a,o,s=t[0],u=t[1],l=-1;for(u<s&&(r=s,s=u,u=r),a=0,o=n.length;a<o;++a)n[a]>=s&&n[a]<=u&&(l<0&&(l=a),i=a);if(!(l<0))return s=e.invertExtent(n[l]),u=e.invertExtent(n[i]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}}n.d(t,{Z:()=>i})},51609:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var i=n(72688),r=Array.prototype.map;function a(e){return r.call(e,i.He)}},62986:(e,t,n)=>{"use strict";n.d(t,{S:()=>s,x:()=>l});var i=n(65716),r=n(82118),a=n(27639),o=n(46208);function s(){const e=(0,o.Z)().unknown(void 0),t=e.domain,n=e.range;let u,l,f=[0,1],c=!1,d=0,h=0,p=.5;function m(){const e=t().length,a=f[1]<f[0],o=f[1-a],s=(0,i.Z)(e,d,h);let m=f[a-0];u=(o-m)/(s||1),c&&(u=Math.floor(u)),m+=(o-m-u*(e-d))*p,l=u*(1-d),c&&(m=Math.round(m),l=Math.round(l));const g=(0,r.Z)(e).map((e=>m+u*e));return n(a?g.reverse():g)}return delete e.unknown,e.domain=function(e){return arguments.length?(t(e),m()):t()},e.range=function(e){return arguments.length?(f=[+e[0],+e[1]],m()):f.slice()},e.rangeRound=function(e){return f=[+e[0],+e[1]],c=!0,m()},e.bandwidth=function(){return l},e.step=function(){return u},e.round=function(e){return arguments.length?(c=!!e,m()):c},e.padding=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),d=h,m()):d},e.paddingInner=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),m()):d},e.paddingOuter=function(e){return arguments.length?(h=Math.max(0,Math.min(1,e)),m()):h},e.align=function(e){return arguments.length?(p=Math.max(0,Math.min(1,e)),m()):p},e.invertRange=function(e){if(null==e[0]||null==e[1])return;const i=f[1]<f[0],r=i?n().reverse():n(),o=r.length-1;let s,u,c,d=+e[0],h=+e[1];return d!=d||h!=h||(h<d&&(c=d,d=h,h=c),h<r[0]||d>f[1-i])?void 0:(s=Math.max(0,(0,a.ml)(r,d)-1),u=d===h?s:(0,a.ml)(r,h)-1,d-r[s]>l+1e-10&&++s,i&&(c=s,s=o-u,u=o-c),s>u?void 0:t().slice(s,u+1))},e.invert=function(t){const n=e.invertRange([t,t]);return n?n[0]:n},e.copy=function(){return s().domain(t()).range(f).round(c).paddingInner(d).paddingOuter(h).align(p)},m()}function u(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return u(t())},e}function l(){return u(s().paddingInner(1))}},41917:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var i=n(27639),r=n(55740),a=n(72688),o=n(51609),s=n(15667);function u(){let e=[],t=[];function n(n){return null==n||n!=n?void 0:t[((0,i.ZP)(e,n)-1)%t.length]}return n.domain=function(t){return arguments.length?(e=(0,o.K)(t),n):e.slice()},n.range=function(e){return arguments.length?(t=s.t.call(e),n):t.slice()},n.tickFormat=function(t,n){return(0,r.Z)(e[0],(0,a.fj)(e),null==t?10:t,n)},n.copy=function(){return u().domain(n.domain()).range(n.range())},n}},15667:(e,t,n)=>{"use strict";n.d(t,{t:()=>i});const i=Array.prototype.slice},46465:(e,t,n)=>{"use strict";n.d(t,{iJ:()=>i,bJ:()=>r,Zb:()=>a,pe:()=>o,FK:()=>s,PB:()=>u,qp:()=>l,zR:()=>f,sb:()=>c,QZ:()=>d,cO:()=>h,J$:()=>p,Ms:()=>m,r7:()=>g,E9:()=>y,td:()=>b,a7:()=>v,Vc:()=>x,lh:()=>_,_l:()=>w,CF:()=>A,AT:()=>k});const i="identity",r="linear",a="log",o="pow",s="sqrt",u="symlog",l="time",f="utc",c="sequential",d="diverging",h="quantile",p="quantize",m="threshold",g="ordinal",y="point",b="band",v="bin-ordinal",x="continuous",_="discrete",w="discretizing",A="interpolating",k="temporal"},21736:(e,t,n)=>{"use strict";var i=n(60533),r=n(22579);function a(e){const t=e.length/6|0,n=new Array(t);for(let i=0;i<t;)n[i]="#"+e.slice(6*i,6*++i);return n}function o(e,t){for(const n in e)u(n,t(e[n]))}const s={};function u(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(s[e]=t,this):s[e]}o(i.T,a),o(i.u,(e=>(0,r.Nz)(a(e))))},71263:(e,t,n)=>{"use strict";n.d(t,{DP:()=>l,uk:()=>f,DE:()=>c});var i=n(33786),r=n(46465),a=(n(36388),n(72688));const o=e=>(0,a.kJ)(e)?e.map((e=>String(e))):String(e),s=(e,t)=>e[1]-t[1],u=(e,t)=>t[1]-e[1];function l(e,t){return e.bins?function(e,t,n){let i=e.range(),r=i[0],o=(0,a.fj)(i),l=s;return r>o&&(i=o,o=r,r=i,l=u),r=Math.floor(r),o=Math.ceil(o),t=t.map((t=>[t,e(t)])).filter((e=>r<=e[1]&&e[1]<=o)).sort(l).map((e=>e[0]))}(e,e.bins):e.ticks?e.ticks(t):e.domain()}function f(e,t,n,a,s,u){const l=t.type;let f=o;if(l===r.qp||s===r.qp)f=e.timeFormat(a);else if(l===r.zR||s===r.zR)f=e.utcFormat(a);else if((0,i.dh)(l)){const i=e.formatFloat(a);if(u||t.bins)f=i;else{const e=c(t,n,!1);f=t=>e(t)?i(t):""}}else if(t.tickFormat){const i=t.domain();f=e.formatSpan(i[0],i[i.length-1],n,a)}else a&&(f=e.format(a));return f}function c(e,t,n){const i=l(e,t),r=e.base(),a=Math.log(r),o=Math.max(1,r*t/i.length),s=e=>{let t=e/Math.pow(r,Math.round(Math.log(e)/a));return t*r<r-.5&&(t*=r),t<=o};return n?i.filter(s):s}},1872:(e,t,n)=>{"use strict";n.d(t,{YZ:()=>i.Z,ph:()=>r.ZP,wf:()=>a.w,LY:()=>o.Z,dW:()=>s.Z}),n(25909);var i=n(71604),r=n(63911),a=(n(12185),n(13677),n(19449),n(22995),n(11991),n(60273),n(8093),n(77648),n(56239),n(83591),n(52505),n(16828),n(32609)),o=(n(84907),n(2720),n(23075),n(76514),n(98986),n(8245),n(79855),n(37632),n(3517)),s=n(33167);n(89194),n(10917),n(60690),n(38077)},71604:(e,t,n)=>{"use strict";function i(e){this.clear(),e&&this.union(e)}n.d(t,{Z:()=>i}),i.prototype={clone(){return new i(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,i){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),i<t?(this.y2=t,this.y1=i):(this.y1=t,this.y2=i),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const i=this.rotatedPoints(e,t,n);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])},rotatedPoints(e,t,n){var{x1:i,y1:r,x2:a,y2:o}=this,s=Math.cos(e),u=Math.sin(e),l=t-t*s+n*u,f=n-t*u-n*s;return[s*i-u*r+l,u*i+s*r+f,s*i-u*o+l,u*i+s*o+f,s*a-u*r+l,u*a+s*r+f,s*a-u*o+l,u*a+s*o+f]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}}},8093:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(11991),r=n(84907),a=n(98914),o=n(61125),s=n(79464);function u(e,t){i.Z.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function l(e,t){(e=>e===a.Nk||e===a.$z||e===a.Th?[a.Nk,a.$z,a.Th]:[e])(t).forEach((t=>function(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?n=>e[t](n):n=>e.fire(t,n)))}(e,t)))}function f(e,t,n){return function(i){const r=this._active,a=this.pickEvent(i);a===r||(r&&r.exit||this.fire(n,i),this._active=a,this.fire(t,i)),this.fire(e,i)}}function c(e){return function(t){this.fire(e,t),this._active=null}}(0,n(72688).XW)(u,i.Z,{initialize(e,t,n){return this._canvas=e&&(0,s.nz)(e,"canvas"),[a.Rd,a.Y0,a.cH,a.AJ,a.zd].forEach((e=>l(this,e))),i.Z.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:a.zW,DOMMouseScroll(e){this.fire(a.C$,e)},mousemove:f(a.cH,a.QG,a.AJ),dragover:f(a.TL,a.vf,a.zd),mouseout:c(a.AJ),dragleave:c(a.zd),mousedown(e){this._down=this._active,this.fire(a.Y0,e)},click(e){this._down===this._active&&(this.fire(a.Rd,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(a.Nk,e,!0)},touchmove(e){this.fire(a.$z,e,!0)},touchend(e){this.fire(a.Th,e,!0),this._touch=null},fire(e,t,n){const i=n?this._touch:this._active,r=this._handlers[e];if(t.vegaType=e,e===a.Rn&&i&&i.href?this.handleHref(t,i,i.href):e!==a.vq&&e!==a.ZY||this.handleTooltip(t,i,e!==a.ZY),r)for(let e=0,n=r.length;e<n;++e)r[e].handler.call(this._obj,t,i)},on(e,t){const n=this.eventName(e),i=this._handlers;return this._handlerIndex(i[n],e,t)<0&&(l(this,e),(i[n]||(i[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),i=this._handlers[n],r=this._handlerIndex(i,e,t);return r>=0&&i.splice(r,1),this},pickEvent(e){const t=(0,o.Z)(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,i,a){const o=this.context();return r.Z[e.marktype].pick.call(this,o,e,t,n,i,a)}})},77648:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(60273),r=n(71604),a=n(84907),o=n(79464),s=n(98329),u=n(16364),l=n(99724),f=n(72688);function c(e){i.Z.call(this,e),this._options={},this._redraw=!1,this._dirty=new r.Z,this._tempb=new r.Z}const d=i.Z.prototype;(0,f.XW)(c,i.Z,{initialize(e,t,n,i,r,a){return this._options=a||{},this._canvas=this._options.externalContext?null:(0,l.JQ)(1,1,this._options.type),e&&this._canvas&&((0,o.d7)(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),d.initialize.call(this,e,t,n,i,r)},resize(e,t,n,i){if(d.resize.call(this,e,t,n,i),this._canvas)(0,u.Z)(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const e=this._options.externalContext;e||(0,f.vU)("CanvasRenderer is missing a valid canvas or context"),e.scale(this._scale,this._scale),e.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,i=this._width,a=this._height,o=this._dirty,s=(u=n,l=i,f=a,(new r.Z).set(0,0,l,f).translate(-u[0],-u[1]));var u,l,f;t.save();const c=this._redraw||o.empty()?(this._redraw=!1,s.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,s.intersect(o),n);return this.clear(-n[0],-n[1],i,a),this.draw(t,e,c),t.restore(),o.clear(),this},draw(e,t,n){const i=a.Z[t.marktype];t.clip&&(0,s.C)(e,t),i.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,i){const r=this._options,a=this.context();"pdf"===r.type||r.externalContext||a.clearRect(e,t,n,i),null!=this._bgcolor&&(a.fillStyle=this._bgcolor,a.fillRect(e,t,n,i))}})},63911:(e,t,n)=>{"use strict";n.d(t,{bo:()=>r,H3:()=>a,rr:()=>o,ZP:()=>u});let i=0;const r="p_";function a(e){return e&&e.gradient}function o(e,t,n){const a=e.gradient;let o=e.id,u="radial"===a?r:"";return o||(o=e.id="gradient_"+i++,"radial"===a?(e.x1=s(e.x1,.5),e.y1=s(e.y1,.5),e.r1=s(e.r1,0),e.x2=s(e.x2,.5),e.y2=s(e.y2,.5),e.r2=s(e.r2,.5),u=r):(e.x1=s(e.x1,0),e.y1=s(e.y1,0),e.x2=s(e.x2,1),e.y2=s(e.y2,0))),t[o]=e,"url("+(n||"")+"#"+u+o+")"}function s(e,t){return null!=e?e:t}function u(e,t){var n,i=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:i,stop:function(e,t){return i.push({offset:e,color:t}),n}}}},12185:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(19449);function r(e){i.Z.call(this,e),this.items=this.items||[]}(0,n(72688).XW)(r,i.Z)},11991:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(79464),r=n(18495),a=n(81250);function o(e,t){this._active=null,this._handlers={},this._loader=e||(0,a._m)(),this._tooltip=t||s}function s(e,t,n,i){e.element().setAttribute("title",i||"")}o.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let i=e?e.length:0;--i>=0;)if(e[i].type===t&&(!n||e[i].handler===n))return i;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const e in t)n.push(...t[e]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then((t=>{const n=new MouseEvent(e.type,e),r=(0,i.$9)(null,"a");for(const e in t)r.setAttribute(e,t[e]);r.dispatchEvent(n)})).catch((()=>{}))},handleTooltip(e,t,n){if(t&&null!=t.tooltip){t=(0,r.Z)(t,e,this.canvas(),this._origin);const i=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,i)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),i=this._origin,r=e.bounds,a=r.width(),o=r.height();let s=r.x1+i[0]+n.left,u=r.y1+i[1]+n.top;for(;e.mark&&(e=e.mark.group);)s+=e.x||0,u+=e.y||0;return{x:s,y:u,width:a,height:o,left:s,top:u,right:s+a,bottom:u+o}}}},19449:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(71604);function r(e){this.mark=e,this.bounds=this.bounds||new i.Z}},60273:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(13677);function r(e){this._el=null,this._bgcolor=null,this._loader=new i.Z(e)}r.prototype={initialize(e,t,n,i,r){return this._el=e,this.resize(t,n,i,r)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,i){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=i||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then((()=>t)):Promise.resolve(t)},_load(e,t){var n=this,i=n._loader[e](t);if(!n._ready){const e=n._call;n._ready=n._loader.ready().then((t=>{t&&e(),n._ready=null}))}return i},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}}},13677:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(99724),r=n(81250),a=n(72688);function o(e){this._pending=0,this._loader=e||(0,r._m)()}function s(e){e._pending+=1}function u(e){e._pending-=1}o.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return s(t),t._loader.sanitize(e,{context:"href"}).then((e=>(u(t),e))).catch((()=>(u(t),null)))},loadImage(e){const t=this,n=(0,i.BH)();return s(t),t._loader.sanitize(e,{context:"image"}).then((e=>{const i=e.href;if(!i||!n)throw{url:i};const r=new n,o=(0,a.nr)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(r.crossOrigin=o),r.onload=()=>u(t),r.onerror=()=>u(t),r.src=i,r})).catch((e=>(u(t),{complete:!1,width:0,height:0,src:e&&e.url||""})))},ready(){const e=this;return new Promise((t=>{!function n(i){e.pending()?setTimeout((()=>{n(!0)}),10):t(i)}(!1)}))}}},56239:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(11991),r=n(79464),a=n(98914),o=n(72688);function s(e,t){i.Z.call(this,e,t);const n=this;n._hrefHandler=u(n,((e,t)=>{t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=u(n,((e,t)=>{n.handleTooltip(e,t,e.type!==a.ZY)}))}const u=(e,t)=>n=>{let i=n.target.__data__;i=Array.isArray(i)?i[0]:i,n.vegaType=n.type,t.call(e._obj,n,i)};(0,o.XW)(s,i.Z,{initialize(e,t,n){let o=this._svg;return o&&(o.removeEventListener(a.Rn,this._hrefHandler),o.removeEventListener(a.vq,this._tooltipHandler),o.removeEventListener(a.ZY,this._tooltipHandler)),this._svg=o=e&&(0,r.nz)(e,"svg"),o&&(o.addEventListener(a.Rn,this._hrefHandler),o.addEventListener(a.vq,this._tooltipHandler),o.addEventListener(a.ZY,this._tooltipHandler)),i.Z.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),i=this._handlers;if(this._handlerIndex(i[n],e,t)<0){const r={type:e,handler:t,listener:u(this,t)};(i[n]||(i[n]=[])).push(r),this._svg&&this._svg.addEventListener(n,r.listener)}return this},off(e,t){const n=this.eventName(e),i=this._handlers[n],r=this._handlerIndex(i,e,t);return r>=0&&(this._svg&&this._svg.removeEventListener(n,i[r].listener),i.splice(r,1)),this}})},83591:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var i=n(60273),r=n(63911),a=n(84907),o=n(66689),s=n(79464),u=n(87094),l=n(89194),f=n(70753),c=n(25909),d=n(93866),h=n(16517),p=n(72688);const m="http://www.w3.org/2000/xmlns/",g=d.Z.xmlns;function y(e){i.Z.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const b=i.Z.prototype;function v(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function x(e,t,n){let i,a,o;if("radial"===t.gradient){let i=(0,s.D2)(e,n++,"pattern",g);F(i,{id:r.bo+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),i=(0,s.D2)(i,0,"rect",g),F(i,{width:1,height:1,fill:`url(${C()}#${t.id})`}),F(e=(0,s.D2)(e,n++,"radialGradient",g),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else F(e=(0,s.D2)(e,n++,"linearGradient",g),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(i=0,a=t.stops.length;i<a;++i)o=(0,s.D2)(e,i,"stop",g),o.setAttribute("offset",t.stops[i].offset),o.setAttribute("stop-color",t.stops[i].color);return(0,s.d7)(e,i),n}function _(e,t,n){let i;return(e=(0,s.D2)(e,n,"clipPath",g)).setAttribute("id",t.id),t.path?(i=(0,s.D2)(e,0,"path",g),i.setAttribute("d",t.path)):(i=(0,s.D2)(e,0,"rect",g),F(i,{x:0,y:0,width:t.width,height:t.height})),(0,s.d7)(e,1),n+1}function w(e,t,n,i,r){let a,o=e._svg;if(!o&&(a=t.ownerDocument,o=(0,s.$9)(a,i,g),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===i))){const t=(0,s.$9)(a,"path",g);o.appendChild(t),t.__data__=e;const n=(0,s.$9)(a,"g",g);o.appendChild(n),n.__data__=e;const i=(0,s.$9)(a,"path",g);o.appendChild(i),i.__data__=e,i.__values__={fill:"default"}}return(o.ownerSVGElement!==r||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}(0,p.XW)(y,i.Z,{initialize(e,t,n,i,r){return this._defs={},this._clearDefs(),e&&(this._svg=(0,s.D2)(e,0,"svg",g),this._svg.setAttributeNS(m,"xmlns",g),this._svg.setAttributeNS(m,"xmlns:xlink",d.Z["xmlns:xlink"]),this._svg.setAttribute("version",d.Z.version),this._svg.setAttribute("class","marks"),(0,s.d7)(e,1),this._root=(0,s.D2)(this._svg,0,"g",g),F(this._root,h.d),(0,s.d7)(this._svg,1)),this.background(this._bgcolor),b.initialize.call(this,e,t,n,i,r)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),b.background.apply(this,arguments)},resize(e,t,n,i){return b.resize.call(this,e,t,n,i),this._svg&&(F(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=(0,s.D2)(e,0,"rect",g),F(n,{width:this._width,height:this._height,fill:t}));const i=(0,u.m)(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),i},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),(0,s.d7)(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,i,r,o,s,u,l;for(s=0,u=e.length;s<u;++s)n=e[s],i=n.mark,i.marktype!==r&&(r=i.marktype,o=a.Z[r]),i.zdirty&&i.dirty!==t&&(this._dirtyAll=!1,v(n,t),i.items.forEach((e=>{e.dirty=t}))),i.zdirty||(n.exit?(o.nested&&i.items.length?(l=i.items[0],l._svg&&this._update(o,l._svg,l)):n._svg&&(l=n._svg.parentNode,l&&l.removeChild(n._svg)),n._svg=null):(n=o.nested?i.items[0]:n,n._update!==t&&(n._svg&&n._svg.ownerSVGElement?this._update(o,n._svg,n):(this._dirtyAll=!1,v(n,t)),n._update=t)));return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const i=this._svg,r=a.Z[t.marktype],u=!1===t.interactive?"none":null,l="g"===r.tag;let d=null,h=0;const p=w(t,e,n,"g",i);p.setAttribute("class",(0,s.Nc)(t));const m=(0,o.h)(t);for(const e in m)$(p,e,m[e]);l||$(p,"pointer-events",u),$(p,"clip-path",t.clip?(0,c.Z)(this,t,t.group):null);const g=e=>{const t=this.isDirty(e),n=w(e,p,d,r.tag,i);t&&(this._update(r,n,e),l&&function(e,t,n){t=t.lastChild.previousSibling;let i,r=0;(0,f.Vn)(n,(n=>{i=e.mark(t,n,i),++r})),(0,s.d7)(t,1+r)}(this,n,e)),d=n,++h};return r.nested?t.items.length&&g(t.items[0]):(0,f.Vn)(t,g),(0,s.d7)(p,h),p},_update(e,t,n){A=t,k=t.__values__,(0,o.ts)(D,n),e.attr(D,n,this);const i=O[e.type];i&&i.call(this,e,t,n),A&&this.style(A,n)},style(e,t){if(null!=t)for(const n in h.W){let i="font"===n?(0,l.I8)(t):t[n];if(i===k[n])continue;const a=h.W[n];null==i?e.removeAttribute(a):((0,r.H3)(i)&&(i=(0,r.rr)(i,this._defs.gradient,C())),e.setAttribute(a,i+"")),k[n]=i}},defs(){const e=this._svg,t=this._defs;let n=t.el,i=0;for(const r in t.gradient)n||(t.el=n=(0,s.D2)(e,1,"defs",g)),i=x(n,t.gradient[r],i);for(const r in t.clipping)n||(t.el=n=(0,s.D2)(e,1,"defs",g)),i=_(n,t.clipping[r],i);n&&(0===i?(e.removeChild(n),t.el=null):(0,s.d7)(n,i))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let A=null,k=null;const O={group(e,t,n){const i=A=t.childNodes[2];k=i.__values__,e.foreground(D,n,this),k=t.__values__,A=t.childNodes[1],e.content(D,n,this);const r=A=t.childNodes[0];e.background(D,n,this);const a=!1===n.mark.interactive?"none":null;if(a!==k.events&&($(i,"pointer-events",a),$(r,"pointer-events",a),k.events=a),n.strokeForeground&&n.stroke){const e=n.fill;$(i,"display",null),this.style(r,n),$(r,"stroke",null),e&&(n.fill=null),k=i.__values__,this.style(i,n),e&&(n.fill=e),A=null}else $(i,"display","none")},image(e,t,n){!1===n.smooth?(E(t,"image-rendering","optimizeSpeed"),E(t,"image-rendering","pixelated")):E(t,"image-rendering",null)},text(e,t,n){const i=(0,l._A)(n);let r,a,o,u;(0,p.kJ)(i)?(a=i.map((e=>(0,l.Wn)(n,e))),r=a.join("\n"),r!==k.text&&((0,s.d7)(t,0),o=t.ownerDocument,u=(0,l.Nv)(n),a.forEach(((e,i)=>{const r=(0,s.$9)(o,"tspan",g);r.__data__=n,r.textContent=e,i&&(r.setAttribute("x",0),r.setAttribute("dy",u)),t.appendChild(r)})),k.text=r)):(a=(0,l.Wn)(n,i),a!==k.text&&(t.textContent=a,k.text=a)),$(t,"font-family",(0,l.I8)(n)),$(t,"font-size",(0,l.JB)(n)+"px"),$(t,"font-style",n.fontStyle),$(t,"font-variant",n.fontVariant),$(t,"font-weight",n.fontWeight)}};function D(e,t,n){t!==k[e]&&(n?function(e,t,n,i){null!=n?e.setAttributeNS(i,t,n):e.removeAttributeNS(i,t)}(A,e,t,n):$(A,e,t),k[e]=t)}function E(e,t,n){n!==k[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),k[t]=n)}function F(e,t){for(const n in t)$(e,n,t[n])}function $(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function C(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}},52505:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(60273),r=n(63911),a=n(84907),o=n(66689),s=n(79464),u=n(87094),l=n(89194),f=n(70753),c=n(25909),d=n(93866),h=n(16517),p=n(72688);function m(e){i.Z.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}(0,p.XW)(m,i.Z,{svg(){return this._text},_render(e){const t=(0,u.N)();t.open("svg",(0,p.l7)({},d.Z,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",h.d,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=a.Z[t.marktype],i=n.tag,r=[o.ts,n.attr];e.open("g",{class:(0,s.Nc)(t),"clip-path":t.clip?(0,c.Z)(this,t,t.group):null},(0,o.h)(t),{"pointer-events":"g"!==i&&!1===t.interactive?"none":null});const u=a=>{const o=this.href(a);if(o&&e.open("a",o),e.open(i,this.attr(t,a,r,"g"!==i?i:null)),"text"===i){const t=(0,l._A)(a);if((0,p.kJ)(t)){const n={x:0,dy:(0,l.Nv)(a)};for(let i=0;i<t.length;++i)e.open("tspan",i?n:null).text((0,l.Wn)(a,t[i])).close()}else e.text((0,l.Wn)(a,t))}else if("g"===i){const i=a.strokeForeground,r=a.fill,o=a.stroke;i&&o&&(a.stroke=null),e.open("path",this.attr(t,a,n.background,"bgrect")).close(),e.open("g",this.attr(t,a,n.content)),(0,f.Vn)(a,(t=>this.mark(e,t))),e.close(),i&&o?(r&&(a.fill=null),a.stroke=o,e.open("path",this.attr(t,a,n.foreground,"bgrect")).close(),r&&(a.fill=r)):e.open("path",this.attr(t,a,n.foreground,"bgfore")).close()}e.close(),o&&e.close()};return n.nested?t.items&&t.items.length&&u(t.items[0]):(0,f.Vn)(t,u),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then((e=>{e["xlink:href"]=e.href,e.href=null,(this._hrefs||(this._hrefs={}))[t]=e}))}return null},attr(e,t,n,i){const a={},o=(e,t,n,i)=>{a[i||e]=t};return Array.isArray(n)?n.forEach((e=>e(o,t,this))):n(o,t,this),i&&function(e,t,n,i,a){if(null==t)return e;if("bgrect"===i&&!1===n.interactive&&(e["pointer-events"]="none"),"bgfore"===i&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===i&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;"),"text"===i&&(e["font-family"]=(0,l.I8)(t),e["font-size"]=(0,l.JB)(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const n in h.W){let i=t[n];const o=h.W[n];("transparent"!==i||"fill"!==o&&"stroke"!==o)&&null!=i&&((0,r.H3)(i)&&(i=(0,r.rr)(i,a.gradient,"")),e[o]=i)}}(a,t,e,i,this._defs),a},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){e.open("defs");for(const n in t){const i=t[n],a=i.stops;"radial"===i.gradient?(e.open("pattern",{id:r.bo+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+n+")"}).close(),e.close(),e.open("radialGradient",{id:n,fx:i.x1,fy:i.y1,fr:i.r1,cx:i.x2,cy:i.y2,r:i.r2})):e.open("linearGradient",{id:n,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2});for(let t=0;t<a.length;++t)e.open("stop",{offset:a[t].offset,"stop-color":a[t].color}).close();e.close()}for(const t in n){const i=n[t];e.open("clipPath",{id:t}),i.path?e.open("path",{d:i.path}).close():e.open("rect",{x:0,y:0,width:i.width,height:i.height}).close(),e.close()}e.close()}}})},22995:(e,t,n)=>{"use strict";n(71604),n(12185),n(60690)},2720:(e,t,n)=>{"use strict";var i=n(71604);n(23075),n(72688),new i.Z},23075:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(57572);const r=i.m9-1e-8;let a,o,s,u,l,f,c,d;const h=(e,t)=>a.add(e,t),p=(e,t)=>h(o=e,s=t),m=e=>h(e,a.y1),g=e=>h(a.x1,e),y=(e,t)=>l*e+c*t,b=(e,t)=>f*e+d*t,v=(e,t)=>h(y(e,t),b(e,t)),x=(e,t)=>p(y(e,t),b(e,t));function _(e,t){return a=e,t?(u=t*i.N9,l=d=Math.cos(u),f=Math.sin(u),c=-f):(l=d=1,u=f=c=0),w}const w={beginPath(){},closePath(){},moveTo:x,lineTo:x,rect(e,t,n,i){u?(v(e+n,t),v(e+n,t+i),v(e,t+i),x(e,t)):(h(e+n,t+i),p(e,t))},quadraticCurveTo(e,t,n,i){const r=y(e,t),a=b(e,t),u=y(n,i),l=b(n,i);A(o,r,u,m),A(s,a,l,g),p(u,l)},bezierCurveTo(e,t,n,i,r,a){const u=y(e,t),l=b(e,t),f=y(n,i),c=b(n,i),d=y(r,a),h=b(r,a);k(o,u,f,d,m),k(s,l,c,h,g),p(d,h)},arc(e,t,n,a,l,f){if(a+=u,l+=u,o=n*Math.cos(l)+e,s=n*Math.sin(l)+t,Math.abs(l-a)>r)h(e-n,t-n),h(e+n,t+n);else{const r=i=>h(n*Math.cos(i)+e,n*Math.sin(i)+t);let o,s;if(r(a),r(l),l!==a)if((a%=i.m9)<0&&(a+=i.m9),(l%=i.m9)<0&&(l+=i.m9),l<a&&(f=!f,o=a,a=l,l=o),f)for(l-=i.m9,o=a-a%i.UY,s=0;s<4&&o>l;++s,o-=i.UY)r(o);else for(o=a-a%i.UY+i.UY,s=0;s<4&&o<l;++s,o+=i.UY)r(o)}}};function A(e,t,n,i){const r=(e-t)/(e+n-2*t);0<r&&r<1&&i(e+(t-e)*r)}function k(e,t,n,r,a){const o=r-e+3*t-3*n,s=e+n-2*t,u=e-t;let l,f=0,c=0;Math.abs(o)>i.kn?(l=s*s+u*o,l>=0&&(l=Math.sqrt(l),f=(-s+l)/o,c=(-s-l)/o)):f=.5*u/s,0<f&&f<1&&a(O(f,e,t,n,r)),0<c&&c<1&&a(O(c,e,t,n,r))}function O(e,t,n,i,r){const a=1-e,o=a*a,s=e*e;return o*a*t+3*o*e*n+3*a*s*i+s*e*r}},76514:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(71604),r=n(84907);function a(e,t,n){var a=r.Z[e.mark.marktype],o=t||a.bound;return a.nested&&(e=e.mark),o(e.bounds||(e.bounds=new i.Z),e,n)}},98986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(71604),r=n(76514),a=n(84907),o={mark:null};function s(e,t,n){var s,u,l,f,c=a.Z[e.marktype],d=c.bound,h=e.items,p=h&&h.length;if(c.nested)return p?l=h[0]:(o.mark=e,l=o),f=(0,r.Z)(l,d,n),t&&t.union(f)||f;if(t=t||e.bounds&&e.bounds.clear()||new i.Z,p)for(s=0,u=h.length;s<u;++s)t.union((0,r.Z)(h[s],d,n));return e.bounds=t}},14510:(e,t,n)=>{"use strict";function i(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const i=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(i+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,i):0))}return e}n.d(t,{Z:()=>i})},32609:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var i=n(84907),r=n(72688),a=n(71604);function o(e,t,n){const i=[],o=(new a.Z).union(t),l=e.marktype;return l?s(e,o,n,i):"group"===l?u(e,o,n,i):(0,r.vU)("Intersect scene must be mark node or group item.")}function s(e,t,n,r){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){const a=e.items,o=e.marktype,s=a.length;let f=0;if("group"===o)for(;f<s;++f)u(a[f],t,n,r);else for(const e=i.Z[o].isect;f<s;++f){const n=a[f];l(n,t,e)&&r.push(n)}}return r}function u(e,t,n,r){n&&n(e.mark)&&l(e,t,i.Z.group.isect)&&r.push(e);const a=e.items,o=a&&a.length;if(o){const i=e.x||0,u=e.y||0;t.translate(-i,-u);for(let e=0;e<o;++e)s(a[e],t,n,r);t.translate(i,u)}return r}function l(e,t,n){const i=e.bounds;return t.encloses(i)||t.intersects(i)&&n(e,t)}},95064:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(81636);const r=(0,n(20155).Z)("arc",i.Nb)},39652:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81636),r=n(54671);const a=(0,n(57336).Z)("area",i.SO,r.BL)},91727:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(81636),r=n(14510),a=n(38077),o=n(26523),s=n(70753),u=n(75993),l=n(98329),f=n(76812),c=n(8840),d=n(37385),h=n(25909),p=n(69594);function m(e){const t=(0,o.Z)(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function g(e,t){const n=m(t);e("d",(0,i.C9)(null,t,n,n))}function y(e,t,n,r){const a=m(t);e.beginPath(),(0,i.C9)(e,t,(n||0)+a,(r||0)+a)}const b=(0,d.pg)(y),v=(0,d.pg)(y,!1),x=(0,d.pg)(y,!0),_={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",(0,p.WU)(t))},bound:function(e,t){if(!t.clip&&t.items){const n=t.items,i=n.length;for(let t=0;t<i;++t)e.union(n[t].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),(0,r.Z)(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){(0,s.Vn)(t,(t=>{const i=t.x||0,r=t.y||0,a=t.strokeForeground,o=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&o&&(y(e,t,i,r),(0,u.Z)(e,t),t.fill&&(0,f.Z)(e,t,o)&&e.fill(),t.stroke&&!a&&(0,c.Z)(e,t,o)&&e.stroke()),e.save(),e.translate(i,r),t.clip&&(0,l.Z)(e,t),n&&n.translate(-i,-r),(0,s.Vn)(t,(t=>{this.draw(e,t,n)})),n&&n.translate(i,r),e.restore(),a&&t.stroke&&o&&(y(e,t,i,r),(0,u.Z)(e,t),(0,c.Z)(e,t,o)&&e.stroke())}))},pick:function(e,t,n,r,a,o){if(t.bounds&&!t.bounds.contains(a,o)||!t.items)return null;const u=n*e.pixelRatio,l=r*e.pixelRatio;return(0,s.RT)(t,(f=>{let c,d,h;const p=f.bounds;if(p&&!p.contains(a,o))return;d=f.x||0,h=f.y||0;const m=d+(f.width||0),g=h+(f.height||0),y=f.clip;if(y&&(a<d||a>m||o<h||o>g))return;if(e.save(),e.translate(d,h),d=a-d,h=o-h,y&&(0,i.j6)(f)&&!x(e,f,u,l))return e.restore(),null;const _=f.strokeForeground,w=!1!==t.interactive;return w&&_&&f.stroke&&v(e,f,u,l)?(e.restore(),f):(c=(0,s.RT)(f,(e=>function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,d,h)?this.pick(e,n,r,d,h):null)),!c&&w&&(f.fill||!_&&f.stroke)&&b(e,f,u,l)&&(c=f),e.restore(),c||null)}))},isect:a.qb,content:function(e,t,n){e("clip-path",t.clip?(0,h.Z)(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),g(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?g(e,t):e("d","")}}},8994:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(70753),r=n(75993),a=n(37385),o=n(93866),s=n(69594),u=n(72688);function l(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((t=>{e.image=t,e.image.url=e.url}))),n}function f(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function c(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function d(e,t){return"center"===e?t/2:"right"===e?t:0}function h(e,t){return"middle"===e?t/2:"bottom"===e?t:0}const p={type:"image",tag:"image",nested:!1,attr:function(e,t,n){const i=l(t,n),r=f(t,i),a=c(t,i),u=(t.x||0)-d(t.align,r),p=(t.y||0)-h(t.baseline,a);e("href",!i.src&&i.toDataURL?i.toDataURL():i.src||"",o.Z["xmlns:xlink"],"xlink:href"),e("transform",(0,s.Iu)(u,p)),e("width",r),e("height",a),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){const n=t.image,i=f(t,n),r=c(t,n),a=(t.x||0)-d(t.align,i),o=(t.y||0)-h(t.baseline,r);return e.set(a,o,a+i,o+r)},draw:function(e,t,n){(0,i.Vn)(t,(t=>{if(n&&!n.intersects(t.bounds))return;const i=l(t,this);let a=f(t,i),o=c(t,i);if(0===a||0===o)return;let s,u,p,m,g=(t.x||0)-d(t.align,a),y=(t.y||0)-h(t.baseline,o);!1!==t.aspect&&(u=i.width/i.height,p=t.width/t.height,u==u&&p==p&&u!==p&&(p<u?(m=a/u,y+=(o-m)/2,o=m):(m=o*u,g+=(a-m)/2,a=m))),(i.complete||i.toDataURL)&&((0,r.Z)(e,t),e.globalAlpha=null!=(s=t.opacity)?s:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(i,g,y,a,o))}))},pick:(0,a.ei)(),isect:u.yb,get:l,xOffset:d,yOffset:h}},84907:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(95064),r=n(39652),a=n(91727),o=n(8994),s=n(12328),u=n(85694),l=n(36552),f=n(56536),c=n(54989),d=n(11857),h=n(94032),p=n(38387);const m={arc:i.Z,area:r.Z,group:a.Z,image:o.Z,line:s.Z,path:u.Z,rect:l.Z,rule:f.Z,shape:c.Z,symbol:d.Z,text:h.Z,trail:p.Z}},12328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81636),r=n(54671);const a=(0,n(57336).Z)("line",i.jv,r.zP)},20155:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(14510),r=n(23075),a=n(38077),o=n(21379),s=n(37385),u=n(69594),l=n(57572);function f(e,t,n){function f(e,n){var i=n.x||0,r=n.y||0,a=n.angle||0;e.translate(i,r),a&&e.rotate(a*=l.N9),e.beginPath(),t(e,n),a&&e.rotate(-a),e.translate(-i,-r)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",(0,u.wr)(n)),e("d",t(null,n))},bound:function(e,n){return t((0,r.Z)(e,n.angle),n),(0,i.Z)(e,n).translate(n.x||0,n.y||0)},draw:(0,o.u)(f),pick:(0,s.Fl)(f),isect:n||(0,a.n8)(f)}}},57336:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(14510),r=n(23075),a=n(38077),o=n(21379),s=n(37385);function u(e,t,n){function u(e,n){e.beginPath(),t(e,n)}const l=(0,s.pg)(u);return{type:e,tag:"path",nested:!0,attr:function(e,n){var i=n.mark.items;i.length&&e("d",t(null,i))},bound:function(e,n){var a=n.items;return 0===a.length?e:(t((0,r.Z)(e),a),(0,i.Z)(e,a[0]))},draw:(0,o.A)(u),pick:function(e,t,n,i,r,a){var o=t.items,s=t.bounds;return!o||!o.length||s&&!s.contains(r,a)?null:(n*=e.pixelRatio,i*=e.pixelRatio,l(e,o,n,i)?o[0]:null)},isect:a.Pk,tip:n}}},85694:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(14510),r=n(23075),a=n(3517),o=n(33167),s=n(38077),u=n(21379),l=n(37385),f=n(69594),c=n(57572);function d(e,t){var n=t.path;if(null==n)return!0;var i=t.x||0,r=t.y||0,s=t.scaleX||1,u=t.scaleY||1,l=(t.angle||0)*c.N9,f=t.pathCache;f&&f.path===n||((t.pathCache=f=(0,a.Z)(n)).path=n),l&&e.rotate&&e.translate?(e.translate(i,r),e.rotate(l),(0,o.Z)(e,f,0,0,s,u),e.rotate(-l),e.translate(-i,-r)):(0,o.Z)(e,f,i,r,s,u)}const h={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,i=t.scaleY||1;1===n&&1===i||e("vector-effect","non-scaling-stroke"),e("transform",(0,f.Nb)(t)),e("d",t.path)},bound:function(e,t){return d((0,r.Z)(e,t.angle),t)?e.set(0,0,0,0):(0,i.Z)(e,t,!0)},draw:(0,u.u)(d),pick:(0,l.Fl)(d),isect:(0,s.n8)(d)}},36552:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(14510),r=n(81636),a=n(38077),o=n(21379),s=n(37385);function u(e,t){e.beginPath(),(0,r.C9)(e,t)}const l={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",(0,r.C9)(null,t))},bound:function(e,t){var n,r;return(0,i.Z)(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)},draw:(0,o.u)(u),pick:(0,s.Fl)(u),isect:a.qb}},56536:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(14510),r=n(38077),a=n(70753),o=n(75993),s=n(37385),u=n(8840),l=n(69594);function f(e,t,n){var i,r,a,o;return!(!t.stroke||!(0,u.Z)(e,t,n)||(i=t.x||0,r=t.y||0,a=null!=t.x2?t.x2:i,o=null!=t.y2?t.y2:r,e.beginPath(),e.moveTo(i,r),e.lineTo(a,o),0))}const c={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",(0,l.WU)(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,r;return(0,i.Z)(e.set(n=t.x||0,r=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:r),t)},draw:function(e,t,n){(0,a.Vn)(t,(t=>{if(!n||n.intersects(t.bounds)){var i=null==t.opacity?1:t.opacity;i&&f(e,t,i)&&((0,o.Z)(e,t),e.stroke())}}))},pick:(0,s.ei)((function(e,t,n,i){return!!e.isPointInStroke&&f(e,t,1)&&e.isPointInStroke(n,i)})),isect:r.VC}},54989:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(81636);const r=(0,n(20155).Z)("shape",i.mC)},11857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81636),r=n(38077);const a=(0,n(20155).Z)("symbol",i.NA,r.Pk)},94032:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(71604),r=n(57572),a=n(89194),o=n(38077),s=n(70753),u=n(75993),l=n(76812),f=n(37385),c=n(8840),d=n(69594),h=n(72688);const p={left:"start",center:"middle",right:"end"},m=new i.Z;function g(e){var t,n=e.x||0,i=e.y||0,a=e.radius||0;return a&&(t=(e.theta||0)-r.UY,n+=a*Math.cos(t),i+=a*Math.sin(t)),m.x1=n,m.y1=i,m}function y(e,t,n){var i,o=a.Zd.height(t),s=t.align,u=g(t),l=u.x1,f=u.y1,c=t.dx||0,d=(t.dy||0)+(0,a.cv)(t)-Math.round(.8*o),p=(0,a._A)(t);if((0,h.kJ)(p)?(o+=(0,a.Nv)(t)*(p.length-1),i=p.reduce(((e,n)=>Math.max(e,a.Zd.width(t,n))),0)):i=a.Zd.width(t,p),"center"===s?c-=i/2:"right"===s&&(c-=i),e.set(c+=l,d+=f,c+i,d+o),t.angle&&!n)e.rotate(t.angle*r.N9,l,f);else if(2===n)return e.rotatedPoints(t.angle*r.N9,l,f);return e}const b={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,i=t.dx||0,r=(t.dy||0)+(0,a.cv)(t),o=g(t),s=o.x1,u=o.y1,l=t.angle||0;e("text-anchor",p[t.align]||"start"),l?(n=(0,d.Iu)(s,u)+" "+(0,d.U1)(l),(i||r)&&(n+=" "+(0,d.Iu)(i,r))):n=(0,d.Iu)(s+i,u+r),e("transform",n)},bound:y,draw:function(e,t,n){(0,s.Vn)(t,(t=>{var i,o,s,f,d,p,m,y=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===y||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=(0,a.LZ)(t),e.textAlign=t.align||"left",o=(i=g(t)).x1,s=i.y1,t.angle&&(e.save(),e.translate(o,s),e.rotate(t.angle*r.N9),o=s=0),o+=t.dx||0,s+=(t.dy||0)+(0,a.cv)(t),p=(0,a._A)(t),(0,u.Z)(e,t),(0,h.kJ)(p))for(d=(0,a.Nv)(t),f=0;f<p.length;++f)m=(0,a.Wn)(t,p[f]),t.fill&&(0,l.Z)(e,t,y)&&e.fillText(m,o,s),t.stroke&&(0,c.Z)(e,t,y)&&e.strokeText(m,o,s),s+=d;else m=(0,a.Wn)(t,p),t.fill&&(0,l.Z)(e,t,y)&&e.fillText(m,o,s),t.stroke&&(0,c.Z)(e,t,y)&&e.strokeText(m,o,s);t.angle&&e.restore()}}))},pick:(0,f.ei)((function(e,t,n,i,a,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=g(t),u=s.x1,l=s.y1,f=y(m,t,1),c=-t.angle*r.N9,d=Math.cos(c),h=Math.sin(c),p=d*a-h*o+(u-d*u+h*l),b=h*a+d*o+(l-h*u-d*l);return f.contains(p,b)})),isect:function(e,t){const n=y(m,e,2);return(0,o.jy)(t,n[0],n[1],n[2],n[3])||(0,o.jy)(t,n[0],n[1],n[4],n[5])||(0,o.jy)(t,n[4],n[5],n[6],n[7])||(0,o.jy)(t,n[2],n[3],n[6],n[7])}}},38387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(81636),r=n(54671);const a=(0,n(57336).Z)("trail",i.yv,r.Cg)},16828:(e,t,n)=>{"use strict";var i=n(8093),r=n(77648),a=n(56239),o=n(83591),s=n(52505);const u={};u.canvas=u.png={renderer:r.Z,headless:r.Z,handler:i.Z},u.svg={renderer:o.Z,headless:s.Z,handler:a.Z},u.none={}},7394:(e,t,n)=>{"use strict";n.d(t,{xb:()=>s,Wq:()=>u});var i=n(57572),r={},a={},o=[].join;function s(e,t,n,a,s,u,l,f,c){const d=o.call(arguments);if(r[d])return r[d];const h=l*i.N9,p=Math.sin(h),m=Math.cos(h),g=m*(f-e)*.5+p*(c-t)*.5,y=m*(c-t)*.5-p*(f-e)*.5;let b=g*g/((n=Math.abs(n))*n)+y*y/((a=Math.abs(a))*a);b>1&&(b=Math.sqrt(b),n*=b,a*=b);const v=m/n,x=p/n,_=-p/a,w=m/a,A=v*f+x*c,k=_*f+w*c,O=v*e+x*t,D=_*e+w*t,E=(O-A)*(O-A)+(D-k)*(D-k);let F=1/E-.25;F<0&&(F=0);let $=Math.sqrt(F);u==s&&($=-$);const C=.5*(A+O)-$*(D-k),M=.5*(k+D)+$*(O-A),R=Math.atan2(k-M,A-C),S=Math.atan2(D-M,O-C);let B=S-R;B<0&&1===u?B+=i.m9:B>0&&0===u&&(B-=i.m9);const Z=Math.ceil(Math.abs(B/(i.UY+.001))),T=[];for(let e=0;e<Z;++e){const t=R+e*B/Z,i=R+(e+1)*B/Z;T[e]=[C,M,t,i,n,a,p,m]}return r[d]=T}function u(e){const t=o.call(e);if(a[t])return a[t];var n=e[0],i=e[1],r=e[2],s=e[3],u=e[4],l=e[5],f=e[6],c=e[7];const d=c*u,h=-f*l,p=f*u,m=c*l,g=Math.cos(r),y=Math.sin(r),b=Math.cos(s),v=Math.sin(s),x=.5*(s-r),_=Math.sin(.5*x),w=8/3*_*_/Math.sin(x),A=n+g-w*y,k=i+y+w*g,O=n+b,D=i+v,E=O+w*v,F=D-w*b;return a[t]=[d*A+h*k,p*A+m*k,d*E+h*F,p*E+m*F,d*O+h*D,p*O+m*D]}},8245:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var i=n(72688),r=n(64082),a=n(87907),o=n(58594),s=n(69406),u=n(72911),l=n(30151),f=n(97473),c=n(38110),d=n(10701),h=n(63631),p=n(93030),m=n(23013),g=n(4885),y=n(17228),b=n(65979);const v={basis:{curve:r.ZP},"basis-closed":{curve:a.Z},"basis-open":{curve:o.Z},bundle:{curve:s.Z,tension:"beta",value:.85},cardinal:{curve:u.ZP,tension:"tension",value:0},"cardinal-open":{curve:l.Z,tension:"tension",value:0},"cardinal-closed":{curve:f.Z,tension:"tension",value:0},"catmull-rom":{curve:c.Z,tension:"alpha",value:.5},"catmull-rom-closed":{curve:d.Z,tension:"alpha",value:.5},"catmull-rom-open":{curve:h.Z,tension:"alpha",value:.5},linear:{curve:p.Z},"linear-closed":{curve:m.Z},monotone:{horizontal:g.s,vertical:g.Z},natural:{curve:y.Z},step:{curve:b.ZP},"step-after":{curve:b.cD},"step-before":{curve:b.RN}};function x(e,t,n){var r=(0,i.nr)(v,e)&&v[e],a=null;return r&&(a=r.curve||r[t||"vertical"],r.tension&&null!=n&&(a=a[r.tension](n))),a}},3517:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});const i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},r=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function a(e){const t=[];let n,a,o,s,u,l,f,c,d,h;const p=e.slice().replace(r[0],"###$1").split(r[1]).slice(1);for(f=0,d=p.length;f<d;++f){for(n=p[f],a=n.slice(1).trim().replace(r[2],"$1###$2").replace(r[3],"$1###$2").split(r[4]),u=n.charAt(0),o=[u],c=0,h=a.length;c<h;++c)(s=+a[c])===s&&o.push(s);if(l=i[u.toLowerCase()],o.length-1>l){const e=o.length;for(c=1,t.push([u].concat(o.slice(c,c+=l))),u="M"===u?"L":"m"===u?"l":u;c<e;c+=l)t.push([u].concat(o.slice(c,c+l)))}else t.push(o)}return t}},19454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var i=n(95254);const r=.448084975506;function a(e){return e.x}function o(e){return e.y}function s(e){return e.width}function u(e){return e.height}function l(e){return"function"==typeof e?e:()=>+e}function f(e,t,n){return Math.max(t,Math.min(e,n))}function c(){var e=a,t=o,n=s,c=u,d=l(0),h=d,p=d,m=d,g=null;function y(a,o,s){var u,l=null!=o?o:+e.call(this,a),y=null!=s?s:+t.call(this,a),b=+n.call(this,a),v=+c.call(this,a),x=Math.min(b,v)/2,_=f(+d.call(this,a),0,x),w=f(+h.call(this,a),0,x),A=f(+p.call(this,a),0,x),k=f(+m.call(this,a),0,x);if(g||(g=u=(0,i.Z)()),_<=0&&w<=0&&A<=0&&k<=0)g.rect(l,y,b,v);else{var O=l+b,D=y+v;g.moveTo(l+_,y),g.lineTo(O-w,y),g.bezierCurveTo(O-r*w,y,O,y+r*w,O,y+w),g.lineTo(O,D-k),g.bezierCurveTo(O,D-r*k,O-r*k,D,O-k,D),g.lineTo(l+A,D),g.bezierCurveTo(l+r*A,D,l,D-r*A,l,D-A),g.lineTo(l,y+_),g.bezierCurveTo(l,y+r*_,l+r*_,y,l+_,y),g.closePath()}if(u)return g=null,u+""||null}return y.x=function(t){return arguments.length?(e=l(t),y):e},y.y=function(e){return arguments.length?(t=l(e),y):t},y.width=function(e){return arguments.length?(n=l(e),y):n},y.height=function(e){return arguments.length?(c=l(e),y):c},y.cornerRadius=function(e,t,n,i){return arguments.length?(d=l(e),h=null!=t?l(t):d,m=null!=n?l(n):d,p=null!=i?l(i):h,y):d},y.context=function(e){return arguments.length?(g=null==e?null:e,y):g},y}},33167:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(7394);const r=["l",0,0,0,0,0,0,0];function a(e,t,n){const i=r[0]=e[0];if("a"===i||"A"===i)r[1]=t*e[1],r[2]=n*e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=t*e[6],r[7]=n*e[7];else if("h"===i||"H"===i)r[1]=t*e[1];else if("v"===i||"V"===i)r[1]=n*e[1];else for(var a=1,o=e.length;a<o;++a)r[a]=(a%2==1?t:n)*e[a];return r}function o(e,t,n,i,r,o){var u,l,f,c,d,h=null,p=0,m=0,g=0,y=0;null==n&&(n=0),null==i&&(i=0),null==r&&(r=1),null==o&&(o=r),e.beginPath&&e.beginPath();for(var b=0,v=t.length;b<v;++b){switch(u=t[b],1===r&&1===o||(u=a(u,r,o)),u[0]){case"l":p+=u[1],m+=u[2],e.lineTo(p+n,m+i);break;case"L":p=u[1],m=u[2],e.lineTo(p+n,m+i);break;case"h":p+=u[1],e.lineTo(p+n,m+i);break;case"H":p=u[1],e.lineTo(p+n,m+i);break;case"v":m+=u[1],e.lineTo(p+n,m+i);break;case"V":m=u[1],e.lineTo(p+n,m+i);break;case"m":p+=u[1],m+=u[2],e.moveTo(p+n,m+i);break;case"M":p=u[1],m=u[2],e.moveTo(p+n,m+i);break;case"c":l=p+u[5],f=m+u[6],g=p+u[3],y=m+u[4],e.bezierCurveTo(p+u[1]+n,m+u[2]+i,g+n,y+i,l+n,f+i),p=l,m=f;break;case"C":p=u[5],m=u[6],g=u[3],y=u[4],e.bezierCurveTo(u[1]+n,u[2]+i,g+n,y+i,p+n,m+i);break;case"s":l=p+u[3],f=m+u[4],g=2*p-g,y=2*m-y,e.bezierCurveTo(g+n,y+i,p+u[1]+n,m+u[2]+i,l+n,f+i),g=p+u[1],y=m+u[2],p=l,m=f;break;case"S":l=u[3],f=u[4],g=2*p-g,y=2*m-y,e.bezierCurveTo(g+n,y+i,u[1]+n,u[2]+i,l+n,f+i),p=l,m=f,g=u[1],y=u[2];break;case"q":l=p+u[3],f=m+u[4],g=p+u[1],y=m+u[2],e.quadraticCurveTo(g+n,y+i,l+n,f+i),p=l,m=f;break;case"Q":l=u[3],f=u[4],e.quadraticCurveTo(u[1]+n,u[2]+i,l+n,f+i),p=l,m=f,g=u[1],y=u[2];break;case"t":l=p+u[1],f=m+u[2],null===h[0].match(/[QqTt]/)?(g=p,y=m):"t"===h[0]?(g=2*p-c,y=2*m-d):"q"===h[0]&&(g=2*p-g,y=2*m-y),c=g,d=y,e.quadraticCurveTo(g+n,y+i,l+n,f+i),m=f,g=(p=l)+u[1],y=m+u[2];break;case"T":l=u[1],f=u[2],g=2*p-g,y=2*m-y,e.quadraticCurveTo(g+n,y+i,l+n,f+i),p=l,m=f;break;case"a":s(e,p+n,m+i,[u[1],u[2],u[3],u[4],u[5],u[6]+p+n,u[7]+m+i]),p+=u[6],m+=u[7];break;case"A":s(e,p+n,m+i,[u[1],u[2],u[3],u[4],u[5],u[6]+n,u[7]+i]),p=u[6],m=u[7];break;case"z":case"Z":e.closePath()}h=u}}function s(e,t,n,r){const a=(0,i.xb)(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let t=0;t<a.length;++t){const n=(0,i.Wq)(a[t]);e.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}}},81636:(e,t,n)=>{"use strict";n.d(t,{j6:()=>w,Nb:()=>A,SO:()=>k,jv:()=>O,C9:()=>D,mC:()=>E,NA:()=>F,yv:()=>$});var i=n(8245),r=n(79855),a=n(19454),o=n(37632),s=n(74074),u=n(71267),l=n(95734),f=n(76063);function c(e,t){return null!=e?e:t}const d=e=>e.x||0,h=e=>e.y||0,p=e=>!(!1===e.defined),m=(0,s.Z)().startAngle((e=>e.startAngle||0)).endAngle((e=>e.endAngle||0)).padAngle((e=>e.padAngle||0)).innerRadius((e=>e.innerRadius||0)).outerRadius((e=>e.outerRadius||0)).cornerRadius((e=>e.cornerRadius||0)),g=(0,u.Z)().x(d).y1(h).y0((e=>(e.y||0)+(e.height||0))).defined(p),y=(0,u.Z)().y(h).x1(d).x0((e=>(e.x||0)+(e.width||0))).defined(p),b=(0,l.Z)().x(d).y(h).defined(p),v=(0,a.Z)().x(d).y(h).width((e=>e.width||0)).height((e=>e.height||0)).cornerRadius((e=>c(e.cornerRadiusTopLeft,e.cornerRadius)||0),(e=>c(e.cornerRadiusTopRight,e.cornerRadius)||0),(e=>c(e.cornerRadiusBottomRight,e.cornerRadius)||0),(e=>c(e.cornerRadiusBottomLeft,e.cornerRadius)||0)),x=(0,f.Z)().type((e=>(0,r.Z)(e.shape||"circle"))).size((e=>c(e.size,64))),_=(0,o.Z)().x(d).y(h).defined(p).size((e=>e.size||1));function w(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function A(e,t){return m.context(e)(t)}function k(e,t){const n=t[0],r=n.interpolate||"linear";return("horizontal"===n.orient?y:g).curve((0,i.Z)(r,n.orient,n.tension)).context(e)(t)}function O(e,t){const n=t[0],r=n.interpolate||"linear";return b.curve((0,i.Z)(r,n.orient,n.tension)).context(e)(t)}function D(e,t,n,i){return v.context(e)(t,n,i)}function E(e,t){return(t.mark.shape||t.shape).context(e)(t)}function F(e,t){return x.context(e)(t)}function $(e,t){return _.context(e)(t)}},79855:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(3517),r=n(33167),a=n(57572),o=n(72688);const s=.5773502691896257,u={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,a.m9)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/2.5;e.moveTo(-n,-i),e.lineTo(-n,i),e.lineTo(-i,i),e.lineTo(-i,n),e.lineTo(i,n),e.lineTo(i,i),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(i,-i),e.lineTo(i,-n),e.lineTo(-i,-n),e.lineTo(-i,-i),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/7,r=n/2.5,a=n/8;e.moveTo(-i,n),e.lineTo(i,n),e.lineTo(i,-a),e.lineTo(r,-a),e.lineTo(0,-n),e.lineTo(-r,-a),e.lineTo(-i,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,i=a.g0*n,r=i-n*s,o=n/4;e.moveTo(0,-i-r),e.lineTo(-o,i-r),e.lineTo(o,i-r),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,i=a.g0*n,r=i-n*s;e.moveTo(0,-i-r),e.lineTo(-n,i-r),e.lineTo(n,i-r),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,i=a.g0*n;e.moveTo(0,-i),e.lineTo(-n,i),e.lineTo(n,i),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,i=a.g0*n;e.moveTo(0,i),e.lineTo(-n,-i),e.lineTo(n,-i),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,i=a.g0*n;e.moveTo(i,0),e.lineTo(-i,-n),e.lineTo(-i,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,i=a.g0*n;e.moveTo(-i,0),e.lineTo(i,-n),e.lineTo(i,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function l(e){return(0,o.nr)(u,e)?u[e]:function(e){if(!(0,o.nr)(f,e)){const t=(0,i.Z)(e);f[e]={draw:function(e,n){(0,r.Z)(e,t,0,0,Math.sqrt(n)/2)}}}return f[e]}(e)}var f={}},37632:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(57572),r=n(95254);function a(){var e,t,n,a,o,s,u,l,f=null;function c(e,t,n){const r=n/2;if(o){var a=u-t,c=e-s;if(a||c){var d=Math.sqrt(a*a+c*c),h=(a/=d)*l,p=(c/=d)*l,m=Math.atan2(c,a);f.moveTo(s-h,u-p),f.lineTo(e-a*r,t-c*r),f.arc(e,t,r,m-Math.PI,m),f.lineTo(s+h,u+p),f.arc(s,u,l,m,m+Math.PI)}else f.arc(e,t,r,0,i.m9);f.closePath()}else o=1;s=e,u=t,l=r}function d(i){var s,u,l,d=i.length,h=!1;for(null==f&&(f=l=(0,r.Z)()),s=0;s<=d;++s)!(s<d&&a(u=i[s],s,i))===h&&(h=!h)&&(o=0),h&&c(+e(u,s,i),+t(u,s,i),+n(u,s,i));if(l)return f=null,l+""||null}return d.x=function(t){return arguments.length?(e=t,d):e},d.y=function(e){return arguments.length?(t=e,d):t},d.size=function(e){return arguments.length?(n=e,d):n},d.defined=function(e){return arguments.length?(a=e,d):a},d.context=function(e){return arguments.length?(f=null==e?null:e,d):f},d}},66689:(e,t,n)=>{"use strict";n.d(t,{ts:()=>m,h:()=>g});var i=n(79885),r=n(72688);const a="aria-hidden",o="aria-label",s="role",u="aria-roledescription",l="graphics-object",f="graphics-symbol",c=(e,t,n)=>({[s]:e,[u]:t,[o]:n||void 0}),d=(0,r.Rg)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),h={axis:{desc:"axis",caption:function(e){const t=e.datum,n=e.orient,r=t.title?b(e):null,a=e.context,o=a.scales[t.scale].value,s=a.dataflow.locale(),u=o.type;return("left"===n||"right"===n?"Y":"X")+"-axis"+(r?` titled '${r}'`:"")+` for a ${(0,i.lK)(u)?"discrete":u} scale`+` with ${(0,i.A_)(s,o,e)}`}},legend:{desc:"legend",caption:function(e){const t=e.datum,n=t.title?b(e):null,a=`${t.type||""} legend`.trim(),o=t.scales,s=Object.keys(o),u=e.context,l=u.scales[o[s[0]]].value,f=u.dataflow.locale();return((c=a).length?c[0].toUpperCase()+c.slice(1):c)+(n?` titled '${n}'`:"")+` for ${function(e){return(e=e.map((e=>e+("fill"===e||"stroke"===e?" color":"")))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+(0,r.fj)(e)}(s)}`+` with ${(0,i.A_)(f,l,e)}`;var c}},"title-text":{desc:"title",caption:e=>`Title text '${y(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${y(e)}'`}},p={ariaRole:s,ariaRoleDescription:u,description:o};function m(e,t){const n=!1===t.aria;if(e(a,n||void 0),n||null==t.description)for(const t in p)e(p[t],void 0);else{const n=t.mark.marktype;e(o,t.description),e(s,t.ariaRole||("group"===n?l:f)),e(u,t.ariaRoleDescription||`${n} mark`)}}function g(e){return!1===e.aria?{[a]:!0}:d[e.role]?null:h[e.role]?function(e,t){try{const n=e.items[0],i=t.caption||(()=>"");return c(t.role||f,t.desc,n.description||i(n))}catch(e){return null}}(e,h[e.role]):function(e){const t=e.marktype,n="group"===t||"text"===t||e.items.some((e=>null!=e.description&&!1!==e.aria));return c(n?l:f,`${t} mark container`,e.description)}(e)}function y(e){return(0,r.IX)(e.text).join(" ")}function b(e){try{return(0,r.IX)((0,r.fj)(e.items).items[0].text).join(" ")}catch(e){return null}}},75993:(e,t,n)=>{"use strict";function i(e,t){e.globalCompositeOperation=t.blend||"source-over"}n.d(t,{Z:()=>i})},98329:(e,t,n)=>{"use strict";n.d(t,{C:()=>a,Z:()=>o});var i=n(81636),r=n(72688);function a(e,t){var n=t.clip;e.save(),(0,r.mf)(n)?(e.beginPath(),n(e),e.clip()):o(e,t.group)}function o(e,t){e.beginPath(),(0,i.j6)(t)?(0,i.C9)(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}},33328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(63911),r=n(90714);function a(e,t,n){return(0,i.H3)(n)?(0,r.Z)(e,n,t.bounds):n}},70365:(e,t,n)=>{"use strict";n.d(t,{D:()=>r});var i=n(99724),r=(r=(0,i.JQ)(1,1))?r.getContext("2d"):null},21379:(e,t,n)=>{"use strict";n.d(t,{u:()=>s,A:()=>u});var i=n(75993),r=n(76812),a=n(8840),o=n(70753);function s(e){return function(t,n,i){(0,o.Vn)(n,(n=>{i&&!i.intersects(n.bounds)||l(e,t,n,n)}))}}function u(e){return function(t,n,i){!n.items.length||i&&!i.intersects(n.bounds)||l(e,t,n.items[0],n.items)}}function l(e,t,n,o){var s=null==n.opacity?1:n.opacity;0!==s&&(e(t,o)||((0,i.Z)(t,n),n.fill&&(0,r.Z)(t,n,s)&&t.fill(),n.stroke&&(0,a.Z)(t,n,s)&&t.stroke()))}},76812:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(33328);function r(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=(0,i.Z)(e,t,t.fill),!0)}},90714:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(26523),r=n(99724);function a(e,t){const n=t.length;for(let i=0;i<n;++i)e.addColorStop(t[i].offset,t[i].color);return e}function o(e,t,n){const o=n.width(),s=n.height();let u;if("radial"===t.gradient)u=e.createRadialGradient(n.x1+(0,i.Z)(t.x1,.5)*o,n.y1+(0,i.Z)(t.y1,.5)*s,Math.max(o,s)*(0,i.Z)(t.r1,0),n.x1+(0,i.Z)(t.x2,.5)*o,n.y1+(0,i.Z)(t.y2,.5)*s,Math.max(o,s)*(0,i.Z)(t.r2,.5));else{const l=(0,i.Z)(t.x1,0),f=(0,i.Z)(t.y1,0),c=(0,i.Z)(t.x2,1),d=(0,i.Z)(t.y2,0);if(l!==c&&f!==d&&o!==s){const n=(0,r.JQ)(Math.ceil(o),Math.ceil(s)),i=n.getContext("2d");return i.scale(o,s),i.fillStyle=a(i.createLinearGradient(l,f,c,d),t.stops),i.fillRect(0,0,o,s),e.createPattern(n,"no-repeat")}u=e.createLinearGradient(n.x1+l*o,n.y1+f*s,n.x1+c*o,n.y1+d*s)}return a(u,t.stops)}},37385:(e,t,n)=>{"use strict";n.d(t,{ei:()=>a,pg:()=>o,Fl:()=>s});var i=n(70753),r=n(72688);function a(e){return e=e||r.yb,function(t,n,r,a,o,s){return r*=t.pixelRatio,a*=t.pixelRatio,(0,i.RT)(n,(n=>{const i=n.bounds;if((!i||i.contains(o,s))&&i)return e(t,n,r,a,o,s)?n:void 0}))}}function o(e,t){return function(n,i,r,a){var o,s,u=Array.isArray(i)?i[0]:i,l=null==t?u.fill:t,f=u.stroke&&n.isPointInStroke;return f&&(o=u.strokeWidth,s=u.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=s?s:"butt"),!e(n,i)&&(l&&n.isPointInPath(r,a)||f&&n.isPointInStroke(r,a))}}function s(e){return a(o(e))}},16364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i="undefined"!=typeof window&&window.devicePixelRatio||1;function r(e,t,n,r,a,o){const s="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,u=e.getContext("2d"),l=s?i:a;e.width=t*l,e.height=n*l;for(const e in o)u[e]=o[e];return s&&1!==l&&(e.style.width=t+"px",e.style.height=n+"px"),u.pixelRatio=l,u.setTransform(l,0,0,l,l*r[0],l*r[1]),e}},8840:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(33328),r=[];function a(e,t,n){var a=null!=(a=t.strokeWidth)?a:1;return!(a<=0)&&(n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=(0,i.Z)(e,t,t.stroke),e.lineWidth=a,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||r),e.lineDashOffset=t.strokeDashOffset||0),!0)}},57572:(e,t,n)=>{"use strict";n.d(t,{N9:()=>i,kn:()=>r,UY:()=>a,m9:()=>o,g0:()=>s});const i=Math.PI/180,r=1e-14,a=Math.PI/2,o=2*Math.PI,s=Math.sqrt(3)/2},79464:(e,t,n)=>{"use strict";function i(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function r(e,t){t=t.toLowerCase();for(var n=e.childNodes,i=0,r=n.length;i<r;++i)if(n[i].tagName.toLowerCase()===t)return n[i]}function a(e,t,n,r){var a,o=e.childNodes[t];return o&&o.tagName.toLowerCase()===n.toLowerCase()||(a=o||null,o=i(e.ownerDocument,n,r),e.insertBefore(o,a)),o}function o(e,t){for(var n=e.childNodes,i=n.length;i>t;)e.removeChild(n[--i]);return e}function s(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}n.d(t,{$9:()=>i,nz:()=>r,D2:()=>a,d7:()=>o,Nc:()=>s})},10917:(e,t,n)=>{"use strict";n(3517),n(72688)},98914:(e,t,n)=>{"use strict";n.d(t,{vf:()=>i,zd:()=>r,TL:()=>a,Y0:()=>o,cH:()=>s,AJ:()=>u,QG:()=>l,Rd:()=>f,C$:()=>c,Nk:()=>d,$z:()=>h,Th:()=>p,zW:()=>m,vq:()=>g,ZY:()=>y,Rn:()=>b});const i="dragenter",r="dragleave",a="dragover",o="mousedown",s="mousemove",u="mouseout",l="mouseover",f="click",c="mousewheel",d="touchstart",h="touchmove",p="touchend",m=["keydown","keypress","keyup",i,r,a,o,"mouseup",s,u,l,f,"dblclick","wheel",c,d,h,p],g=s,y=u,b=f},38077:(e,t,n)=>{"use strict";n.d(t,{n8:()=>a,Pk:()=>o,qb:()=>s,VC:()=>u,jy:()=>l});var i=n(70365);const r=new(n(71604).Z);function a(e){return function(t,n){if(!i.D)return!0;e(i.D,t),r.clear().union(t.bounds).intersect(n).round();const{x1:a,y1:o,x2:s,y2:u}=r;for(let e=o;e<=u;++e)for(let t=a;t<=s;++t)if(i.D.isPointInPath(t,e))return!0;return!1}}function o(e,t){return t.contains(e.x||0,e.y||0)}function s(e,t){const n=e.x||0,i=e.y||0,a=e.width||0,o=e.height||0;return t.intersects(r.set(n,i,n+a,i+o))}function u(e,t){const n=e.x||0,i=e.y||0;return l(t,n,i,null!=e.x2?e.x2:n,null!=e.y2?e.y2:i)}function l(e,t,n,i,r){const{x1:a,y1:o,x2:s,y2:u}=e,l=i-t,f=r-n;let c,d,h,p,m=0,g=1;for(p=0;p<4;++p){if(0===p&&(c=-l,d=-(a-t)),1===p&&(c=l,d=s-t),2===p&&(c=-f,d=-(o-n)),3===p&&(c=f,d=u-n),Math.abs(c)<1e-10&&d<0)return!1;if(h=d/c,c<0){if(h>g)return!1;h>m&&(m=h)}else if(c>0){if(h<m)return!1;h<g&&(g=h)}}return!0}},87094:(e,t,n)=>{"use strict";n.d(t,{N:()=>r,m:()=>a});const i=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function r(){let e="",t="",n="";const r=[],a=()=>t=n="",o=(e,n)=>{var r;return null!=n&&(t+=` ${e}="${r=n,i(r).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")}"`),s},s={open(i,...u){(i=>{t&&(e+=`${t}>${n}`,a()),r.push(i)})(i),t="<"+i;for(const e of u)for(const t in e)o(t,e[t]);return s},close(){const i=r.pop();return e+=t?t+(n?`>${n}</${i}>`:"/>"):`</${i}>`,a(),s},attr:o,text:e=>(n+=i(e),s),toString:()=>e};return s}const a=e=>o(r(),e)+"";function o(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,i=n.length;for(let t=0;t<i;++t)e.attr(n[t].name,n[t].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const t of n)3===t.nodeType?e.text(t.nodeValue):o(e,t)}return e.close()}},54671:(e,t,n)=>{"use strict";function i(e,t){for(var n,i,r="horizontal"===e[0].orient?t[1]:t[0],a="horizontal"===e[0].orient?"y":"x",o=e.length,s=1/0;--o>=0;)!1!==e[o].defined&&(i=Math.abs(e[o][a]-r))<s&&(s=i,n=e[o]);return n}function r(e,t){for(var n,i,r=Math.pow(e[0].strokeWidth||1,2),a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(i=e[a].y-t[1])*i<r)return e[a];return null}function a(e,t){for(var n,i,r=e.length;--r>=0;)if(!1!==e[r].defined&&(n=e[r].x-t[0])*n+(i=e[r].y-t[1])*i<(n=e[r].size||1)*n)return e[r];return null}n.d(t,{BL:()=>i,zP:()=>r,Cg:()=>a})},61125:(e,t,n)=>{"use strict";function i(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}n.d(t,{Z:()=>i})},18495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=n(84907),r=n(61125);function a(e,t,n,a){var o,s,u=e&&e.mark;if(u&&(o=i.Z[u.marktype]).tip){for((s=(0,r.Z)(t,n))[0]-=a[0],s[1]-=a[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(u.items,s)}return e}},60690:(e,t,n)=>{"use strict";n.d(t,{k:()=>a,E:()=>o});var i=n(98986);const r=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function a(e,t){return JSON.stringify(e,r,t)}function o(e){return s("string"==typeof e?JSON.parse(e):e)}function s(e){var t,n,r,a=e.marktype,o=e.items;if(o)for(n=0,r=o.length;n<r;++n)t=a?"mark":"group",o[n][t]=e,o[n].zindex&&(o[n][t].zdirty=!0),"group"===(a||t)&&s(o[n]);return a&&(0,i.Z)(e),e}},25909:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(81636),r=n(72688),a=1;function o(e,t,n){var o=t.clip,s=e._defs,u=t.clip_id||(t.clip_id="clip"+a++),l=s.clipping[u]||(s.clipping[u]={id:u});return(0,r.mf)(o)?l.path=o(null):(0,i.j6)(n)?l.path=(0,i.C9)(null,n,0,0):(l.width=n.width||0,l.height=n.height||0),"url(#"+u+")"}},93866:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"}},16517:(e,t,n)=>{"use strict";n.d(t,{W:()=>i,d:()=>r});const i={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},r={fill:"none","stroke-miterlimit":10}},69594:(e,t,n)=>{"use strict";function i(e,t){return"translate("+e+","+t+")"}function r(e){return"rotate("+e+")"}function a(e){return i(e.x||0,e.y||0)}function o(e){return i(e.x||0,e.y||0)+(e.angle?" "+r(e.angle):"")}function s(e){return i(e.x||0,e.y||0)+(e.angle?" "+r(e.angle):"")+(e.scaleX||e.scaleY?" "+("scale("+(e.scaleX||1)+","+(e.scaleY||1)+")"):"")}n.d(t,{Iu:()=>i,U1:()=>r,WU:()=>a,wr:()=>o,Nb:()=>s})},89194:(e,t,n)=>{"use strict";n.d(t,{Zd:()=>o,JB:()=>d,Nv:()=>h,_A:()=>p,Wn:()=>m,I8:()=>g,LZ:()=>y,cv:()=>b});var i=n(70365),r=n(72688);const a=(0,r.$m)();var o={height:d,measureWidth:f,estimateWidth:u,width:u,canvas:s};function s(e){o.width=e&&i.D?f:u}function u(e,t){return l(m(e,t),d(e))}function l(e,t){return~~(.8*e.length*t)}function f(e,t){return d(e)<=0||!(t=m(e,t))?0:c(t,y(e))}function c(e,t){const n=`(${t}) ${e}`;let r=a.get(n);return void 0===r&&(i.D.font=t,r=i.D.measureText(e).width,a.set(n,r)),r}function d(e){return null!=e.fontSize?+e.fontSize||0:11}function h(e){return null!=e.lineHeight?e.lineHeight:d(e)+2}function p(e){return t=e.lineBreak&&e.text&&!(0,r.kJ)(e.text)?e.text.split(e.lineBreak):e.text,(0,r.kJ)(t)?t.length>1?t:t[0]:t;var t}function m(e,t){const n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,i=function(e){if(o.width===f){const t=y(e);return e=>c(e,t)}{const t=d(e);return e=>l(e,t)}}(e);if(i(t)<n)return t;var r,a=e.ellipsis||"…",s="rtl"===e.dir,u=0,h=t.length;if(n-=i(a),s){for(;u<h;)r=u+h>>>1,i(t.slice(r))>n?u=r+1:h=r;return a+t.slice(u)}for(;u<h;)r=1+(u+h>>>1),i(t.slice(0,r))<n?u=r:h=r-1;return t.slice(0,u)+a}(e,n):n}function g(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function y(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+d(e)+"px "+g(e,t)}function b(e){var t=e.baseline,n=d(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*h(e):"line-bottom"===t?.29*n-.5*h(e):0)}s(!0)},26523:(e,t,n)=>{"use strict";function i(e,t){return null==e?t:e}n.d(t,{Z:()=>i})},70753:(e,t,n)=>{"use strict";function i(e,t){return e.zindex-t.zindex||e.index-t.index}function r(e){if(!e.zdirty)return e.zitems;var t,n,r,a=e.items,o=[];for(n=0,r=a.length;n<r;++n)(t=a[n]).index=n,t.zindex&&o.push(t);return e.zdirty=!1,e.zitems=o.sort(i)}function a(e,t){var n,i,a=e.items;if(!a||!a.length)return;const o=r(e);if(o&&o.length){for(n=0,i=a.length;n<i;++n)a[n].zindex||t(a[n]);a=o}for(n=0,i=a.length;n<i;++n)t(a[n])}function o(e,t){var n,i,a=e.items;if(!a||!a.length)return null;const o=r(e);for(o&&o.length&&(a=o),i=a.length;--i>=0;)if(n=t(a[i]))return n;if(a===o)for(i=(a=e.items).length;--i>=0;)if(!a[i].zindex&&(n=t(a[i])))return n;return null}n.d(t,{Vn:()=>a,RT:()=>o})},16023:(e,t,n)=>{"use strict";n.d(t,{VF:()=>m,Wj:()=>y,FN:()=>f,wy:()=>g,ow:()=>v});var i=n(12609),r=n(72688),a=n(48991);const o="intersect",s="union",u="index:unit";function l(e,t){for(var n,i,a=t.fields,o=t.values,s=a.length,u=0;u<s;++u)if((i=a[u]).getter=r.EP.getter||(0,r.EP)(i.field),n=i.getter(e),(0,r.J_)(n)&&(n=(0,r.He)(n)),(0,r.J_)(o[u])&&(o[u]=(0,r.He)(o[u])),(0,r.J_)(o[u][0])&&(o[u]=o[u].map(r.He)),"E"===i.type){if((0,r.kJ)(o[u])?o[u].indexOf(n)<0:n!==o[u])return!1}else if("R"===i.type){if(!(0,r.u5)(n,o[u]))return!1}else if("R-RE"===i.type){if(!(0,r.u5)(n,o[u],!0,!1))return!1}else if("R-E"===i.type){if(!(0,r.u5)(n,o[u],!1,!1))return!1}else if("R-LE"===i.type){if(!(0,r.u5)(n,o[u],!1,!0))return!1}else if("E-LT"===i.type){if(n>=o[u])return!1}else if("E-LTE"===i.type){if(n>o[u])return!1}else if("E-GT"===i.type){if(n<=o[u])return!1}else if("E-GTE"===i.type){if(n<o[u])return!1}else if("E-VALID"===i.type&&(null===n||isNaN(n)))return!1;return!0}function f(e,t,n){for(var i,r,a,s,f,c=this.context.data[e],d=c?c.values.value:[],h=c?c[u]&&c[u].value:void 0,p=n===o,m=d.length,g=0;g<m;++g)if(i=d[g],h&&p){if(-1===(a=(r=r||{})[s=i.unit]||0))continue;if(f=l(t,i),r[s]=f?-1:++a,f&&1===h.size)return!0;if(!f&&a===h.get(s).count)return!1}else if(p^(f=l(t,i)))return f;return m&&p}const c=(0,r.EP)("_vgsid_"),d=(0,i.Z)(c),h=d.left,p=d.right;function m(e,t,n){const i=this.context.data[e],r=i?i.values.value:[],a=i?i[u]&&i[u].value:void 0,s=n===o,l=c(t),f=h(r,l);if(f===r.length)return!1;if(c(r[f])!==l)return!1;if(a&&s){if(1===a.size)return!0;if(p(r,l)-f<a.size)return!1}return!0}function g(e,t){return e.map((e=>(0,r.l7)({values:t.fields.map((t=>(t.getter||(t.getter=(0,r.EP)(t.field)))(e.datum)))},t)))}function y(e,t,n,i){for(var a,o,u,l,f,c,d,h,p,m,g,y=this.context.data[e],v=y?y.values.value:[],x={},_={},w={},A=v.length,k=0;k<A;++k){for(l=(a=v[k]).unit,o=a.fields,u=a.values,m=0,g=o.length;m<g;++m)f=o[m],d=(c=x[f.field]||(x[f.field]={}))[l]||(c[l]=[]),w[f.field]=h=f.type.charAt(0),p=b[h+"_union"],c[l]=p(d,(0,r.IX)(u[m]));n&&(d=_[l]||(_[l]=[])).push((0,r.IX)(u).reduce(((e,t,n)=>(e[o[n].field]=t,e)),{}))}return t=t||s,Object.keys(x).forEach((e=>{x[e]=Object.keys(x[e]).map((t=>x[e][t])).reduce(((n,i)=>void 0===n?i:b[w[e]+"_"+t](n,i)))})),v=Object.keys(_),n&&v.length&&(x[i?"vlPoint":"vlMulti"]=t===s?{or:v.reduce(((e,t)=>(e.push(..._[t]),e)),[])}:{and:v.map((e=>({or:_[e]})))}),x}var b={E_union:function(e,t){if(!e.length)return t;for(var n=0,i=t.length;n<i;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter((e=>t.indexOf(e)>=0)):t},R_union:function(e,t){var n=(0,r.He)(t[0]),i=(0,r.He)(t[1]);return n>i&&(n=t[1],i=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<i&&(e[1]=i),e):[n,i]},R_intersect:function(e,t){var n=(0,r.He)(t[0]),i=(0,r.He)(t[1]);return n>i&&(n=t[1],i=t[0]),e.length?i<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>i&&(e[1]=i),e):[n,i]}};function v(e,t,n,i){t[0].type!==a.t$&&(0,r.vU)("First argument to selection functions must be a string literal.");const s=t[0].value,u=":"+s;(t.length>=2&&(0,r.fj)(t).value)!==o||(0,r.nr)(i,"@unit")||(i["@unit"]=n.getData(s).indataRef(n,"unit")),(0,r.nr)(i,u)||(i[u]=n.getData(s).tuplesRef())}},12116:(e,t,n)=>{"use strict";n.d(t,{MX:()=>i.M,K:()=>r.K,Q3:()=>r.Q3,hz:()=>r.hz,HA:()=>r.HA,Tp:()=>a.Tp,Dg:()=>a.Dg,Nn:()=>a.Nn,if:()=>a.if,nP:()=>o.nP,ah:()=>o.ah,rH:()=>o.rH,At:()=>o.At}),n(99419);var i=n(49355),r=(n(13213),n(38598),n(68676)),a=(n(44543),n(34660)),o=n(91619);n(52930)},99419:(e,t,n)=>{"use strict";n(49355)},50739:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,v:()=>r});const i=Math.sqrt(2*Math.PI),r=Math.SQRT2},13213:(e,t,n)=>{"use strict";n(49355)},38598:(e,t,n)=>{"use strict";n(34660),n(49355)},68676:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,Q3:()=>o,hz:()=>s,HA:()=>u});var i=n(34660),r=n(50739);function a(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+(0,i.Tp)()*t)}function o(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;const i=(Math.log(e)-t)/n;return Math.exp(-.5*i*i)/(n*r.B*e)}function s(e,t,n){return(0,i.Nn)(Math.log(e),t,n)}function u(e,t,n){return Math.exp((0,i.if)(e,t,n))}},44543:(e,t,n)=>{"use strict";n(49355)},34660:(e,t,n)=>{"use strict";n.d(t,{Tp:()=>o,Dg:()=>s,Nn:()=>u,if:()=>l});var i=n(50739),r=n(49355);let a=NaN;function o(e,t){e=e||0,t=null==t?1:t;let n,i,o=0,s=0;if(a==a)o=a,a=NaN;else{do{o=2*(0,r.M)()-1,s=2*(0,r.M)()-1,n=o*o+s*s}while(0===n||n>1);i=Math.sqrt(-2*Math.log(n)/n),o*=i,a=s*i}return e+o*t}function s(e,t,n){const r=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*r*r)/(n*i.B)}function u(e,t,n){const i=(e-(t=t||0))/(n=null==n?1:n),r=Math.abs(i);let a;if(r>37)a=0;else{const e=Math.exp(-r*r/2);let t;r<7.07106781186547?(t=.0352624965998911*r+.700383064443688,t=t*r+6.37396220353165,t=t*r+33.912866078383,t=t*r+112.079291497871,t=t*r+221.213596169931,t=t*r+220.206867912376,a=e*t,t=.0883883476483184*r+1.75566716318264,t=t*r+16.064177579207,t=t*r+86.7807322029461,t=t*r+296.564248779674,t=t*r+637.333633378831,t=t*r+793.826512519948,t=t*r+440.413735824752,a/=t):(t=r+.65,t=r+4/t,t=r+3/t,t=r+2/t,t=r+1/t,a=e/t/2.506628274631)}return i>0?1-a:a}function l(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*i.v*function(e){let t,n=-Math.log((1-e)*(1+e));return n<6.25?(n-=3.125,t=-364441206401782e-35,t=t*n-16850591381820166e-35,t=128584807152564e-32+t*n,t=11157877678025181e-33+t*n,t=t*n-1333171662854621e-31,t=20972767875968562e-33+t*n,t=6637638134358324e-30+t*n,t=t*n-4054566272975207e-29,t=t*n-8151934197605472e-29,t=26335093153082323e-28+t*n,t=t*n-12975133253453532e-27,t=t*n-5415412054294628e-26,t=1.0512122733215323e-9+t*n,t=t*n-4.112633980346984e-9,t=t*n-2.9070369957882005e-8,t=4.2347877827932404e-7+t*n,t=t*n-13654692000834679e-22,t=t*n-13882523362786469e-21,t=.00018673420803405714+t*n,t=t*n-.000740702534166267,t=t*n-.006033670871430149,t=.24015818242558962+t*n,t=1.6536545626831027+t*n):n<16?(n=Math.sqrt(n)-3.25,t=2.2137376921775787e-9,t=9.075656193888539e-8+t*n,t=t*n-2.7517406297064545e-7,t=1.8239629214389228e-8+t*n,t=15027403968909828e-22+t*n,t=t*n-4013867526981546e-21,t=29234449089955446e-22+t*n,t=12475304481671779e-21+t*n,t=t*n-47318229009055734e-21,t=6828485145957318e-20+t*n,t=24031110387097894e-21+t*n,t=t*n-.0003550375203628475,t=.0009532893797373805+t*n,t=t*n-.0016882755560235047,t=.002491442096107851+t*n,t=t*n-.003751208507569241,t=.005370914553590064+t*n,t=1.0052589676941592+t*n,t=3.0838856104922208+t*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=-27109920616438573e-27,t=t*n-2.555641816996525e-10,t=1.5076572693500548e-9+t*n,t=t*n-3.789465440126737e-9,t=7.61570120807834e-9+t*n,t=t*n-1.496002662714924e-8,t=2.914795345090108e-8+t*n,t=t*n-6.771199775845234e-8,t=2.2900482228026655e-7+t*n,t=t*n-9.9298272942317e-7,t=4526062597223154e-21+t*n,t=t*n-1968177810553167e-20,t=7599527703001776e-20+t*n,t=t*n-.00021503011930044477,t=t*n-.00013871931833623122,t=1.0103004648645344+t*n,t=4.849906401408584+t*n):t=1/0,t*e}(2*e-1)}},49355:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var i=Math.random},52930:()=>{"use strict";Math.PI},91619:(e,t,n)=>{"use strict";n.d(t,{nP:()=>r,ah:()=>a,rH:()=>o,At:()=>s});var i=n(49355);function r(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*(0,i.M)()}function a(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function o(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function s(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}},36388:(e,t,n)=>{"use strict";n.d(t,{oP:()=>i.oP,PD:()=>i.PD,vc:()=>i.vc,ps:()=>i.ps,Hu:()=>i.Hu,x4:()=>i.x4,gd:()=>i.gd,DZ:()=>i.DZ,kG:()=>i.kG,cw:()=>i.cw,iJ:()=>i.iJ,y_:()=>r.y_,g0:()=>r.g0,zk:()=>r.zk,aw:()=>r.aw,JZ:()=>a.JZ,Vm:()=>a.Vm,uA:()=>a.uA,zr:()=>a.zr,_M:()=>a._M,MC:()=>a.MC});var i=n(28132),r=n(86968),a=(n(88783),n(19921));n(82832)},82832:(e,t,n)=>{"use strict";var i=n(28132);n(72688);[i.oP,i.vc,i.Hu,i.gd,i.DZ,i.kG,i.cw].slice(0,-1).slice(0,-1).slice(0,-1).slice(0,-1),i.oP,i.ps,i.oP,i.vc,i.oP},88783:(e,t,n)=>{"use strict";var i=n(28132);n(86968);n(72688),i.oP,i.PD,i.vc,i.Hu,i.gd,i.DZ,i.kG,i.cw,i.pN,i.ps,i.ps,i.x4,i.x4,i.PD,i.ps,i.oP,i.PD,i.vc,i.Hu,i.gd,i.DZ,i.kG,i.cw,i.pN,i.ps,i.x4,i.ps,i.x4,i.PD,i.ps},19921:(e,t,n)=>{"use strict";n.d(t,{JZ:()=>x,zr:()=>_,Vm:()=>A,_M:()=>k,uA:()=>D,MC:()=>E});var i=n(28132),r=n(35042),a=n(13001),o=n(57971),s=n(91427),u=n(74636),l=n(69639),f=n(74437),c=n(79217),d=n(52539),h=n(53621),p=n(26328),m=n(4518),g=n(20290),y=n(6731);const b={[i.oP]:r.Z,[i.PD]:a.Z.every(3),[i.vc]:a.Z,[i.ps]:o.OM,[i.Hu]:s.Z,[i.x4]:s.Z,[i.pN]:s.Z,[i.gd]:u.Z,[i.DZ]:l.Z,[i.kG]:f.Z,[i.cw]:c.Z},v={[i.oP]:d.Z,[i.PD]:h.Z.every(3),[i.vc]:h.Z,[i.ps]:p.Ox,[i.Hu]:m.Z,[i.x4]:m.Z,[i.pN]:m.Z,[i.gd]:g.Z,[i.DZ]:y.Z,[i.kG]:f.Z,[i.cw]:c.Z};function x(e){return b[e]}function _(e){return v[e]}function w(e,t,n){return e?e.offset(t,n):void 0}function A(e,t,n){return w(x(e),t,n)}function k(e,t,n){return w(_(e),t,n)}function O(e,t,n,i){return e?e.range(t,n,i):void 0}function D(e,t,n,i){return O(x(e),t,n,i)}function E(e,t,n,i){return O(_(e),t,n,i)}},28132:(e,t,n)=>{"use strict";n.d(t,{oP:()=>r,PD:()=>a,vc:()=>o,ps:()=>s,Hu:()=>u,x4:()=>l,pN:()=>f,gd:()=>c,DZ:()=>d,kG:()=>h,cw:()=>p,iJ:()=>y});var i=n(72688);const r="year",a="quarter",o="month",s="week",u="date",l="day",f="dayofyear",c="hours",d="minutes",h="seconds",p="milliseconds",m=[r,a,o,s,u,l,f,c,d,h,p].reduce(((e,t,n)=>(e[t]=1+n,e)),{}),g={[r]:"%Y ",[a]:"Q%q ",[o]:"%b ",[u]:"%d ",[s]:"W%U ",[l]:"%a ",[f]:"%j ",[c]:"%H:00",[d]:"00:%M",[h]:":%S",[p]:".%L",[`${r}-${o}`]:"%Y-%m ",[`${r}-${o}-${u}`]:"%Y-%m-%d ",[`${c}-${d}`]:"%H:%M"};function y(e,t){const n=(0,i.l7)({},g,t),r=function(e){const t=(0,i.IX)(e).slice(),n={};return t.length||(0,i.vU)("Missing time unit."),t.forEach((e=>{(0,i.nr)(m,e)?n[e]=1:(0,i.vU)(`Invalid time unit: ${e}.`)})),(n[s]||n[l]?1:0)+(n[a]||n[o]||n[u]?1:0)+(n[f]?1:0)>1&&(0,i.vU)(`Incompatible time units: ${e}`),t.sort(((e,t)=>m[e]-m[t])),t}(e),c=r.length;let d,h,p="",y=0;for(y=0;y<c;)for(d=r.length;d>y;--d)if(h=r.slice(y,d).join("-"),null!=n[h]){p+=n[h],y=d;break}return p.trim()}},86968:(e,t,n)=>{"use strict";n.d(t,{y_:()=>l,g0:()=>f,BO:()=>c,BA:()=>d,Rb:()=>h,zk:()=>p,aw:()=>m,zf:()=>g,MY:()=>y,o8:()=>b});var i=n(91427),r=n(57971),a=n(4518),o=n(26328);const s=new Date;function u(e){return s.setFullYear(e),s.setMonth(0),s.setDate(1),s.setHours(0,0,0,0),s}function l(e){return c(new Date(e))}function f(e){return d(new Date(e))}function c(e){return i.Z.count(u(e.getFullYear())-1,e)}function d(e){return r.OM.count(u(e.getFullYear())-1,e)}function h(e){return u(e).getDay()}function p(e){return g(new Date(e))}function m(e){return y(new Date(e))}function g(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return a.Z.count(t-1,e)}function y(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return o.Ox.count(t-1,e)}function b(e){return s.setTime(Date.UTC(e,0,1)),s.getUTCDay()}},72688:(e,t,n)=>{"use strict";n.d(t,{id:()=>i.id,yR:()=>i.yR,yb:()=>i.yb,kg:()=>r.ZP,jj:()=>r.jj,Dw:()=>a.Dw,mJ:()=>a.mJ,QA:()=>a.QA,Zw:()=>a.Zw,ay:()=>a.ay,dH:()=>a.dH,mK:()=>a.mK,bV:()=>a.bV,mS:()=>o.m,N3:()=>o.N,IX:()=>s.Z,l$:()=>u.Z,a9:()=>l.Z,Ds:()=>f.Z,vU:()=>c.Z,l7:()=>d.Z,We:()=>h.Z,EP:()=>p.Z,yl:()=>m.Z,nr:()=>g.Z,XW:()=>y.Z,u5:()=>b.Z,kJ:()=>v.Z,jn:()=>x.Z,J_:()=>_.Z,mf:()=>w.Z,TW:()=>A.Z,hj:()=>k.Z,Kn:()=>O.Z,Kj:()=>D.Z,HD:()=>E.Z,t7:()=>F.Z,$m:()=>$.Z,vk:()=>C.Z,fj:()=>M.Z,yP:()=>R.Z,m8:()=>S.Z,sw:()=>B.Z,ZU:()=>Z.Z,He:()=>T.Z,BB:()=>P.Z,Rg:()=>j.Z,$G:()=>z.Z,FP:()=>q.Z});var i=n(68194),r=n(73958),a=(n(21536),n(37803)),o=n(48093),s=n(81048),u=n(17696),l=(n(10353),n(83205)),f=n(80083),c=n(52438),d=n(10871),h=n(42993),p=(n(58368),n(95997)),m=n(66234),g=n(35083),y=n(88610),b=n(4879),v=n(62665),x=n(50824),_=n(86070),w=n(49180),A=n(11768),k=n(20961),O=n(4697),D=n(38178),E=n(48049),F=(n(77227),n(40756)),$=n(28538),C=n(29833),M=n(59686),R=n(24426),S=n(50671),B=n(56982),Z=n(72173),T=n(26542),P=n(5216),j=n(98372),z=n(94773),q=n(12725)},65191:(e,t,n)=>{"use strict";function i(e,t,n){return e.fields=t||[],e.fname=n,e}n.d(t,{ZP:()=>i})},68194:(e,t,n)=>{"use strict";n.d(t,{id:()=>r,yR:()=>a,yb:()=>o});var i=n(65191);const r=(0,n(95997).Z)("id"),a=(0,i.ZP)((e=>e),[],"identity"),o=((0,i.ZP)((()=>0),[],"zero"),(0,i.ZP)((()=>1),[],"one"),(0,i.ZP)((()=>!0),[],"true"));(0,i.ZP)((()=>!1),[],"false")},81048:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(62665);function r(e){return null!=e?(0,i.Z)(e)?e:[e]:[]}},17696:(e,t,n)=>{"use strict";function i(e,t,n){let i,r=e[0],a=e[1];return a<r&&(i=a,a=r,r=i),i=a-r,i>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-i),r+i]}n.d(t,{Z:()=>i})},10353:(e,t,n)=>{"use strict";n(81048)},83205:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(49180);function r(e){return(0,i.Z)(e)?e:()=>e}},80083:(e,t,n)=>{"use strict";function i(e,t){let n;return i=>{n&&clearTimeout(n),n=setTimeout((()=>(t(i),n=null)),e)}}n.d(t,{Z:()=>i})},52438:(e,t,n)=>{"use strict";function i(e){throw Error(e)}n.d(t,{Z:()=>i})},10871:(e,t,n)=>{"use strict";function i(e){for(let t,n,i=1,r=arguments.length;i<r;++i)for(n in t=arguments[i],t)e[n]=t[n];return e}n.d(t,{Z:()=>i})},42993:(e,t,n)=>{"use strict";function i(e,t){let n,i,r,a,o=0;if(e&&(n=e.length))if(null==t){for(i=e[o];o<n&&(null==i||i!=i);i=e[++o]);for(r=a=i;o<n;++o)i=e[o],null!=i&&(i<r&&(r=i),i>a&&(a=i))}else{for(i=t(e[o]);o<n&&(null==i||i!=i);i=t(e[++o]));for(r=a=i;o<n;++o)i=t(e[o]),null!=i&&(i<r&&(r=i),i>a&&(a=i))}return[r,a]}n.d(t,{Z:()=>i})},58368:(e,t,n)=>{"use strict";n(35083)},95997:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(65191),r=n(22333),a=n(23657);function o(e,t,n){const o=(0,a.Z)(e);return e=1===o.length?o[0]:e,(0,i.ZP)((n&&n.get||r.Z)(o),[e],t||e)}},66234:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(59686);function r(e,t,n,r,a,o){if(!n&&0!==n)return o;const s=+n;let u,l=e[0],f=(0,i.Z)(e);f<l&&(u=l,l=f,f=u),u=Math.abs(t-l);const c=Math.abs(f-t);return u<c&&u<=s?r:c<=s?a:o}},22333:(e,t,n)=>{"use strict";function i(e){return 1===e.length?r(e[0]):a(e)}n.d(t,{Z:()=>i});const r=e=>function(t){return t[e]},a=e=>{const t=e.length;return function(n){for(let i=0;i<t;++i)n=n[e[i]];return n}}},35083:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const i=Object.prototype.hasOwnProperty;function r(e,t){return i.call(e,t)}},88610:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(10871);function r(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),(0,i.Z)(r,n)}},4879:(e,t,n)=>{"use strict";function i(e,t,n,i){let r,a=t[0],o=t[t.length-1];return a>o&&(r=a,a=o,o=r),i=void 0===i||i,((n=void 0===n||n)?a<=e:a<e)&&(i?e<=o:e<o)}n.d(t,{Z:()=>i})},62665:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=Array.isArray},50824:(e,t,n)=>{"use strict";function i(e){return"boolean"==typeof e}n.d(t,{Z:()=>i})},86070:(e,t,n)=>{"use strict";function i(e){return"[object Date]"===Object.prototype.toString.call(e)}n.d(t,{Z:()=>i})},49180:(e,t,n)=>{"use strict";function i(e){return"function"==typeof e}n.d(t,{Z:()=>i})},11768:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(49180);function r(e){return e&&(0,i.Z)(e[Symbol.iterator])}},20961:(e,t,n)=>{"use strict";function i(e){return"number"==typeof e}n.d(t,{Z:()=>i})},4697:(e,t,n)=>{"use strict";function i(e){return e===Object(e)}n.d(t,{Z:()=>i})},38178:(e,t,n)=>{"use strict";function i(e){return"[object RegExp]"===Object.prototype.toString.call(e)}n.d(t,{Z:()=>i})},48049:(e,t,n)=>{"use strict";function i(e){return"string"==typeof e}n.d(t,{Z:()=>i})},77227:(e,t,n)=>{"use strict";n(81048)},40756:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(59686);function r(e,t){const n=e[0],r=(0,i.Z)(e),a=+t;return a?1===a?r:n+a*(r-n):n}},73958:(e,t,n)=>{"use strict";function i(e,t,n){const i=[t].concat([].slice.call(n));console[e].apply(console,i)}n.d(t,{jj:()=>r,ZP:()=>a});const r=1;function a(e,t,n=i){let a=e||0;return{level(e){return arguments.length?(a=+e,this):a},error(){return a>=r&&n(t||"error","ERROR",arguments),this},warn(){return a>=2&&n(t||"warn","WARN",arguments),this},info(){return a>=3&&n(t||"log","INFO",arguments),this},debug(){return a>=4&&n(t||"log","DEBUG",arguments),this}}}},28538:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(35083);function r(e){let t,n,r;e=+e||1e4;const a=()=>{t={},n={},r=0},o=(i,a)=>(++r>e&&(n=t,t={},r=1),t[i]=a);return a(),{clear:a,has:e=>(0,i.Z)(t,e)||(0,i.Z)(n,e),get:e=>(0,i.Z)(t,e)?t[e]:(0,i.Z)(n,e)?o(e,n[e]):void 0,set:(e,n)=>(0,i.Z)(t,e)?t[e]=n:o(e,n)}}},21536:(e,t,n)=>{"use strict";n(62665)},29833:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(57755);function r(e,t,n,r){const a=n||" ",o=e+"",s=t-o.length;return s<=0?o:"left"===r?(0,i.Z)(a,s)+o:"center"===r?(0,i.Z)(a,~~(s/2))+o+(0,i.Z)(a,Math.ceil(s/2)):o+(0,i.Z)(a,s)}},59686:(e,t,n)=>{"use strict";function i(e){return e[e.length-1]}n.d(t,{Z:()=>i})},48093:(e,t,n)=>{"use strict";function i(e){return 1+~~(new Date(e).getMonth()/3)}function r(e){return 1+~~(new Date(e).getUTCMonth()/3)}n.d(t,{m:()=>i,N:()=>r})},57755:(e,t,n)=>{"use strict";function i(e,t){let n="";for(;--t>=0;)n+=e;return n}n.d(t,{Z:()=>i})},24426:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(59686);function r(e){return e&&(0,i.Z)(e)-e[0]||0}},23657:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(52438);function r(e){const t=[],n=e.length;let r,a,o,s=null,u=0,l="";function f(){t.push(l+e.substring(r,a)),l="",r=a+1}for(e+="",r=a=0;a<n;++a)if(o=e[a],"\\"===o)l+=e.substring(r,a),l+=e.substring(++a,++a),r=a;else if(o===s)f(),s=null,u=-1;else{if(s)continue;r===u&&'"'===o||r===u&&"'"===o?(r=a+1,s=o):"."!==o||u?"["===o?(a>r&&f(),u=r=a+1):"]"===o&&(u||(0,i.Z)("Access path missing open bracket: "+e),u>0&&f(),u=0,r=a+1):a>r?f():r=a+1}return u&&(0,i.Z)("Access path missing closing bracket: "+e),s&&(0,i.Z)("Access path missing closing quote: "+e),a>r&&(a++,f()),t}},50671:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(62665),r=n(4697),a=n(48049);function o(e){return(0,i.Z)(e)?"["+e.map(o)+"]":(0,r.Z)(e)||(0,a.Z)(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}},56982:(e,t,n)=>{"use strict";function i(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e||!e)}n.d(t,{Z:()=>i})},72173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var i=n(86070),r=n(20961);const a=e=>(0,r.Z)(e)||(0,i.Z)(e)?e:Date.parse(e);function o(e,t){return t=t||a,null==e||""===e?null:t(e)}},26542:(e,t,n)=>{"use strict";function i(e){return null==e||""===e?null:+e}n.d(t,{Z:()=>i})},98372:(e,t,n)=>{"use strict";function i(e){const t={},n=e.length;for(let i=0;i<n;++i)t[e[i]]=!0;return t}n.d(t,{Z:()=>i})},5216:(e,t,n)=>{"use strict";function i(e){return null==e||""===e?null:e+""}n.d(t,{Z:()=>i})},37803:(e,t,n)=>{"use strict";n.d(t,{Dw:()=>d,mJ:()=>h,QA:()=>p,Zw:()=>m,ay:()=>y,dH:()=>b,mK:()=>v,bV:()=>x});var i=n(68194),r=n(59686),a=n(26542);const o=e=>t=>e*Math.exp(t),s=e=>t=>Math.log(e*t),u=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),l=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,f=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function c(e,t,n,i){const a=n(e[0]),o=n((0,r.Z)(e)),s=(o-a)*t;return[i(a-s),i(o-s)]}function d(e,t){return c(e,t,a.Z,i.yR)}function h(e,t){var n=Math.sign(e[0]);return c(e,t,s(n),o(n))}function p(e,t,n){return c(e,t,f(n),f(1/n))}function m(e,t,n){return c(e,t,u(n),l(n))}function g(e,t,n,i,a){const o=i(e[0]),s=i((0,r.Z)(e)),u=null!=t?i(t):(o+s)/2;return[a(u+(o-u)*n),a(u+(s-u)*n)]}function y(e,t,n){return g(e,t,n,a.Z,i.yR)}function b(e,t,n){const i=Math.sign(e[0]);return g(e,t,n,s(i),o(i))}function v(e,t,n,i){return g(e,t,n,f(i),f(1/i))}function x(e,t,n,i){return g(e,t,n,u(i),l(i))}},94773:(e,t,n)=>{"use strict";function i(e,t,n,i){const r=null!=i?i:"…",a=e+"",o=a.length,s=Math.max(0,t-r.length);return o<=t?a:"left"===n?r+a.slice(o-s):"center"===n?a.slice(0,Math.ceil(s/2))+r+a.slice(o-~~(s/2)):a.slice(0,s)+r}n.d(t,{Z:()=>i})},12725:(e,t,n)=>{"use strict";function i(e,t,n){if(e)if(t){const i=e.length;for(let r=0;r<i;++r){const i=t(e[r]);i&&n(i,r,e)}}else e.forEach(n)}n.d(t,{Z:()=>i})},12360:(e,t,n)=>{"use strict";function i(e,t){if("undefined"!=typeof document&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}n.d(t,{v:()=>i,K:()=>r});const r=()=>"undefined"!=typeof Image?Image:null},58906:(e,t,n)=>{"use strict";n.r(t),n.d(t,{crossfilter:()=>h,resolvefilter:()=>p});var i=n(55354),r=n(24306),a=n(1015),o=n(54374);const s=e=>new Uint8Array(e),u=e=>new Uint16Array(e),l=e=>new Uint32Array(e);function f(e,t,n){const i=(t<257?s:t<65537?u:l)(e);return n&&i.set(n),i}function c(e,t,n){const i=1<<t;return{one:i,zero:~i,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(e,t){const n=this,r=n.bisect(n.range,e.value),a=e.index,o=r[0],s=r[1],u=a.length;let l;for(l=0;l<o;++l)t[a[l]]|=i;for(l=s;l<u;++l)t[a[l]]|=i;return n}}}function d(){let e=l(0),t=[],n=0;return{insert:function(i,a,o){if(!a.length)return[];const s=n,u=a.length,f=l(u);let c,d,h,p=Array(u);for(h=0;h<u;++h)p[h]=i(a[h]),f[h]=h;if(p=function(e,t){return e.sort.call(t,((t,n)=>{const i=e[t],r=e[n];return i<r?-1:i>r?1:0})),(0,r.Z)(e,t)}(p,f),s)c=t,d=e,t=Array(s+u),e=l(s+u),function(e,t,n,i,r,a,o,s,u){let l,f=0,c=0;for(l=0;f<i&&c<o;++l)t[f]<r[c]?(s[l]=t[f],u[l]=n[f++]):(s[l]=r[c],u[l]=a[c++]+e);for(;f<i;++f,++l)s[l]=t[f],u[l]=n[f];for(;c<o;++c,++l)s[l]=r[c],u[l]=a[c]+e}(o,c,d,s,p,f,u,t,e);else{if(o>0)for(h=0;h<u;++h)f[h]+=o;t=p,e=f}return n=s+u,{index:f,value:p}},remove:function(i,r){const a=n;let o,s,u;for(s=0;!r[e[s]]&&s<a;++s);for(u=s;s<a;++s)r[o=e[s]]||(e[u]=o,t[u]=t[s],++u);n=a-i},bisect:function(e,r){let a;return r?a=r.length:(r=t,a=n),[(0,i.Nw)(r,e[0],0,a),(0,i.ml)(r,e[1],0,a)]},reindex:function(t){for(let i=0,r=n;i<r;++i)e[i]=t[e[i]]},index:()=>e,size:()=>n}}function h(e){a.wx.call(this,function(){let e=8,t=[],n=l(0),i=f(0,e),r=f(0,e);return{data:()=>t,seen:()=>n=function(e,t,n){return e.length>=t?e:((n=n||new e.constructor(t)).set(e),n)}(n,t.length),add(e){for(let n,i=0,r=t.length,a=e.length;i<a;++i)n=e[i],n._index=r++,t.push(n)},remove(e,n){const a=t.length,o=Array(a-e),s=t;let u,l,f;for(l=0;!n[l]&&l<a;++l)o[l]=t[l],s[l]=l;for(f=l;l<a;++l)u=t[l],n[l]?s[l]=-1:(s[l]=f,i[f]=i[l],r[f]=r[l],o[f]=u,u._index=f++),i[l]=0;return t=o,s},size:()=>t.length,curr:()=>i,prev:()=>r,reset:e=>r[e]=i[e],all:()=>e<257?255:e<65537?65535:4294967295,set(e,t){i[e]|=t},clear(e,t){i[e]&=~t},resize(t,n){(t>i.length||n>e)&&(e=Math.max(n,e),i=f(t,e,i),r=f(t,e))}}}(),e),this._indices=null,this._dims=null}function p(e){a.wx.call(this,null,e)}h.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]},(0,o.XW)(h,a.wx,{transform(e,t){return this._dims?e.modified("fields")||e.fields.some((e=>t.modified(e.fields)))?this.reinit(e,t):this.eval(e,t):this.init(e,t)},init(e,t){const n=e.fields,i=e.query,r=this._indices={},a=this._dims=[],o=i.length;let s,u,l=0;for(;l<o;++l)s=n[l].fname,u=r[s]||(r[s]=d()),a.push(c(u,l,i[l]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),i=e.fields,r=e.query,a=this._indices,o=this._dims,s=this.value,u=s.curr(),l=s.prev(),f=s.all(),h=n.rem=n.add,p=n.mod,m=r.length,g={};let y,b,v,x,_,w,A,k,O;if(l.set(u),t.rem.length&&(_=this.remove(e,t,n)),t.add.length&&s.add(t.add),t.mod.length)for(w={},x=t.mod,A=0,k=x.length;A<k;++A)w[x[A]._index]=1;for(A=0;A<m;++A)O=i[A],(!o[A]||e.modified("fields",A)||t.modified(O.fields))&&(v=O.fname,(y=g[v])||(a[v]=b=d(),g[v]=y=b.insert(O,t.source,0)),o[A]=c(b,A,r[A]).onAdd(y,u));for(A=0,k=s.data().length;A<k;++A)_[A]||(l[A]!==u[A]?h.push(A):w[A]&&u[A]!==f&&p.push(A));return s.mask=(1<<m)-1,n},eval(e,t){const n=t.materialize().fork(),i=this._dims.length;let r=0;return t.rem.length&&(this.remove(e,t,n),r|=(1<<i)-1),e.modified("query")&&!e.modified("fields")&&(r|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),r|=(1<<i)-1),t.mod.length&&(this.modify(t,n),r|=(1<<i)-1),this.value.mask=r,n},insert(e,t,n){const i=t.add,r=this.value,a=this._dims,o=this._indices,s=e.fields,u={},l=n.add,f=r.size()+i.length,c=a.length;let d,h,p,m=r.size();r.resize(f,c),r.add(i);const g=r.curr(),y=r.prev(),b=r.all();for(d=0;d<c;++d)h=s[d].fname,p=u[h]||(u[h]=o[h].insert(s[d],i,m)),a[d].onAdd(p,g);for(;m<f;++m)y[m]=b,g[m]!==b&&l.push(m)},modify(e,t){const n=t.mod,i=this.value,r=i.curr(),a=i.all(),o=e.mod;let s,u,l;for(s=0,u=o.length;s<u;++s)l=o[s]._index,r[l]!==a&&n.push(l)},remove(e,t,n){const i=this._indices,r=this.value,a=r.curr(),o=r.prev(),s=r.all(),u={},l=n.rem,f=t.rem;let c,d,h,p;for(c=0,d=f.length;c<d;++c)h=f[c]._index,u[h]=1,o[h]=p=a[h],a[h]=s,p!==s&&l.push(h);for(h in i)i[h].remove(d,u);return this.reindex(t,d,u),u},reindex(e,t,n){const i=this._indices,r=this.value;e.runAfter((()=>{const e=r.remove(t,n);for(const t in i)i[t].reindex(e)}))},update(e,t,n){const i=this._dims,r=e.query,a=t.stamp,o=i.length;let s,u,l=0;for(n.filters=0,u=0;u<o;++u)e.modified("query",u)&&(s=u,++l);if(1===l)l=i[s].one,this.incrementOne(i[s],r[s],n.add,n.rem);else for(u=0,l=0;u<o;++u)e.modified("query",u)&&(l|=i[u].one,this.incrementAll(i[u],r[u],a,n.add),n.rem=n.add);return l},incrementAll(e,t,n,i){const r=this.value,a=r.seen(),o=r.curr(),s=r.prev(),u=e.index(),l=e.bisect(e.range),f=e.bisect(t),c=f[0],d=f[1],h=l[0],p=l[1],m=e.one;let g,y,b;if(c<h)for(g=c,y=Math.min(h,d);g<y;++g)b=u[g],a[b]!==n&&(s[b]=o[b],a[b]=n,i.push(b)),o[b]^=m;else if(c>h)for(g=h,y=Math.min(c,p);g<y;++g)b=u[g],a[b]!==n&&(s[b]=o[b],a[b]=n,i.push(b)),o[b]^=m;if(d>p)for(g=Math.max(c,p),y=d;g<y;++g)b=u[g],a[b]!==n&&(s[b]=o[b],a[b]=n,i.push(b)),o[b]^=m;else if(d<p)for(g=Math.max(h,d),y=p;g<y;++g)b=u[g],a[b]!==n&&(s[b]=o[b],a[b]=n,i.push(b)),o[b]^=m;e.range=t.slice()},incrementOne(e,t,n,i){const r=this.value.curr(),a=e.index(),o=e.bisect(e.range),s=e.bisect(t),u=s[0],l=s[1],f=o[0],c=o[1],d=e.one;let h,p,m;if(u<f)for(h=u,p=Math.min(f,l);h<p;++h)m=a[h],r[m]^=d,n.push(m);else if(u>f)for(h=f,p=Math.min(u,c);h<p;++h)m=a[h],r[m]^=d,i.push(m);if(l>c)for(h=Math.max(u,c),p=l;h<p;++h)m=a[h],r[m]^=d,n.push(m);else if(l<c)for(h=Math.max(f,l),p=c;h<p;++h)m=a[h],r[m]^=d,i.push(m);e.range=t.slice()}}),p.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]},(0,o.XW)(p,a.wx,{transform(e,t){const n=~(e.ignore||0),i=e.filter,r=i.mask;if(0==(r&n))return t.StopPropagation;const a=t.fork(t.ALL),o=i.data(),s=i.curr(),u=i.prev(),l=e=>s[e]&n?null:o[e];return a.filter(a.MOD,l),r&r-1?(a.filter(a.ADD,(e=>{const t=s[e]&n;return!t&&t^u[e]&n?o[e]:null})),a.filter(a.REM,(e=>{const t=s[e]&n;return!t||t^t^u[e]&n?null:o[e]}))):(a.filter(a.ADD,l),a.filter(a.REM,(e=>(s[e]&n)===r?o[e]:null))),a.filter(a.SOURCE,(e=>l(e._index)))}})},1015:(e,t,n)=>{"use strict";n.d(t,{h1:()=>N,MF:()=>E,EF:()=>k,wx:()=>L,MY:()=>s,_K:()=>v,DF:()=>W,sY:()=>p,ax:()=>h,my:()=>b,x3:()=>f,BW:()=>m,gx:()=>g,vo:()=>y,Lo:()=>I,ai:()=>c});var i=n(54374),r=n(65516),a=n(57326);function o(e){const t=e||i.yR,n=[],r={};return n.add=e=>{const i=t(e);return r[i]||(r[i]=1,n.push(e)),n},n.remove=e=>{const i=t(e);if(r[i]){r[i]=0;const t=n.indexOf(e);t>=0&&n.splice(t,1)}return n},n}async function s(e,t){try{await t(e)}catch(t){e.error(t)}}const u=Symbol("vega_id");let l=1;function f(e){return!(!e||!c(e))}function c(e){return e[u]}function d(e,t){return e[u]=t,e}function h(e){const t=e===Object(e)?e:{data:e};return c(t)?t:d(t,l++)}function p(e){return m(e,h({}))}function m(e,t){for(const n in e)t[n]=e[n];return t}function g(e,t){return d(t,c(e))}function y(e,t){return e?t?(n,i)=>e(n,i)||c(t(n))-c(t(i)):(t,n)=>e(t,n)||c(t)-c(n):null}function b(e){return e&&e.constructor===v}function v(){const e=[],t=[],n=[],r=[],a=[];let o=null,s=!1;return{constructor:v,insert(t){const n=(0,i.IX)(t),r=n.length;for(let t=0;t<r;++t)e.push(n[t]);return this},remove(e){const n=(0,i.mf)(e)?r:t,a=(0,i.IX)(e),o=a.length;for(let e=0;e<o;++e)n.push(a[e]);return this},modify(e,t,r){const o={field:t,value:(0,i.a9)(r)};return(0,i.mf)(e)?(o.filter=e,a.push(o)):(o.tuple=e,n.push(o)),this},encode(e,t){return(0,i.mf)(e)?a.push({filter:e,field:t}):n.push({tuple:e,field:t}),this},clean(e){return o=e,this},reflow(){return s=!0,this},pulse(i,u){const l={},f={};let d,p,m,g,y,b;for(d=0,p=u.length;d<p;++d)l[c(u[d])]=1;for(d=0,p=t.length;d<p;++d)y=t[d],l[c(y)]=-1;for(d=0,p=r.length;d<p;++d)g=r[d],u.forEach((e=>{g(e)&&(l[c(e)]=-1)}));for(d=0,p=e.length;d<p;++d)y=e[d],b=c(y),l[b]?l[b]=1:i.add.push(h(e[d]));for(d=0,p=u.length;d<p;++d)y=u[d],l[c(y)]<0&&i.rem.push(y);function v(e,t,n){n?e[t]=n(e):i.encode=t,s||(f[c(e)]=e)}for(d=0,p=n.length;d<p;++d)m=n[d],y=m.tuple,g=m.field,b=l[c(y)],b>0&&(v(y,g,m.value),i.modifies(g));for(d=0,p=a.length;d<p;++d)m=a[d],g=m.filter,u.forEach((e=>{g(e)&&l[c(e)]>0&&v(e,m.field,m.value)})),i.modifies(m.field);if(s)i.mod=t.length||r.length?u.filter((e=>l[c(e)]>0)):u.slice();else for(b in f)i.mod.push(f[b]);return(o||null==o&&(t.length||r.length))&&i.clean(!0),i}}}const x="_:mod:_";function _(){Object.defineProperty(this,x,{writable:!0,value:{}})}_.prototype={set(e,t,n,r){const a=this,o=a[e],s=a[x];return null!=t&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(a[e]=n,s[e]=(0,i.kJ)(n)?1+n.length:-1),a},modified(e,t){const n=this[x];if(!arguments.length){for(const e in n)if(n[e])return!0;return!1}if((0,i.kJ)(e)){for(let t=0;t<e.length;++t)if(n[e[t]])return!0;return!1}return null!=t&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[x]={},this}};let w=0;const A=new _;function k(e,t,n,i){this.id=++w,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,i)}function O(e){return function(t){const n=this.flags;return 0===arguments.length?!!(n&e):(this.flags=t?n|e:n&~e,this)}}k.prototype={targets(){return this._targets||(this._targets=o(i.id))},set(e){return this.value!==e?(this.value=e,1):0},skip:O(1),modified:O(2),parameters(e,t,n){t=!1!==t;const r=this._argval=this._argval||new _,a=this._argops=this._argops||[],o=[];let s,u,l,f;const c=(e,n,i)=>{i instanceof k?(i!==this&&(t&&i.targets().add(this),o.push(i)),a.push({op:i,name:e,index:n})):r.set(e,n,i)};for(s in e)if(u=e[s],"pulse"===s)(0,i.IX)(u).forEach((e=>{e instanceof k?e!==this&&(e.targets().add(this),o.push(e)):(0,i.vU)("Pulse parameters must be operator instances.")})),this.source=u;else if((0,i.kJ)(u))for(r.set(s,-1,Array(l=u.length)),f=0;f<l;++f)c(s,f,u[f]);else c(s,-1,u);return this.marshall().clear(),n&&(a.initonly=!0),o},marshall(e){const t=this._argval||A,n=this._argops;let i,r,a,o;if(n){const s=n.length;for(r=0;r<s;++r)i=n[r],a=i.op,o=a.modified()&&a.stamp===e,t.set(i.name,i.index,a.value,o);if(n.initonly){for(r=0;r<s;++r)i=n[r],i.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,i,r;if(e)for(t=0,n=e.length;t<n;++t)i=e[t],r=i.op,r._targets&&r._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),i=t.call(this,n,e);if(n.clear(),i!==this.value)this.value=i;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};let D=0;function E(e,t,n){this.id=++D,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function F(e,t,n){return new E(e,t,n)}E.prototype={_filter:i.yb,_apply:i.yR,targets(){return this._targets||(this._targets=o(i.id))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,i=n?n.length:0;for(let e=0;e<i;++e)n[e].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=F(e);return this.targets().add(t),t},apply(e){const t=F(null,e);return this.targets().add(t),t},merge(){const e=F();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter((()=>{const n=Date.now();return n-t>e?(t=n,1):0}))},debounce(e){const t=F();return this.targets().add(F(null,null,(0,i.Ds)(e,(e=>{const n=e.dataflow;t.receive(e),n&&n.run&&n.run()})))),t},between(e,t){let n=!1;return e.targets().add(F(null,null,(()=>n=!0))),t.targets().add(F(null,null,(()=>n=!1))),this.filter((()=>n))},detach(){this._filter=i.yb,this._targets=null}};const $={skip:!0};function C(e,t,n,r,a,o){const s=(0,i.l7)({},o,$);let u,l;(0,i.mf)(n)||(n=(0,i.a9)(n)),void 0===r?u=t=>e.touch(n(t)):(0,i.mf)(r)?(l=new k(null,r,a,!1),u=t=>{l.evaluate(t);const i=n(t),r=l.value;b(r)?e.pulse(i,r,o):e.update(i,r,s)}):u=t=>e.update(n(t),r,s),t.apply(u)}function M(e,t,n,r,a,o){if(void 0===r)t.targets().add(n);else{const s=o||{},u=new k(null,function(e,t){return t=(0,i.mf)(t)?t:(0,i.a9)(t),e?function(n,i){const r=t(n,i);return e.skip()||(e.skip(r!==this.value).value=r),r}:t}(n,r),a,!1);u.modified(s.force),u.rank=t.rank,t.targets().add(u),n&&(u.skip(!0),u.value=n.value,u.targets().add(n),e.connect(n,[u]))}}const R={};function S(e,t,n){this.dataflow=e,this.stamp=null==t?-1:t,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function B(e,t){const n=[];return(0,i.FP)(e,t,(e=>n.push(e))),n}function Z(e,t){const n={};return e.visit(t,(e=>{n[c(e)]=1})),e=>n[c(e)]?null:e}function T(e,t){return e?(n,i)=>e(n,i)&&t(n,i):t}function P(e,t,n,i){const r=this,a=n.length;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=i||null,this.pulses=n;for(let e=0;e<a;++e){const i=n[e];if(i.stamp===t){if(i.fields){const e=r.fields||(r.fields={});for(const t in i.fields)e[t]=1}i.changed(r.ADD)&&(o|=r.ADD),i.changed(r.REM)&&(o|=r.REM),i.changed(r.MOD)&&(o|=r.MOD)}}this.changes=o}function j(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}S.prototype={StopPropagation:R,ADD:1,REM:2,MOD:4,ADD_REM:3,ADD_MOD:5,ALL:7,REFLOW:8,SOURCE:16,NO_SOURCE:32,NO_FIELDS:64,fork(e){return new S(this.dataflow).init(this,e)},clone(){const e=this.fork(7);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(23)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new S(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,!e.fields||64&t||(n.fields=e.fields),1&t?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),2&t?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),4&t?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),32&t?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||7;return 1&t&&this.add.length||2&t&&this.rem.length||4&t&&this.mod.length},reflow(e){if(e)return this.fork(7).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(4,Z(this,1))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return(0,i.kJ)(e)?e.forEach((e=>t[e]=!0)):t[e]=!0,this},modified(e,t){const n=this.fields;return!(!t&&!this.mod.length||!n)&&(arguments.length?(0,i.kJ)(e)?e.some((e=>n[e])):n[e]:!!n)},filter(e,t){const n=this;return 1&e&&(n.addF=T(n.addF,t)),2&e&&(n.remF=T(n.remF,t)),4&e&&(n.modF=T(n.modF,t)),16&e&&(n.srcF=T(n.srcF,t)),n},materialize(e){const t=this;return 1&(e=e||7)&&t.addF&&(t.add=B(t.add,t.addF),t.addF=null),2&e&&t.remF&&(t.rem=B(t.rem,t.remF),t.remF=null),4&e&&t.modF&&(t.mod=B(t.mod,t.modF),t.modF=null),16&e&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(16&e)return(0,i.FP)(n.source,n.srcF,r),n;1&e&&(0,i.FP)(n.add,n.addF,r),2&e&&(0,i.FP)(n.rem,n.remF,r),4&e&&(0,i.FP)(n.mod,n.modF,r);const a=n.source;if(8&e&&a){const e=n.add.length+n.mod.length;e===a.length||(e?(0,i.FP)(a,Z(n,5),r):(0,i.FP)(a,n.srcF,r))}return n}},(0,i.XW)(P,S,{fork(e){const t=new S(this.dataflow).init(this,e&this.NO_FIELDS);return void 0!==e&&(e&t.ADD&&this.visit(t.ADD,(e=>t.add.push(e))),e&t.REM&&this.visit(t.REM,(e=>t.rem.push(e))),e&t.MOD&&this.visit(t.MOD,(e=>t.mod.push(e)))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?(0,i.kJ)(e)?e.some((e=>n[e])):n[e]:0},filter(){(0,i.vU)("MultiPulse does not support filtering.")},materialize(){(0,i.vU)("MultiPulse does not support materialization.")},visit(e,t){const n=this,i=n.pulses,r=i.length;let a=0;if(e&n.SOURCE)for(;a<r;++a)i[a].visit(e,t);else for(;a<r;++a)i[a].stamp===n.stamp&&i[a].visit(e,t);return n}});const z={skip:!1,force:!1};function q(e,t,n,i){let r,a;const o=e[n];for(;n>t&&(a=n-1>>1,r=e[a],i(o,r)<0);)e[n]=r,n=a;return e[n]=o}function N(){this.logger((0,i.kg)()),this.logLevel(i.jj),this._clock=0,this._rank=0,this._locale=(0,a.al)();try{this._loader=(0,r._m)()}catch(e){}this._touched=o(i.id),this._input={},this._pulse=null,this._heap=function(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),q(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let i;return t.length?(i=t[0],t[0]=n,function(e,t,n){const i=t,r=e.length,a=e[t];let o,s=1+(t<<1);for(;s<r;)o=s+1,o<r&&n(e[s],e[o])>=0&&(s=o),e[t]=e[s],s=1+((t=s)<<1);e[t]=a,q(e,i,t,n)}(t,0,e)):i=n,i}}}(((e,t)=>e.qrank-t.qrank)),this._postrun=[]}function U(e){return function(){return this._log[e].apply(this,arguments)}}function L(e,t){k.call(this,e,null,t)}N.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:U("error"),warn:U("warn"),info:U("info"),debug:U("debug"),logLevel:U("level"),cleanThreshold:1e4,add:function(e,t,n,r){let a,o=1;return e instanceof k?a=e:e&&e.prototype instanceof k?a=new e:(0,i.mf)(e)?a=new k(null,e):(o=0,a=new k(e,t)),this.rank(a),o&&(r=n,n=t),n&&this.connect(a,a.parameters(n,r)),this.touch(a),a},connect:function(e,t){const n=e.rank,i=t.length;for(let r=0;r<i;++r)if(n<t[r].rank)return void this.rerank(e)},rank:function(e){e.rank=++this._rank},rerank:function(e){const t=[e];let n,r,a;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(a=r.length;--a>=0;)t.push(n=r[a]),n===e&&(0,i.vU)("Cycle detected in dataflow graph.")},pulse:function(e,t,n){this.touch(e,n||z);const i=new S(this,this._clock+(this._pulse?0:1)),r=e.pulse&&e.pulse.source||[];return i.target=e,this._input[e.id]=t.pulse(i,r),this},touch:function(e,t){const n=t||z;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this},update:function(e,t,n){const i=n||z;return(e.set(t)||i.force)&&this.touch(e,i),this},changeset:v,ingest:function(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))},parse:function(e,t){const n=this.locale();return(0,r.ij)(e,t,n.timeParse,n.utcParse)},preload:async function(e,t,n){const r=this,a=r._pending||function(e){let t;const n=new Promise((e=>t=e));return n.requests=0,n.done=()=>{0==--n.requests&&(e._pending=null,t(e))},e._pending=n}(r);a.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(i.yb).insert(o.data||[])),a.done(),o},request:async function(e,t){const n=this;let i,a=0;try{i=await n.loader().load(e,{context:"dataflow",response:(0,r.hh)(t&&t.type)});try{i=n.parse(i,t)}catch(t){a=-2,n.warn("Data ingestion failed",e,t)}}catch(t){a=-1,n.warn("Loading failed",e,t)}return{data:i,status:a}},events:function(e,t,n,r){const a=this,o=F(n,r),s=function(e){e.dataflow=a;try{o.receive(e)}catch(e){a.error(e)}finally{a.run()}};let u;u="string"==typeof e&&"undefined"!=typeof document?document.querySelectorAll(e):(0,i.IX)(e);const l=u.length;for(let e=0;e<l;++e)u[e].addEventListener(t,s);return o},on:function(e,t,n,i,r){return(e instanceof k?M:C)(this,e,t,n,i,r),this},evaluate:async function(e,t,n){const r=this,a=[];if(r._pulse)return j(r);if(r._pending&&await r._pending,t&&await s(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const u=++r._clock;r._pulse=new S(r,u,e),r._touched.forEach((e=>r._enqueue(e,!0))),r._touched=o(i.id);let l,f,c,d=0;try{for(;r._heap.size()>0;)l=r._heap.pop(),l.rank===l.qrank?(f=l.run(r._getPulse(l,e)),f.then?f=await f:f.async&&(a.push(f.async),f=R),f!==R&&l._targets&&l._targets.forEach((e=>r._enqueue(e))),++d):r._enqueue(l,!0)}catch(e){r._heap.clear(),c=e}if(r._input={},r._pulse=null,r.debug(`Pulse ${u}: ${d} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const e=r._postrun.sort(((e,t)=>t.priority-e.priority));r._postrun=[];for(let t=0;t<e.length;++t)await s(r,e[t].callback)}return n&&await s(r,n),a.length&&Promise.all(a).then((e=>r.runAsync(null,(()=>{e.forEach((e=>{try{e(r)}catch(e){r.error(e)}}))})))),r},run:function(e,t,n){return this._pulse?j(this):(this.evaluate(e,t,n),this)},runAsync:async function(e,t,n){for(;this._running;)await this._running;const i=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(i,i),this._running},runAfter:function(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(e){this.error(e)}},_enqueue:function(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))},_getPulse:function(e,t){const n=e.source,r=this._clock;return n&&(0,i.kJ)(n)?new P(this,r,n.map((e=>e.pulse)),t):this._input[e.id]||function(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==R&&(e.source=t.source),e)}(this._pulse,n&&n.pulse)}},(0,i.XW)(L,k,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then((e=>this.pulse=e)):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const I={};function W(e){const t=function(e){return e=e&&e.toLowerCase(),(0,i.nr)(I,e)?I[e]:null}(e);return t&&t.Definition||null}},18622:(e,t,n)=>{"use strict";n.r(t),n.d(t,{axisticks:()=>f,datajoin:()=>c,encode:()=>h,legendentries:()=>p,linkpath:()=>v,pie:()=>k,scale:()=>E,sortitems:()=>M,stack:()=>T});var i=n(1015),r=n(2891),a=n(54374),o=n(87631),s=n(2467),u=n(30023),l=n(68266);function f(e){i.wx.call(this,null,e)}function c(e){i.wx.call(this,null,e)}function d(){return(0,i.ax)({})}function h(e){i.wx.call(this,null,e)}function p(e){i.wx.call(this,[],e)}(0,a.XW)(f,i.wx,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),a=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=this.value,s=e.scale,u=null==e.count?e.values?e.values.length:10:e.count,l=(0,r.QL)(s,u,e.minstep),f=e.format||(0,r.uk)(n,s,l,e.formatSpecifier,e.formatType,!!e.values),c=e.values?(0,r.bX)(s,e.values,l):(0,r.DP)(s,l);return o&&(a.rem=o),o=c.map(((e,t)=>(0,i.ax)({index:t/(c.length-1||1),value:e,label:f(e)}))),e.extra&&o.length&&o.push((0,i.ax)({index:-1,extra:{value:o[0].value},label:""})),a.source=o,a.add=o,this.value=o,a}}),(0,a.XW)(c,i.wx,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.item||d,s=e.key||i.ai,u=this.value;return(0,a.kJ)(r.encode)&&(r.encode=null),u&&(e.modified("key")||t.modified(s))&&(0,a.vU)("DataJoin does not support modified key function or fields."),u||(t=t.addAll(),this.value=u=function(e){const t=(0,a.Xr)().test((e=>e.exit));return t.lookup=n=>t.get(e(n)),t}(s)),t.visit(t.ADD,(e=>{const t=s(e);let n=u.get(t);n?n.exit?(u.empty--,r.add.push(n)):r.mod.push(n):(n=o(e),u.set(t,n),r.add.push(n)),n.datum=e,n.exit=!1})),t.visit(t.MOD,(e=>{const t=s(e),n=u.get(t);n&&(n.datum=e,r.mod.push(n))})),t.visit(t.REM,(e=>{const t=s(e),n=u.get(t);e!==n.datum||n.exit||(r.rem.push(n),n.exit=!0,++u.empty)})),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&u.empty>n.cleanThreshold)&&n.runAfter(u.clean),r}}),(0,a.XW)(h,i.wx,{transform(e,t){var n=t.fork(t.ADD_REM),i=e.mod||!1,r=e.encoders,o=t.encode;if((0,a.kJ)(o)){if(!n.changed()&&!o.every((e=>r[e])))return t.StopPropagation;o=o[0],n.encode=null}var s="enter"===o,u=r.update||a.k,l=r.enter||a.k,f=r.exit||a.k,c=(o&&!s?r[o]:u)||a.k;if(t.changed(t.ADD)&&(t.visit(t.ADD,(t=>{l(t,e),u(t,e)})),n.modifies(l.output),n.modifies(u.output),c!==a.k&&c!==u&&(t.visit(t.ADD,(t=>{c(t,e)})),n.modifies(c.output))),t.changed(t.REM)&&f!==a.k&&(t.visit(t.REM,(t=>{f(t,e)})),n.modifies(f.output)),s||c!==a.k){const r=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(r,(t=>{const r=l(t,e)||i;(c(t,e)||r)&&n.mod.push(t)})),n.mod.length&&n.modifies(l.output)):t.visit(r,(t=>{(c(t,e)||i)&&n.mod.push(t)})),n.mod.length&&n.modifies(c.output)}return n.changed()?n:t.StopPropagation}}),(0,a.XW)(p,i.wx,{transform(e,t){if(null!=this.value&&!e.modified())return t.StopPropagation;var n,o,s,u,l,f=t.dataflow.locale(),c=t.fork(t.NO_SOURCE|t.NO_FIELDS),d=this.value,h=e.type||r.UX,p=e.scale,m=+e.limit,g=(0,r.QL)(p,null==e.count?5:e.count,e.minstep),y=!!e.values||h===r.UX,b=e.format||(0,r.n7)(f,p,g,h,e.formatSpecifier,e.formatType,y),v=e.values||(0,r.PL)(p,g);return d&&(c.rem=d),h===r.UX?(m&&v.length>m?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),d=v.slice(0,m-1),l=!0):d=v,(0,a.mf)(s=e.size)?(e.values||0!==p(d[0])||(d=d.slice(1)),u=d.reduce(((t,n)=>Math.max(t,s(n,e))),0)):s=(0,a.a9)(u=s||8),d=d.map(((t,n)=>(0,i.ax)({index:n,label:b(t,n,d),value:t,offset:u,size:s(t,e)}))),l&&(l=v[d.length],d.push((0,i.ax)({index:d.length,label:"…".concat(v.length-d.length," entries"),value:l,offset:u,size:s(l,e)})))):h===r.Aq?(n=p.domain(),o=(0,r.NR)(p,n[0],(0,a.fj)(n)),v.length<3&&!e.values&&n[0]!==(0,a.fj)(n)&&(v=[n[0],(0,a.fj)(n)]),d=v.map(((e,t)=>(0,i.ax)({index:t,label:b(e,t,v),value:e,perc:o(e)})))):(s=v.length-1,o=(0,r.cA)(p),d=v.map(((e,t)=>(0,i.ax)({index:t,label:b(e,t,v),value:e,perc:t?o(e):0,perc2:t===s?1:o(v[t+1])})))),c.source=d,c.add=d,this.value=d,c}});const m=e=>e.source.x,g=e=>e.source.y,y=e=>e.target.x,b=e=>e.target.y;function v(e){i.wx.call(this,{},e)}v.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]},(0,a.XW)(v,i.wx,{transform(e,t){var n=e.sourceX||m,i=e.sourceY||g,r=e.targetX||y,o=e.targetY||b,s=e.as||"path",u=e.orient||"vertical",l=e.shape||"line",f=A.get(l+"-"+u)||A.get(l);return f||(0,a.vU)("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,(e=>{e[s]=f(n(e),i(e),r(e),o(e))})),t.reflow(e.modified()).modifies(s)}});const x=(e,t,n,i)=>"M"+e+","+t+"L"+n+","+i,_=(e,t,n,i)=>{var r=n-e,a=i-t,o=Math.sqrt(r*r+a*a)/2;return"M"+e+","+t+"A"+o+","+o+" "+180*Math.atan2(a,r)/Math.PI+" 0 1 "+n+","+i},w=(e,t,n,i)=>{const r=n-e,a=i-t,o=.2*(r+a),s=.2*(a-r);return"M"+e+","+t+"C"+(e+o)+","+(t+s)+" "+(n+s)+","+(i-o)+" "+n+","+i},A=(0,a.Xr)({line:x,"line-radial":(e,t,n,i)=>x(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),arc:_,"arc-radial":(e,t,n,i)=>_(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),curve:w,"curve-radial":(e,t,n,i)=>w(t*Math.cos(e),t*Math.sin(e),i*Math.cos(n),i*Math.sin(n)),"orthogonal-horizontal":(e,t,n,i)=>"M"+e+","+t+"V"+i+"H"+n,"orthogonal-vertical":(e,t,n,i)=>"M"+e+","+t+"H"+n+"V"+i,"orthogonal-radial":(e,t,n,i)=>{const r=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n);return"M"+t*r+","+t*a+"A"+t+","+t+" 0 0,"+((Math.abs(n-e)>Math.PI?n<=e:n>e)?1:0)+" "+t*o+","+t*s+"L"+i*o+","+i*s},"diagonal-horizontal":(e,t,n,i)=>{const r=(e+n)/2;return"M"+e+","+t+"C"+r+","+t+" "+r+","+i+" "+n+","+i},"diagonal-vertical":(e,t,n,i)=>{const r=(t+i)/2;return"M"+e+","+t+"C"+e+","+r+" "+n+","+r+" "+n+","+i},"diagonal-radial":(e,t,n,i)=>{const r=Math.cos(e),a=Math.sin(e),o=Math.cos(n),s=Math.sin(n),u=(t+i)/2;return"M"+t*r+","+t*a+"C"+u*r+","+u*a+" "+u*o+","+u*s+" "+i*o+","+i*s}});function k(e){i.wx.call(this,null,e)}function O(e){return(0,r.z2)(e)&&e!==r.sb}k.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]},(0,a.XW)(k,i.wx,{transform(e,t){var n,i,r,u=e.as||["startAngle","endAngle"],l=u[0],f=u[1],c=e.field||a.kX,d=e.startAngle||0,h=null!=e.endAngle?e.endAngle:2*Math.PI,p=t.source,m=p.map(c),g=m.length,y=d,b=(h-d)/(0,o.Z)(m),v=(0,s.Z)(g);for(e.sort&&v.sort(((e,t)=>m[e]-m[t])),n=0;n<g;++n)r=m[v[n]],(i=p[v[n]])[l]=y,i[f]=y+=r*b;return this.value=m,t.reflow(e.modified()).modifies(u)}});const D=(0,a.Rg)(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function E(e){i.wx.call(this,null,e),this.modified(!0)}function F(e,t,n){return(0,r.dh)(e)&&Math.abs(t.reduce(((e,t)=>e+(t<0?-1:t>0?1:0)),0))!==t.length&&n.warn("Log scale domain includes zero: "+(0,a.m8)(t)),t}function $(e,t,n){return(0,a.mf)(e)&&(t||n)?(0,r.ST)(e,C(t||[0,1],n)):e}function C(e,t){return t?e.slice().reverse():e}function M(e){i.wx.call(this,null,e)}(0,a.XW)(E,i.wx,{transform(e,t){var n=t.dataflow,i=this.value,o=function(e){var t,n=e.type,i="";return n===r.sb?r.sb+"-"+r.bJ:(function(e){const t=e.type;return(0,r.z2)(t)&&t!==r.qp&&t!==r.zR&&(e.scheme||e.range&&e.range.length&&e.range.every(a.HD))}(e)&&(i=2===(t=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(null!=e.domainMid):0)?r.sb+"-":3===t?r.QZ+"-":""),(i+n||r.bJ).toLowerCase())}(e);for(o in i&&o===i.type||(this.value=i=(0,r.bA)(o)()),e)if(!D[o]){if("padding"===o&&O(i.type))continue;(0,a.mf)(i[o])?i[o](e[o]):n.warn("Unsupported scale property: "+o)}return function(e,t,n){var i=e.type,o=t.round||!1,s=t.range;if(null!=t.rangeStep)s=function(e,t,n){e!==r.td&&e!==r.E9&&(0,a.vU)("Only band and point scales support rangeStep.");var i=(null!=t.paddingOuter?t.paddingOuter:t.padding)||0,o=e===r.E9?1:(null!=t.paddingInner?t.paddingInner:t.padding)||0;return[0,t.rangeStep*(0,r.U6)(n,o,i)]}(i,t,n);else if(t.scheme&&(s=function(e,t,n){var i,o,s=t.schemeExtent;return(0,a.kJ)(t.scheme)?o=(0,r.Nz)(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),(o=(0,r.rC)(i))||(0,a.vU)("Unrecognized scheme name: ".concat(t.scheme))),n=e===r.Ms?n+1:e===r.a7?n-1:e===r.cO||e===r.J$?+t.schemeCount||5:n,(0,r.hC)(e)?$(o,s,t.reverse):(0,a.mf)(o)?(0,r.u1)($(o,s),n):e===r.r7?o:o.slice(0,n)}(i,t,n),(0,a.mf)(s))){if(e.interpolator)return e.interpolator(s);(0,a.vU)("Scale type ".concat(i," does not support interpolating color schemes."))}if(s&&(0,r.hC)(i))return e.interpolator((0,r.Nz)(C(s,t.reverse),t.interpolate,t.interpolateGamma));s&&t.interpolate&&e.interpolate?e.interpolate((0,r.sX)(t.interpolate,t.interpolateGamma)):(0,a.mf)(e.round)?e.round(o):(0,a.mf)(e.rangeRound)&&e.interpolate(o?u.Z:l.Z),s&&e.range(C(s,t.reverse))}(i,e,function(e,t,n){let i=t.bins;if(i&&!(0,a.kJ)(i)){const t=e.domain(),n=t[0],r=(0,a.fj)(t),o=i.step;let u=null==i.start?n:i.start,l=null==i.stop?r:i.stop;o||(0,a.vU)("Scale bins parameter missing step property."),u<n&&(u=o*Math.ceil(n/o)),l>r&&(l=o*Math.floor(r/o)),i=(0,s.Z)(u,l+o/2,o)}return i?e.bins=i:e.bins&&delete e.bins,e.type===r.a7&&(i?t.domain||t.domainRaw||(e.domain(i),n=i.length):e.bins=e.domain()),n}(i,e,function(e,t,n){const i=function(e,t,n){return t?(e.domain(F(e.type,t,n)),t.length):-1}(e,t.domainRaw,n);if(i>-1)return i;var o,s,u=t.domain,l=e.type,f=t.zero||void 0===t.zero&&function(e){const t=e.type;return!e.bins&&(t===r.bJ||t===r.pe||t===r.FK)}(e);if(!u)return 0;if(O(l)&&t.padding&&u[0]!==(0,a.fj)(u)&&(u=function(e,t,n,i,o,s){var u=Math.abs((0,a.fj)(n)-n[0]),l=u/(u-2*i),f=e===r.Zb?(0,a.dH)(t,null,l):e===r.FK?(0,a.mK)(t,null,l,.5):e===r.pe?(0,a.mK)(t,null,l,o||1):e===r.PB?(0,a.bV)(t,null,l,s||1):(0,a.ay)(t,null,l);return(t=t.slice())[0]=f[0],t[t.length-1]=f[1],t}(l,u,t.range,t.padding,t.exponent,t.constant)),(f||null!=t.domainMin||null!=t.domainMax||null!=t.domainMid)&&(o=(u=u.slice()).length-1||1,f&&(u[0]>0&&(u[0]=0),u[o]<0&&(u[o]=0)),null!=t.domainMin&&(u[0]=t.domainMin),null!=t.domainMax&&(u[o]=t.domainMax),null!=t.domainMid)){const e=(s=t.domainMid)>u[o]?o+1:s<u[0]?0:o;e!==o&&n.warn("Scale domainMid exceeds domain min or max.",s),u.splice(e,0,s)}return e.domain(F(l,u,n)),l===r.r7&&e.unknown(t.domainImplicit?r.qm:void 0),t.nice&&e.nice&&e.nice(!0!==t.nice&&(0,r.QL)(e,t.nice)||null),u.length}(i,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),(0,a.XW)(M,i.wx,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort((0,i.vo)(e.sort)),this.modified(n),t}});const R="zero",S="center",B="normalize",Z=["y0","y1"];function T(e){i.wx.call(this,null,e)}function P(e,t,n,i,r){for(var a,o=(t-e.sum)/2,s=e.length,u=0;u<s;++u)(a=e[u])[i]=o,a[r]=o+=Math.abs(n(a))}function j(e,t,n,i,r){for(var a,o=1/e.sum,s=0,u=e.length,l=0,f=0;l<u;++l)(a=e[l])[i]=s,a[r]=s=o*(f+=Math.abs(n(a)))}function z(e,t,n,i,r){for(var a,o,s=0,u=0,l=e.length,f=0;f<l;++f)(a=+n(o=e[f]))<0?(o[i]=u,o[r]=u+=a):(o[i]=s,o[r]=s+=a)}T.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:R,values:[R,S,B]},{name:"as",type:"string",array:!0,length:2,default:Z}]},(0,a.XW)(T,i.wx,{transform(e,t){var n,r,o,s,u=e.as||Z,l=u[0],f=u[1],c=(0,i.vo)(e.sort),d=e.field||a.kX,h=e.offset===S?P:e.offset===B?j:z;for(n=function(e,t,n,i){var r,a,o,s,u,l,f,c,d,h=[],p=e=>e(u);if(null==t)h.push(e.slice());else for(r={},a=0,o=e.length;a<o;++a)u=e[a],(f=r[l=t.map(p)])||(r[l]=f=[],h.push(f)),f.push(u);for(l=0,d=0,s=h.length;l<s;++l){for(a=0,c=0,o=(f=h[l]).length;a<o;++a)c+=Math.abs(i(f[a]));f.sum=c,c>d&&(d=c),n&&f.sort(n)}return h.max=d,h}(t.source,e.groupby,c,d),r=0,o=n.length,s=n.max;r<o;++r)h(n[r],s,d,l,f);return t.reflow(e.modified()).modifies(u)}})},13775:(e,t,n)=>{"use strict";n.d(t,{r:()=>s});const i=/[[\]{}]/,r={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let a,o;function s(e,t,n){return a=t||"view",o=n||r,l(e.trim()).map(f)}function u(e,t,n,i,r){const a=e.length;let o,s=0;for(;t<a;++t){if(o=e[t],!s&&o===n)return t;r&&r.indexOf(o)>=0?--s:i&&i.indexOf(o)>=0&&++s}return t}function l(e){const t=[],n=e.length;let i=0,r=0;for(;r<n;)r=u(e,r,",","[{","]}"),t.push(e.substring(i,r).trim()),i=++r;if(0===t.length)throw"Empty event selector: "+e;return t}function f(e){return"["===e[0]?function(e){const t=e.length;let n,i=1;if(i=u(e,i,"]","[","]"),i===t)throw"Empty between selector: "+e;if(n=l(e.substring(1,i)),2!==n.length)throw"Between selector must have two elements: "+e;if(">"!==(e=e.slice(i+1).trim())[0])throw"Expected '>' after between selector: "+e;n=n.map(f);const r=f(e.slice(1).trim());return r.between?{between:n,stream:r}:(r.between=n,r)}(e):function(e){const t={source:a},n=[];let r,s,l=[0,0],f=0,c=0,d=e.length,h=0;if("}"===e[d-1]){if(h=e.lastIndexOf("{"),!(h>=0))throw"Unmatched right brace: "+e;try{l=function(e){const t=e.split(",");if(!e.length||t.length>2)throw e;return t.map((t=>{const n=+t;if(n!=n)throw e;return n}))}(e.substring(h+1,d-1))}catch(t){throw"Invalid throttle specification: "+e}d=(e=e.slice(0,h).trim()).length,h=0}if(!d)throw e;if("@"===e[0]&&(f=++h),r=u(e,h,":"),r<d&&(n.push(e.substring(c,r).trim()),c=h=++r),h=u(e,h,"["),h===d)n.push(e.substring(c,d).trim());else if(n.push(e.substring(c,h).trim()),s=[],c=++h,c===d)throw"Unmatched left bracket: "+e;for(;h<d;){if(h=u(e,h,"]"),h===d)throw"Unmatched left bracket: "+e;if(s.push(e.substring(c,h).trim()),h<d-1&&"["!==e[++h])throw"Expected left bracket: "+e;c=++h}if(!(d=n.length)||i.test(n[d-1]))throw"Invalid event selector: "+e;var p;return d>1?(t.type=n[1],f?t.markname=n[0].slice(1):(p=n[0],o[p]?t.marktype=n[0]:t.source=n[0])):t.type=n[0],"!"===t.type.slice(-1)&&(t.consume=!0,t.type=t.type.slice(0,-1)),null!=s&&(t.filter=s),l[0]&&(t.throttle=l[0]),l[1]&&(t.debounce=l[1]),t}(e)}},52865:(e,t,n)=>{"use strict";n.d(t,{Lt:()=>a,t$:()=>r,YP:()=>fe,_G:()=>ue,wk:()=>le,BJ:()=>se});var i=n(54374);const r="Literal",a="CallExpression";function o(e){this.type=e}var s,u,l,f,c;o.prototype.visit=function(e){let t,n,i;if(e(this))return 1;for(t=function(e){switch(e.type){case"ArrayExpression":return e.elements;case"BinaryExpression":case"LogicalExpression":return[e.left,e.right];case a:return[e.callee].concat(e.arguments);case"ConditionalExpression":return[e.test,e.consequent,e.alternate];case"MemberExpression":return[e.object,e.property];case"ObjectExpression":return e.properties;case"Property":return[e.key,e.value];case"UnaryExpression":return[e.argument];default:return[]}}(this),n=0,i=t.length;n<i;++n)if(t[n].visit(e))return 1},(s={})[1]="Boolean",s[2]="<end>",s[3]="Identifier",s[4]="Keyword",s[5]="Null",s[6]="Numeric",s[7]="Punctuator",s[8]="String",s[9]="RegularExpression";var d="Identifier",h="Unexpected token %0",p="Invalid regular expression",m="Invalid regular expression: missing /",g="Octal literals are not allowed in strict mode.",y="ILLEGAL",b="Disabled.",v=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),x=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function _(e,t){if(!e)throw new Error("ASSERT: "+t)}function w(e){return e>=48&&e<=57}function A(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function k(e){return"01234567".indexOf(e)>=0}function O(e){return 32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function D(e){return 10===e||13===e||8232===e||8233===e}function E(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||92===e||e>=128&&v.test(String.fromCharCode(e))}function F(e){return 36===e||95===e||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||92===e||e>=128&&x.test(String.fromCharCode(e))}const $={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function C(){for(;l<f;){const e=u.charCodeAt(l);if(!O(e)&&!D(e))break;++l}}function M(e){var t,n,i,r=0;for(n="u"===e?4:2,t=0;t<n;++t)l<f&&A(u[l])?(i=u[l++],r=16*r+"0123456789abcdef".indexOf(i.toLowerCase())):W({},h,y);return String.fromCharCode(r)}function R(){var e,t,n,i;for(t=0,"}"===(e=u[l])&&W({},h,y);l<f&&A(e=u[l++]);)t=16*t+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||"}"!==e)&&W({},h,y),t<=65535?String.fromCharCode(t):(n=55296+(t-65536>>10),i=56320+(t-65536&1023),String.fromCharCode(n,i))}function S(){var e,t;for(e=u.charCodeAt(l++),t=String.fromCharCode(e),92===e&&(117!==u.charCodeAt(l)&&W({},h,y),++l,(e=M("u"))&&"\\"!==e&&E(e.charCodeAt(0))||W({},h,y),t=e);l<f&&F(e=u.charCodeAt(l));)++l,t+=String.fromCharCode(e),92===e&&(t=t.substr(0,t.length-1),117!==u.charCodeAt(l)&&W({},h,y),++l,(e=M("u"))&&"\\"!==e&&F(e.charCodeAt(0))||W({},h,y),t+=e);return t}function B(){var e,t,n,i,r=l,a=u.charCodeAt(l),o=u[l];switch(a){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++l,{type:7,value:String.fromCharCode(a),start:r,end:l};default:if(61===(e=u.charCodeAt(l+1)))switch(a){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return l+=2,{type:7,value:String.fromCharCode(a)+String.fromCharCode(e),start:r,end:l};case 33:case 61:return l+=2,61===u.charCodeAt(l)&&++l,{type:7,value:u.slice(r,l),start:r,end:l}}}return">>>="===(i=u.substr(l,4))?{type:7,value:i,start:r,end:l+=4}:">>>"===(n=i.substr(0,3))||"<<="===n||">>="===n?{type:7,value:n,start:r,end:l+=3}:o===(t=n.substr(0,2))[1]&&"+-<>&|".indexOf(o)>=0||"=>"===t?{type:7,value:t,start:r,end:l+=2}:("//"===t&&W({},h,y),"<>=!+-*%&|^/".indexOf(o)>=0?{type:7,value:o,start:r,end:++l}:void W({},h,y))}function Z(){var e,t,n;if(_(w((n=u[l]).charCodeAt(0))||"."===n,"Numeric literal must start with a decimal digit or a decimal point"),t=l,e="","."!==n){if(e=u[l++],n=u[l],"0"===e){if("x"===n||"X"===n)return++l,function(e){let t="";for(;l<f&&A(u[l]);)t+=u[l++];return 0===t.length&&W({},h,y),E(u.charCodeAt(l))&&W({},h,y),{type:6,value:parseInt("0x"+t,16),start:e,end:l}}(t);if(k(n))return function(e){let t="0"+u[l++];for(;l<f&&k(u[l]);)t+=u[l++];return(E(u.charCodeAt(l))||w(u.charCodeAt(l)))&&W({},h,y),{type:6,value:parseInt(t,8),octal:!0,start:e,end:l}}(t);n&&w(n.charCodeAt(0))&&W({},h,y)}for(;w(u.charCodeAt(l));)e+=u[l++];n=u[l]}if("."===n){for(e+=u[l++];w(u.charCodeAt(l));)e+=u[l++];n=u[l]}if("e"===n||"E"===n)if(e+=u[l++],"+"!==(n=u[l])&&"-"!==n||(e+=u[l++]),w(u.charCodeAt(l)))for(;w(u.charCodeAt(l));)e+=u[l++];else W({},h,y);return E(u.charCodeAt(l))&&W({},h,y),{type:6,value:parseFloat(e),start:t,end:l}}function T(){if(C(),l>=f)return{type:2,start:l,end:l};const e=u.charCodeAt(l);return E(e)?(t=l,n=92===u.charCodeAt(l)?S():function(){var e,t;for(e=l++;l<f;){if(92===(t=u.charCodeAt(l)))return l=e,S();if(!F(t))break;++l}return u.slice(e,l)}(),{type:1===n.length?3:$.hasOwnProperty(n)?4:"null"===n?5:"true"===n||"false"===n?1:3,value:n,start:t,end:l}):40===e||41===e||59===e?B():39===e||34===e?function(){var e,t,n,i,r="",a=!1;for(_("'"===(e=u[l])||'"'===e,"String literal must starts with a quote"),t=l,++l;l<f;){if((n=u[l++])===e){e="";break}if("\\"===n)if((n=u[l++])&&D(n.charCodeAt(0)))"\r"===n&&"\n"===u[l]&&++l;else switch(n){case"u":case"x":"{"===u[l]?(++l,r+=R()):r+=M(n);break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"b":r+="\b";break;case"f":r+="\f";break;case"v":r+="\v";break;default:k(n)?(0!==(i="01234567".indexOf(n))&&(a=!0),l<f&&k(u[l])&&(a=!0,i=8*i+"01234567".indexOf(u[l++]),"0123".indexOf(n)>=0&&l<f&&k(u[l])&&(i=8*i+"01234567".indexOf(u[l++]))),r+=String.fromCharCode(i)):r+=n}else{if(D(n.charCodeAt(0)))break;r+=n}}return""!==e&&W({},h,y),{type:8,value:r,octal:a,start:t,end:l}}():46===e?w(u.charCodeAt(l+1))?Z():B():w(e)?Z():B();var t,n}function P(){const e=c;return l=e.end,c=T(),l=e.end,e}function j(){const e=l;c=T(),l=e}function z(e,t,n){const i=new o("||"===e||"&&"===e?"LogicalExpression":"BinaryExpression");return i.operator=e,i.left=t,i.right=n,i}function q(e,t){const n=new o("CallExpression");return n.callee=e,n.arguments=t,n}function N(e){const t=new o(d);return t.name=e,t}function U(e){const t=new o("Literal");return t.value=e.value,t.raw=u.slice(e.start,e.end),e.regex&&("//"===t.raw&&(t.raw="/(?:)/"),t.regex=e.regex),t}function L(e,t,n){const i=new o("MemberExpression");return i.computed="["===e,i.object=t,i.property=n,i.computed||(n.member=!0),i}function I(e,t,n){const i=new o("Property");return i.key=t,i.value=n,i.kind=e,i}function W(e,t){var n,i=Array.prototype.slice.call(arguments,2),r=t.replace(/%(\d)/g,((e,t)=>(_(t<i.length,"Message reference must be in range"),i[t])));throw(n=new Error(r)).index=l,n.description=r,n}function X(e){2===e.type&&W(e,"Unexpected end of input"),6===e.type&&W(e,"Unexpected number"),8===e.type&&W(e,"Unexpected string"),3===e.type&&W(e,"Unexpected identifier"),4===e.type&&W(e,"Unexpected reserved word"),W(e,h,e.value)}function V(e){const t=P();7===t.type&&t.value===e||X(t)}function H(e){return 7===c.type&&c.value===e}function J(e){return 4===c.type&&c.value===e}function Y(){l=c.start;const e=P();return 8===e.type||6===e.type?(e.octal&&W(e,g),U(e)):N(e.value)}function G(){var e,t,n;return l=c.start,3===(e=c).type?(n=Y(),V(":"),I("init",n,ae())):2!==e.type&&7!==e.type?(t=Y(),V(":"),I("init",t,ae())):void X(e)}const K={if:1};function Q(){var e,t,n,i,r,a,s;if(H("("))return function(){V("(");const e=oe();return V(")"),e}();if(H("["))return function(){const e=[];for(l=c.start,V("[");!H("]");)H(",")?(P(),e.push(null)):(e.push(ae()),H("]")||V(","));return P(),function(e){const t=new o("ArrayExpression");return t.elements=e,t}(e)}();if(H("{"))return function(){var e,t,n=[],i={},r=String;for(l=c.start,V("{");!H("}");)t="$"+((e=G()).key.type===d?e.key.name:r(e.key.value)),Object.prototype.hasOwnProperty.call(i,t)?W({},"Duplicate data property in object literal not allowed in strict mode"):i[t]=!0,n.push(e),H("}")||V(",");return V("}"),function(e){const t=new o("ObjectExpression");return t.properties=e,t}(n)}();if(e=c.type,l=c.start,3===e||K[c.value])n=N(P().value);else if(8===e||6===e)c.octal&&W(c,g),n=U(P());else{if(4===e)throw new Error(b);1===e?((t=P()).value="true"===t.value,n=U(t)):5===e?((t=P()).value=null,n=U(t)):H("/")||H("/=")?(n=U((c=null,C(),i=l,r=function(){var e,t,n,i;for(_("/"===(e=u[l]),"Regular expression literal must start with a slash"),t=u[l++],n=!1,i=!1;l<f;)if(t+=e=u[l++],"\\"===e)D((e=u[l++]).charCodeAt(0))&&W({},m),t+=e;else if(D(e.charCodeAt(0)))W({},m);else if(n)"]"===e&&(n=!1);else{if("/"===e){i=!0;break}"["===e&&(n=!0)}return i||W({},m),{value:t.substr(1,t.length-2),literal:t}}(),a=function(){var e,t,n;for(t="",n="";l<f&&F((e=u[l]).charCodeAt(0));)++l,"\\"===e&&l<f?W({},h,y):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&W({},p,n),{value:n,literal:t}}(),s=function(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,((e,t)=>{if(parseInt(t,16)<=1114111)return"x";W({},p)})).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch(e){W({},p)}try{return new RegExp(e,t)}catch(e){return null}}(r.value,a.value),{literal:r.literal+a.literal,value:s,regex:{pattern:r.value,flags:a.value},start:i,end:l})),j()):X(P())}return n}function ee(){const e=[];if(V("("),!H(")"))for(;l<f&&(e.push(ae()),!H(")"));)V(",");return V(")"),e}function te(){V("[");const e=oe();return V("]"),e}function ne(){const e=function(){var e;for(e=Q();;)if(H("."))e=L(".",e,(V("."),function(){l=c.start;const e=P();return function(e){return 3===e.type||4===e.type||1===e.type||5===e.type}(e)||X(e),N(e.value)}()));else if(H("("))e=q(e,ee());else{if(!H("["))break;e=L("[",e,te())}return e}();if(7===c.type&&(H("++")||H("--")))throw new Error(b);return e}function ie(){var e,t;if(7!==c.type&&4!==c.type)t=ne();else{if(H("++")||H("--"))throw new Error(b);if(H("+")||H("-")||H("~")||H("!"))e=P(),t=ie(),t=function(e,t){const n=new o("UnaryExpression");return n.operator=e,n.argument=t,n.prefix=!0,n}(e.value,t);else{if(J("delete")||J("void")||J("typeof"))throw new Error(b);t=ne()}}return t}function re(e){let t=0;if(7!==e.type&&4!==e.type)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11}return t}function ae(){var e,t;return e=function(){var e,t,n,i,r,a,o,s,u,l;if(e=c,u=ie(),0===(r=re(i=c)))return u;for(i.prec=r,P(),t=[e,c],a=[u,i,o=ie()];(r=re(c))>0;){for(;a.length>2&&r<=a[a.length-2].prec;)o=a.pop(),s=a.pop().value,u=a.pop(),t.pop(),n=z(s,u,o),a.push(n);(i=P()).prec=r,a.push(i),t.push(c),n=ie(),a.push(n)}for(n=a[l=a.length-1],t.pop();l>1;)t.pop(),n=z(a[l-1].value,a[l-2],n),l-=2;return n}(),H("?")&&(P(),t=ae(),V(":"),e=function(e,t,n){const i=new o("ConditionalExpression");return i.test=e,i.consequent=t,i.alternate=n,i}(e,t,ae())),e}function oe(){const e=ae();if(H(","))throw new Error(b);return e}function se(e){l=0,f=(u=e).length,c=null,j();const t=oe();if(2!==c.type)throw new Error("Unexpect token after expression.");return t}var ue={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function le(e){function t(t,n,i){return r=>function(t,n,i,r){let a=e(n[0]);return i&&(a=i+"("+a+")",0===i.lastIndexOf("new ",0)&&(a="("+a+")")),a+"."+t+(r<0?"":0===r?"()":"("+n.slice(1).map(e).join(",")+")")}(t,r,n,i)}const n="new Date",r="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(t){t.length<3&&(0,i.vU)("Missing arguments to clamp function."),t.length>3&&(0,i.vU)("Too many arguments to clamp function.");const n=t.map(e);return"Math.max("+n[1]+", Math.min("+n[2]+","+n[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:n,date:t("getDate",n,0),day:t("getDay",n,0),year:t("getFullYear",n,0),month:t("getMonth",n,0),hours:t("getHours",n,0),minutes:t("getMinutes",n,0),seconds:t("getSeconds",n,0),milliseconds:t("getMilliseconds",n,0),time:t("getTime",n,0),timezoneoffset:t("getTimezoneOffset",n,0),utcdate:t("getUTCDate",n,0),utcday:t("getUTCDay",n,0),utcyear:t("getUTCFullYear",n,0),utcmonth:t("getUTCMonth",n,0),utchours:t("getUTCHours",n,0),utcminutes:t("getUTCMinutes",n,0),utcseconds:t("getUTCSeconds",n,0),utcmilliseconds:t("getUTCMilliseconds",n,0),length:t("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:t("toUpperCase",r,0),lower:t("toLowerCase",r,0),substring:t("substring",r),split:t("split",r),trim:t("trim",r,0),regexp:a,test:t("test",a),if:function(t){t.length<3&&(0,i.vU)("Missing arguments to if function."),t.length>3&&(0,i.vU)("Too many arguments to if function.");const n=t.map(e);return"("+n[0]+"?"+n[1]+":"+n[2]+")"}}}function fe(e){const t=(e=e||{}).allowed?(0,i.Rg)(e.allowed):{},n=e.forbidden?(0,i.Rg)(e.forbidden):{},r=e.constants||ue,a=(e.functions||le)(d),o=e.globalvar,s=e.fieldvar,u=(0,i.mf)(o)?o:e=>`${o}["${e}"]`;let l={},f={},c=0;function d(e){if((0,i.HD)(e))return e;const t=h[e.type];return null==t&&(0,i.vU)("Unsupported type: "+e.type),t(e)}const h={Literal:e=>e.raw,Identifier:e=>{const a=e.name;return c>0?a:(0,i.nr)(n,a)?(0,i.vU)("Illegal identifier: "+a):(0,i.nr)(r,a)?r[a]:(0,i.nr)(t,a)?a:(l[a]=1,u(a))},MemberExpression:e=>{const t=!e.computed,n=d(e.object);t&&(c+=1);const i=d(e.property);return n===s&&(f[function(e){const t=e&&e.length-1;return t&&('"'===e[0]&&'"'===e[t]||"'"===e[0]&&"'"===e[t])?e.slice(1,-1):e}(i)]=1),t&&(c-=1),n+(t?"."+i:"["+i+"]")},CallExpression:e=>{"Identifier"!==e.callee.type&&(0,i.vU)("Illegal callee type: "+e.callee.type);const t=e.callee.name,n=e.arguments,r=(0,i.nr)(a,t)&&a[t];return r||(0,i.vU)("Unrecognized function: "+t),(0,i.mf)(r)?r(n):r+"("+n.map(d).join(",")+")"},ArrayExpression:e=>"["+e.elements.map(d).join(",")+"]",BinaryExpression:e=>"("+d(e.left)+" "+e.operator+" "+d(e.right)+")",UnaryExpression:e=>"("+e.operator+d(e.argument)+")",ConditionalExpression:e=>"("+d(e.test)+"?"+d(e.consequent)+":"+d(e.alternate)+")",LogicalExpression:e=>"("+d(e.left)+e.operator+d(e.right)+")",ObjectExpression:e=>"{"+e.properties.map(d).join(",")+"}",Property:e=>{c+=1;const t=d(e.key);return c-=1,t+":"+d(e.value)}};function p(e){const t={code:d(e),globals:Object.keys(l),fields:Object.keys(f)};return l={},f={},t}return p.functions=a,p.constants=r,p}},37738:(e,t,n)=>{"use strict";n.r(t),n.d(t,{force:()=>y});var i=n(1015),r=n(54374),a=n(70891),o=n(12266),s=n(83251),u=n(90515),l=n(39671),f=n(28313),c=n(42150);const d={center:a.Z,collide:o.Z,nbody:s.Z,link:u.Z,x:l.Z,y:f.Z},h="forces",p=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],m=["static","iterations"],g=["x","y","vx","vy"];function y(e){i.wx.call(this,null,e)}function b(e,t,n,i){var a,o,s,u,l=(0,r.IX)(t.forces);for(a=0,o=p.length;a<o;++a)(s=p[a])!==h&&t.modified(s)&&e[s](t[s]);for(a=0,o=l.length;a<o;++a)u=h+a,(s=n||t.modified(h,a)?x(l[a]):i&&v(l[a],i)?e.force(u):null)&&e.force(u,s);for(o=e.numForces||0;a<o;++a)e.force(h+a,null);return e.numForces=l.length,e}function v(e,t){var n,i;for(n in e)if((0,r.mf)(i=e[n])&&t.modified((0,r.Oj)(i)))return 1;return 0}function x(e){var t,n;for(n in(0,r.nr)(d,e.force)||(0,r.vU)("Unrecognized force: "+e.force),t=d[e.force](),e)(0,r.mf)(t[n])&&_(t[n],e[n],e);return t}function _(e,t,n){e((0,r.mf)(t)?e=>t(e,n):t)}y.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:g}]},(0,r.XW)(y,i.wx,{transform(e,t){var n,i,r=this.value,a=t.changed(t.ADD_REM),o=e.modified(p),s=e.iterations||300;if(r?(a&&(t.modifies("index"),r.nodes(t.source)),(o||t.changed(t.MOD))&&b(r,e,0,t)):(this.value=r=function(e,t){const n=(0,c.Z)(e),i=n.stop,r=n.restart;let a=!1;return n.stopped=()=>a,n.restart=()=>(a=!1,r()),n.stop=()=>(a=!0,i()),b(n,t,!0).on("end",(()=>a=!0))}(t.source,e),r.on("tick",(n=t.dataflow,i=this,()=>n.touch(i).run())),e.static||(a=!0,r.tick()),t.modifies("index")),o||a||e.modified(m)||t.changed()&&e.restart)if(r.alpha(Math.max(r.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(r.alphaMin(),1/s)),e.static)for(r.stop();--s>=0;)r.tick();else if(r.stopped()&&r.restart(),!a)return t.StopPropagation;return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let e,t=this._argops,s=0,u=t.length;s<u;++s)if(e=t[s],e.name===h&&"link"===e.op._argval.force)for(var i,r=e.op._argops,a=0,o=r.length;a<o;++a)if("links"===r[a].name&&(i=r[a].op.source)){n.pulse(i,n.changeset().reflow());break}return t.reflow(e.modified()).modifies(g)}})},57326:(e,t,n)=>{"use strict";n.d(t,{al:()=>D,SP:()=>O,Ds:()=>A});var i=n(6380),r=n(83892),a=n(41698),o=n(22670),s=n(62790),u=n(44806),l=n(11233),f=n(46283),c=n(54374),d=n(66929),h=n(34854);function p(e){const t={};return n=>t[n]||(t[n]=e(n))}function m(e){const t=p(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(e){const n=(0,r.Z)(e||",");if(null==n.precision){switch(n.precision=12,n.type){case"%":n.precision-=2;break;case"e":n.precision-=1}return i=t(n),a=t(".1f")(1)[1],e=>{const t=i(e),n=t.indexOf(a);if(n<0)return t;let r=function(e,t){let n,i=e.lastIndexOf("e");if(i>0)return i;for(i=e.length;--i>t;)if(n=e.charCodeAt(i),n>=48&&n<=57)return i+1}(t,n);const o=r<t.length?t.slice(r):"";for(;--r>n;)if("0"!==t[r]){++r;break}return t.slice(0,r)+o}}return t(n);var i,a},formatSpan(e,u,l,f){f=(0,r.Z)(null==f?",f":f);const c=(0,i.ly)(e,u,l),d=Math.max(Math.abs(e),Math.abs(u));let h;if(null==f.precision)switch(f.type){case"s":return isNaN(h=(0,a.Z)(c,d))||(f.precision=h),n(f,d);case"":case"e":case"g":case"p":case"r":isNaN(h=(0,o.Z)(c,d))||(f.precision=h-("e"===f.type));break;case"f":case"%":isNaN(h=(0,s.Z)(c))||(f.precision=h-2*("%"===f.type))}return t(f)}}}let g,y;function b(e){return m((0,l.Z)(e))}function v(e){return arguments.length?g=b(e):g}function x(e,t,n){n=n||{},(0,c.Kn)(n)||(0,c.vU)("Invalid time multi-format specifier: ".concat(n));const i=t(f.kG),r=t(f.DZ),a=t(f.gd),o=t(f.Hu),s=t(f.ps),u=t(f.vc),l=t(f.PD),d=t(f.oP),h=e(n[f.cw]||".%L"),p=e(n[f.kG]||":%S"),m=e(n[f.DZ]||"%I:%M"),g=e(n[f.gd]||"%I %p"),y=e(n[f.Hu]||n[f.x4]||"%a %d"),b=e(n[f.ps]||"%b %d"),v=e(n[f.vc]||"%B"),x=e(n[f.PD]||"%B"),_=e(n[f.oP]||"%Y");return e=>(i(e)<e?h:r(e)<e?p:a(e)<e?m:o(e)<e?g:u(e)<e?s(e)<e?y:b:d(e)<e?l(e)<e?v:x:_)(e)}function _(e){const t=p(e.format),n=p(e.utcFormat);return{timeFormat:e=>(0,c.HD)(e)?t(e):x(t,f.JZ,e),utcFormat:e=>(0,c.HD)(e)?n(e):x(n,f.zr,e),timeParse:p(e.parse),utcParse:p(e.utcParse)}}function w(e){return _((0,h.Z)(e))}function A(e){return arguments.length?y=w(e):y}g=m({format:u.WU,formatPrefix:u.jH}),y=_({format:d.i$,parse:d.Z1,utcFormat:d.g0,utcParse:d.wp});const k=(e,t)=>(0,c.l7)({},e,t);function O(e,t){const n=e?b(e):v(),i=t?w(t):A();return k(n,i)}function D(e,t){const n=arguments.length;return n&&2!==n&&(0,c.vU)("defaultLocale expects either zero or two arguments."),n?k(v(e),A(t)):k(v(),A())}},40013:(e,t,n)=>{"use strict";n.d(t,{b5:()=>X,BJ:()=>Q});var i=n(54374),r=n(52865),a=n(77957),o=n(35713),s=n(83795),u=n(55580),l=n(9964),f=n(1015),c=n(2891),d=n(40801),h=n(16023),p=n(92589),m=n(46283),g=n(2467);function y(e){const t=this.context.data[e];return t?t.values.value:[]}const b=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},v=b("format"),x=b("timeFormat"),_=b("utcFormat"),w=b("timeParse"),A=b("utcParse"),k=new Date(2e3,0,1);function O(e,t,n){return Number.isInteger(e)&&Number.isInteger(t)?(k.setYear(2e3),k.setMonth(e),k.setDate(t),x.call(this,k,n)):""}function D(e,t,n,a){t[0].type!==r.t$&&(0,i.vU)("First argument to data functions must be a string literal.");const o=t[0].value,s=":"+o;if(!(0,i.nr)(s,a))try{a[s]=n.getData(o).tuplesRef()}catch(e){}}function E(e,t,n,i){if(t[0].type===r.t$)F(n,i,t[0].value);else for(e in n.scales)F(n,i,e)}function F(e,t,n){const r="%"+n;if(!(0,i.nr)(t,r))try{t[r]=e.scaleRef(n)}catch(e){}}function $(e,t){let n;return(0,i.mf)(e)?e:(0,i.HD)(e)?(n=t.scales[e])&&n.value:void 0}function C(e,t){return function(n,i,r){if(n){const t=$(n,(r||this).context);return t&&t.path[e](i)}return t(i)}}const M=C("area",a.ZP),R=C("bounds",o.Z),S=C("centroid",s.Z);function B(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(t){e.warn(t)}return n[n.length-1]}function Z(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function T(e){const t=(0,u.B8)(e);return.2126*Z(t.r)+.7152*Z(t.g)+.0722*Z(t.b)}function P(e,t){return e===t||e!=e&&t!=t||((0,i.kJ)(e)?!(!(0,i.kJ)(t)||e.length!==t.length)&&function(e,t){for(let n=0,i=e.length;n<i;++n)if(!P(e[n],t[n]))return!1;return!0}(e,t):!(!(0,i.Kn)(e)||!(0,i.Kn)(t))&&j(e,t))}function j(e,t){for(const n in e)if(!P(e[n],t[n]))return!1;return!0}function z(e){return t=>j(e,t)}const q={};function N(e){return(0,i.kJ)(e)||ArrayBuffer.isView(e)?e:null}function U(e){return N(e)||((0,i.HD)(e)?e:null)}const L=e=>e.data;function I(e,t){const n=y.call(t,e);return n.root&&n.root.lookup||{}}const W=()=>"undefined"!=typeof window&&window||null,X={random:()=>(0,p.MX)(),cumulativeNormal:p.Nn,cumulativeLogNormal:p.hz,cumulativeUniform:p.rH,densityNormal:p.Dg,densityLogNormal:p.Q3,densityUniform:p.ah,quantileNormal:p.if,quantileLogNormal:p.HA,quantileUniform:p.At,sampleNormal:p.Tp,sampleLogNormal:p.K,sampleUniform:p.nP,isArray:i.kJ,isBoolean:i.jn,isDate:i.J_,isDefined:e=>void 0!==e,isNumber:i.hj,isObject:i.Kn,isRegExp:i.Kj,isString:i.HD,isTuple:f.x3,isValid:e=>null!=e&&e==e,toBoolean:i.sw,toDate:i.ZU,toNumber:i.He,toString:i.BB,indexof:function(e,...t){return U(e).indexOf(...t)},join:function(e,...t){return N(e).join(...t)},lastindexof:function(e,...t){return U(e).lastIndexOf(...t)},replace:function(e,t,n){return(0,i.mf)(n)&&(0,i.vU)("Function argument passed to replace."),String(e).replace(t,n)},reverse:function(e){return N(e).slice().reverse()},slice:function(e,...t){return U(e).slice(...t)},flush:i.yl,lerp:i.t7,merge:function(){const e=[].slice.call(arguments);return e.unshift({}),(0,i.l7)(...e)},pad:i.vk,peek:i.fj,pluck:function(e,t){const n=q[t]||(q[t]=(0,i.EP)(t));return(0,i.kJ)(e)?e.map(n):n(e)},span:i.yP,inrange:i.u5,truncate:i.$G,rgb:u.B8,lab:l.ZP,hcl:l.Uc,hsl:u.Ym,luminance:T,contrast:function(e,t){const n=T(e),i=T(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},sequence:g.Z,format:v,utcFormat:_,utcParse:A,utcOffset:m._M,utcSequence:m.MC,timeFormat:x,timeParse:w,timeOffset:m.Vm,timeSequence:m.uA,timeUnitSpecifier:m.iJ,monthFormat:function(e){return O.call(this,e,1,"%B")},monthAbbrevFormat:function(e){return O.call(this,e,1,"%b")},dayFormat:function(e){return O.call(this,0,2+e,"%A")},dayAbbrevFormat:function(e){return O.call(this,0,2+e,"%a")},quarter:i.mS,utcquarter:i.N3,week:m.g0,utcweek:m.aw,dayofyear:m.y_,utcdayofyear:m.zk,warn:function(){return B(this.context.dataflow,"warn",arguments)},info:function(){return B(this.context.dataflow,"info",arguments)},debug:function(){return B(this.context.dataflow,"debug",arguments)},extent:i.We,inScope:function(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n},intersect:function(e,t,n){if(!e)return[];const[r,a]=e,o=(new d.YZ).set(r[0],r[1],a[0],a[1]),s=n||this.context.dataflow.scenegraph().root;return(0,d.wf)(s,o,function(e){let t=null;if(e){const n=(0,i.IX)(e.marktype),r=(0,i.IX)(e.markname);t=e=>(!n.length||n.some((t=>e.marktype===t)))&&(!r.length||r.some((t=>e.name===t)))}return t}(t))},clampRange:i.l$,pinchDistance:function(e){const t=e.touches,n=t[0].clientX-t[1].clientX,i=t[0].clientY-t[1].clientY;return Math.sqrt(n*n+i*i)},pinchAngle:function(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)},screen:function(){const e=W();return e?e.screen:{}},containerSize:function(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]},windowSize:function(){const e=W();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]},bandspace:function(e,t,n){return(0,c.U6)(e||0,t||0,n||0)},setdata:function(e,t){const n=this.context.dataflow,r=this.context.data[e].input;return n.pulse(r,n.changeset().remove(i.yb).insert(t)),1},pathShape:function(e){let t=null;return function(n){return n?(0,d.dW)(n,t=t||(0,d.LY)(e)):e}},panLinear:i.Dw,panLog:i.mJ,panPow:i.QA,panSymlog:i.Zw,zoomLinear:i.ay,zoomLog:i.dH,zoomPow:i.mK,zoomSymlog:i.bV,encode:function(e,t,n){if(e){const n=this.context.dataflow,i=e.mark.source;n.pulse(i,n.changeset().encode(e,t))}return void 0!==n?n:e},modify:function(e,t,n,r,a,o){const s=this.context.dataflow,u=this.context.data[e],l=u.input,c=s.stamp();let d,h,p=u.changes;if(!1===s._trigger||!(l.value.length||t||r))return 0;if((!p||p.stamp<c)&&(u.changes=p=s.changeset(),p.stamp=c,s.runAfter((()=>{u.modified=!0,s.pulse(l,p).run()}),!0,1)),n&&(d=!0===n?i.yb:(0,i.kJ)(n)||(0,f.x3)(n)?n:z(n),p.remove(d)),t&&p.insert(t),r&&(d=z(r),l.value.some(d)?p.remove(d):p.insert(r)),a)for(h in o)p.modify(a,h,o[h]);return 1}},V=["view","item","group","xy","x","y"],H="this.",J={},Y={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${(0,i.m8)("$"+e)}]`,functions:function(e){const t=(0,r.wk)(e);V.forEach((e=>t[e]="event.vega."+e));for(const e in X)t[e]=H+e;return(0,i.l7)(t,function(e,t,n){t.__bandwidth=e=>e&&e.bandwidth?e.bandwidth():0,n._bandwidth=E,n._range=E,n._scale=E;const a=t=>"_["+(t.type===r.t$?(0,i.m8)("%"+t.value):(0,i.m8)("%")+"+"+e(t))+"]";return{_bandwidth:e=>`this.__bandwidth(${a(e[0])})`,_range:e=>`${a(e[0])}.range()`,_scale:t=>`${a(t[0])}(${e(t[1])})`}}(e,X,J)),t},constants:r._G,visitors:J},G=(0,r.YP)(Y);function K(e,t,n){return 1===arguments.length?X[e]:(X[e]=t,n&&(J[e]=n),G&&(G.functions[e]=H+e),this)}function Q(e,t){const n={};let a;try{e=(0,i.HD)(e)?e:(0,i.m8)(e)+"",a=(0,r.BJ)(e)}catch(t){(0,i.vU)("Expression parse error: "+e)}a.visit((e=>{if(e.type!==r.Lt)return;const i=e.callee.name,a=Y.visitors[i];a&&a(i,e.arguments,t,n)}));const o=G(a);return o.globals.forEach((e=>{const r="$"+e;!(0,i.nr)(n,r)&&t.getSignal(e)&&(n[r]=t.signalRef(e))})),{$expr:(0,i.l7)({code:o.code},t.options.ast?{ast:a}:null),$fields:o.fields,$params:n}}K("bandwidth",(function(e,t){const n=$(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}),E),K("copy",(function(e,t){const n=$(e,(t||this).context);return n?n.copy():void 0}),E),K("domain",(function(e,t){const n=$(e,(t||this).context);return n?n.domain():[]}),E),K("range",(function(e,t){const n=$(e,(t||this).context);return n&&n.range?n.range():[]}),E),K("invert",(function(e,t,n){const r=$(e,(n||this).context);return r?(0,i.kJ)(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}),E),K("scale",(function(e,t,n){const i=$(e,(n||this).context);return i?i(t):void 0}),E),K("gradient",(function(e,t,n,r,a){e=$(e,(a||this).context);const o=(0,d.ph)(t,n);let s=e.domain(),u=s[0],l=(0,i.fj)(s),f=i.yR;return l-u?f=(0,c.NR)(e,u,l):e=(e.interpolator?(0,c.bA)("sequential")().interpolator(e.interpolator()):(0,c.bA)("linear")().interpolate(e.interpolate()).range(e.range())).domain([u=0,l=1]),e.ticks&&(s=e.ticks(+r||15),u!==s[0]&&s.unshift(u),l!==(0,i.fj)(s)&&s.push(l)),s.forEach((t=>o.stop(f(t),e(t)))),o}),E),K("geoArea",M,E),K("geoBounds",R,E),K("geoCentroid",S,E),K("geoShape",(function(e,t,n){const i=$(e,(n||this).context);return function(e){return i?i.path.context(e)(t):""}}),E),K("indata",(function(e,t,n){const i=this.context.data[e]["index:"+t],r=i?i.value.get(n):void 0;return r?r.count:r}),(function(e,t,n,a){t[0].type!==r.t$&&(0,i.vU)("First argument to indata must be a string literal."),t[1].type!==r.t$&&(0,i.vU)("Second argument to indata must be a string literal.");const o=t[0].value,s=t[1].value,u="@"+s;(0,i.nr)(u,a)||(a[u]=n.getData(o).indataRef(n,s))})),K("data",y,D),K("treePath",(function(e,t,n){const i=I(e,this),r=i[t],a=i[n];return r&&a?r.path(a).map(L):void 0}),D),K("treeAncestors",(function(e,t){const n=I(e,this)[t];return n?n.ancestors().map(L):void 0}),D),K("vlSelectionTest",h.FN,h.ow),K("vlSelectionIdTest",h.VF,h.ow),K("vlSelectionResolve",h.Wj,h.ow),K("vlSelectionTuples",h.wy)},63816:(e,t,n)=>{"use strict";n.r(t),n.d(t,{contour:()=>M,geojson:()=>B,geopath:()=>Z,geopoint:()=>T,geoshape:()=>P,graticule:()=>j,heatmap:()=>z,isocontour:()=>_,kde2d:()=>F,projection:()=>N});var i=n(1015),r=n(54374),a=n(6380),o=n(2467),s=n(50970),u=n(87631),l=n(92589),f=n(63792),c=n(24945),d=n(55580),h=n(12360);function p(){}const m=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function g(){var e=1,t=1,n=s;function i(e,t){return t.map((t=>a(e,t)))}function a(i,r){var a=[],s=[];return function(n,i,r){var a,s,u,l,f,c,d=new Array,h=new Array;for(a=s=-1,l=n[0]>=i,m[l<<1].forEach(p);++a<e-1;)u=l,l=n[a+1]>=i,m[u|l<<1].forEach(p);for(m[l<<0].forEach(p);++s<t-1;){for(a=-1,l=n[s*e+e]>=i,f=n[s*e]>=i,m[l<<1|f<<2].forEach(p);++a<e-1;)u=l,l=n[s*e+e+a+1]>=i,c=f,f=n[s*e+a+1]>=i,m[u|l<<1|f<<2|c<<3].forEach(p);m[l|f<<3].forEach(p)}for(a=-1,f=n[s*e]>=i,m[f<<2].forEach(p);++a<e-1;)c=f,f=n[s*e+a+1]>=i,m[f<<2|c<<3].forEach(p);function p(e){var t,n,i=[e[0][0]+a,e[0][1]+s],u=[e[1][0]+a,e[1][1]+s],l=o(i),f=o(u);(t=h[l])?(n=d[f])?(delete h[t.end],delete d[n.start],t===n?(t.ring.push(u),r(t.ring)):d[t.start]=h[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete h[t.end],t.ring.push(u),h[t.end=f]=t):(t=d[f])?(n=h[l])?(delete d[t.start],delete h[n.end],t===n?(t.ring.push(u),r(t.ring)):d[n.start]=h[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete d[t.start],t.ring.unshift(i),d[t.start=l]=t):d[l]=h[f]={start:l,end:f,ring:[i,u]}}m[f<<3].forEach(p)}(i,r,(e=>{n(e,i,r),function(e){for(var t=0,n=e.length,i=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)i+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return i}(e)>0?a.push([e]):s.push(e)})),s.forEach((e=>{for(var t,n=0,i=a.length;n<i;++n)if(-1!==y((t=a[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:r,coordinates:a}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function s(n,i,r){n.forEach((n=>{var a,o=n[0],s=n[1],u=0|o,l=0|s,f=i[l*e+u];o>0&&o<e&&u===o&&(a=i[l*e+u-1],n[0]=o+(r-a)/(f-a)-.5),s>0&&s<t&&l===s&&(a=i[(l-1)*e+u],n[1]=s+(r-a)/(f-a)-.5)}))}return i.contour=a,i.size=function(n){if(!arguments.length)return[e,t];var a=Math.floor(n[0]),o=Math.floor(n[1]);return a>=0&&o>=0||(0,r.vU)("invalid size"),e=a,t=o,i},i.smooth=function(e){return arguments.length?(n=e?s:p,i):n===s},i}function y(e,t){for(var n,i=-1,r=t.length;++i<r;)if(n=b(e,t[i]))return n;return 0}function b(e,t){for(var n=t[0],i=t[1],r=-1,a=0,o=e.length,s=o-1;a<o;s=a++){var u=e[a],l=u[0],f=u[1],c=e[s],d=c[0],h=c[1];if(v(u,c,t))return 0;f>i!=h>i&&n<(d-l)*(i-f)/(h-f)+l&&(r=-r)}return r}function v(e,t,n){var i,r,a,o;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])==(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&(r=e[i=+(e[0]===t[0])],a=n[i],o=t[i],r<=a&&a<=o||o<=a&&a<=r)}function x(e,t,n){return function(i){var s=(0,r.We)(i),u=n?Math.min(s[0],0):s[0],l=s[1],f=l-u,c=t?(0,a.ly)(u,l,e):f/(e+1);return(0,o.Z)(u+c,l,c)}}function _(e){i.wx.call(this,null,e)}function w(e,t,n,i,r){const a=e.x1||0,o=e.y1||0,s=t*n<0;function u(e){e.forEach(l)}function l(e){s&&e.reverse(),e.forEach(f)}function f(e){e[0]=(e[0]-a)*t+i,e[1]=(e[1]-o)*n+r}return function(e){return e.coordinates.forEach(u),e}}function A(e,t,n){const i=e>=0?e:(0,l.U_)(t,n);return Math.round((Math.sqrt(4*i*i+1)-1)/2)}function k(e){return(0,r.mf)(e)?e:(0,r.a9)(+e)}function O(){var e=e=>e[0],t=e=>e[1],n=r.kX,i=[-1,-1],a=960,o=500,s=2;function l(r,l){const f=A(i[0],r,e)>>s,c=A(i[1],r,t)>>s,d=f?f+2:0,h=c?c+2:0,p=2*d+(a>>s),m=2*h+(o>>s),g=new Float32Array(p*m),y=new Float32Array(p*m);let b=g;r.forEach((i=>{const r=d+(+e(i)>>s),a=h+(+t(i)>>s);r>=0&&r<p&&a>=0&&a<m&&(g[r+a*p]+=+n(i))})),f>0&&c>0?(D(p,m,g,y,f),E(p,m,y,g,c),D(p,m,g,y,f),E(p,m,y,g,c),D(p,m,g,y,f),E(p,m,y,g,c)):f>0?(D(p,m,g,y,f),D(p,m,y,g,f),D(p,m,g,y,f),b=y):c>0&&(E(p,m,g,y,c),E(p,m,y,g,c),E(p,m,g,y,c),b=y);const v=l?Math.pow(2,-2*s):1/(0,u.Z)(b);for(let e=0,t=p*m;e<t;++e)b[e]*=v;return{values:b,scale:1<<s,width:p,height:m,x1:d,y1:h,x2:d+(a>>s),y2:h+(o>>s)}}return l.x=function(t){return arguments.length?(e=k(t),l):e},l.y=function(e){return arguments.length?(t=k(e),l):t},l.weight=function(e){return arguments.length?(n=k(e),l):n},l.size=function(e){if(!arguments.length)return[a,o];var t=+e[0],n=+e[1];return t>=0&&n>=0||(0,r.vU)("invalid size"),a=t,o=n,l},l.cellSize=function(e){return arguments.length?((e=+e)>=1||(0,r.vU)("invalid cell size"),s=Math.floor(Math.log(e)/Math.LN2),l):1<<s},l.bandwidth=function(e){return arguments.length?(1===(e=(0,r.IX)(e)).length&&(e=[+e[0],+e[0]]),2!==e.length&&(0,r.vU)("invalid bandwidth"),i=e,l):i},l}function D(e,t,n,i,r){const a=1+(r<<1);for(let o=0;o<t;++o)for(let t=0,s=0;t<e+r;++t)t<e&&(s+=n[t+o*e]),t>=r&&(t>=a&&(s-=n[t-a+o*e]),i[t-r+o*e]=s/Math.min(t+1,e-1+a-t,a))}function E(e,t,n,i,r){const a=1+(r<<1);for(let o=0;o<e;++o)for(let s=0,u=0;s<t+r;++s)s<t&&(u+=n[o+s*e]),s>=r&&(s>=a&&(u-=n[o+(s-a)*e]),i[o+(s-r)*e]=u/Math.min(s+1,t-1+a-s,a))}function F(e){i.wx.call(this,null,e)}_.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]},(0,r.XW)(_,i.wx,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),a=t.materialize(t.SOURCE).source,o=e.field||r.yR,u=g().smooth(!1!==e.smooth),l=e.thresholds||function(e,t,n){const i=x(n.levels||10,n.nice,!1!==n.zero);return"shared"!==n.resolve?i:i(e.map((e=>(0,s.Z)(t(e).values))))}(a,o,e),f=null===e.as?null:e.as||"contour",c=[];return a.forEach((t=>{const n=o(t),a=u.size([n.width,n.height])(n.values,(0,r.kJ)(l)?l:l(n.values));!function(e,t,n,i){let a=i.scale||t.scale,o=i.translate||t.translate;if((0,r.mf)(a)&&(a=a(n,i)),(0,r.mf)(o)&&(o=o(n,i)),(1===a||null==a)&&!o)return;const s=((0,r.hj)(a)?a:a[0])||1,u=((0,r.hj)(a)?a:a[1])||1,l=o&&o[0]||0,f=o&&o[1]||0;e.forEach(w(t,s,u,l,f))}(a,n,t,e),a.forEach((e=>{c.push((0,i.BW)(t,(0,i.ax)(null!=f?{[f]:e}:e)))}))})),this.value&&(n.rem=this.value),this.value=n.source=n.add=c,n}}),F.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const $=["x","y","weight","size","cellSize","bandwidth"];function C(e,t){return $.forEach((n=>null!=t[n]?e[n](t[n]):0)),e}function M(e){i.wx.call(this,null,e)}(0,r.XW)(F,i.wx,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,a=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=function(e,t){var n,i,r,a,o,s,u=[],l=e=>e(a);if(null==t)u.push(e);else for(n={},i=0,r=e.length;i<r;++i)a=e[i],(s=n[o=t.map(l)])||(n[o]=s=[],s.dims=o,u.push(s)),s.push(a);return u}(t.materialize(t.SOURCE).source,e.groupby),s=(e.groupby||[]).map(r.el),u=C(O(),e),l=e.as||"grid";return n=o.map((t=>(0,i.ax)(function(e,t){for(let n=0;n<s.length;++n)e[s[n]]=t[n];return e}({[l]:u(t,e.counts)},t.dims)))),this.value&&(a.rem=this.value),this.value=a.source=a.add=n,a}}),M.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]},(0,r.XW)(M,i.wx,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n,a,o=t.fork(t.NO_SOURCE|t.NO_FIELDS),s=g().smooth(!1!==e.smooth),u=e.values,l=e.thresholds||x(e.count||10,e.nice,!!u),f=e.size;return u||(u=t.materialize(t.SOURCE).source,a=w(n=C(O(),e)(u,!0),n.scale||1,n.scale||1,0,0),f=[n.width,n.height],u=n.values),l=(0,r.kJ)(l)?l:l(u),u=s.size(f)(u,l),a&&u.forEach(a),this.value&&(o.rem=this.value),this.value=o.source=o.add=(u||[]).map(i.ax),o}});const R="Feature",S="FeatureCollection";function B(e){i.wx.call(this,null,e)}function Z(e){i.wx.call(this,null,e)}function T(e){i.wx.call(this,null,e)}function P(e){i.wx.call(this,null,e)}function j(e){i.wx.call(this,[],e),this.generator=(0,c.Z)()}function z(e){i.wx.call(this,null,e)}function q(e){if(!(0,r.mf)(e))return!1;const t=(0,r.Rg)((0,r.Oj)(e));return t.$x||t.$y||t.$value||t.$max}function N(e){i.wx.call(this,null,e),this.modified(!0)}function U(e,t,n){(0,r.mf)(e[t])&&e[t](n)}B.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]},(0,r.XW)(B,i.wx,{transform(e,t){var n,i=this._features,a=this._points,o=e.fields,s=o&&o[0],u=o&&o[1],l=e.geojson||!o&&r.yR,f=t.ADD;n=e.modified()||t.changed(t.REM)||t.modified((0,r.Oj)(l))||s&&t.modified((0,r.Oj)(s))||u&&t.modified((0,r.Oj)(u)),this.value&&!n||(f=t.SOURCE,this._features=i=[],this._points=a=[]),l&&t.visit(f,(e=>i.push(l(e)))),s&&u&&(t.visit(f,(e=>{var t=s(e),n=u(e);null!=t&&null!=n&&(t=+t)===t&&(n=+n)===n&&a.push([t,n])})),i=i.concat({type:R,geometry:{type:"MultiPoint",coordinates:a}})),this.value={type:S,features:i}}}),Z.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]},(0,r.XW)(Z,i.wx,{transform(e,t){var n=t.fork(t.ALL),i=this.value,a=e.field||r.yR,o=e.as||"path",s=n.SOURCE;!i||e.modified()?(this.value=i=(0,f.bd)(e.projection),n.materialize().reflow()):s=a===r.yR||t.modified(a.fields)?n.ADD_MOD:n.ADD;const u=function(e,t){const n=e.pointRadius();return e.context(null),null!=t&&e.pointRadius(t),n}(i,e.pointRadius);return n.visit(s,(e=>e[o]=i(a(e)))),i.pointRadius(u),n.modifies(o)}}),T.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]},(0,r.XW)(T,i.wx,{transform(e,t){var n,i=e.projection,r=e.fields[0],a=e.fields[1],o=e.as||["x","y"],s=o[0],u=o[1];function l(e){const t=i([r(e),a(e)]);t?(e[s]=t[0],e[u]=t[1]):(e[s]=void 0,e[u]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,l):(n=t.modified(r.fields)||t.modified(a.fields),t.visit(n?t.ADD_MOD:t.ADD,l)),t.modifies(o)}}),P.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]},(0,r.XW)(P,i.wx,{transform(e,t){var n=t.fork(t.ALL),i=this.value,a=e.as||"shape",o=n.ADD;return i&&!e.modified()||(this.value=i=function(e,t,n){const i=null==n?n=>e(t(n)):i=>{var r=e.pointRadius(),a=e.pointRadius(n)(t(i));return e.pointRadius(r),a};return i.context=t=>(e.context(t),i),i}((0,f.bd)(e.projection),e.field||(0,r.EP)("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,(e=>e[a]=i)),n.modifies(a)}}),j.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]},(0,r.XW)(j,i.wx,{transform(e,t){var n,a=this.value,o=this.generator;if(!a.length||e.modified())for(const t in e)(0,r.mf)(o[t])&&o[t](e[t]);return n=o(),a.length?t.mod.push((0,i.gx)(a[0],n)):t.add.push((0,i.ax)(n)),a[0]=n,t}}),z.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]},(0,r.XW)(z,i.wx,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,i="shared"===e.resolve,a=e.field||r.yR,o=function(e,t){let n;return(0,r.mf)(e)?(n=n=>e(n,t),n.dep=q(e)):e?n=(0,r.a9)(e):(n=e=>e.$value/e.$max||0,n.dep=!0),n}(e.opacity,e),u=function(e,t){let n;return(0,r.mf)(e)?(n=n=>(0,d.B8)(e(n,t)),n.dep=q(e)):n=(0,r.a9)((0,d.B8)(e||"#888")),n}(e.color,e),l=e.as||"image",f={$x:0,$y:0,$value:0,$max:i?(0,s.Z)(n.map((e=>(0,s.Z)(a(e).values)))):0};return n.forEach((e=>{const t=a(e),n=(0,r.l7)({},e,f);i||(n.$max=(0,s.Z)(t.values||[])),e[l]=function(e,t,n,i){const a=e.width,o=e.height,s=e.x1||0,u=e.y1||0,l=e.x2||a,f=e.y2||o,c=e.values,d=c?e=>c[e]:r.bM,p=(0,h.v)(l-s,f-u),m=p.getContext("2d"),g=m.getImageData(0,0,l-s,f-u),y=g.data;for(let e=u,r=0;e<f;++e){t.$y=e-u;for(let o=s,u=e*a;o<l;++o,r+=4){t.$x=o-s,t.$value=d(o+u);const e=n(t);y[r+0]=e.r,y[r+1]=e.g,y[r+2]=e.b,y[r+3]=~~(255*i(t))}}return m.putImageData(g,0,0),p}(t,n,u.dep?u:(0,r.a9)(u(n)),o.dep?o:(0,r.a9)(o(n)))})),t.reflow(!0).modifies(l)}}),(0,r.XW)(N,i.wx,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=function(e){const t=(0,f.CJ)((e||"mercator").toLowerCase());return t||(0,r.vU)("Unrecognized projection type: "+e),t()}(e.type),f.di.forEach((t=>{null!=e[t]&&U(n,t,e[t])}))):f.di.forEach((t=>{e.modified(t)&&U(n,t,e[t])})),null!=e.pointRadius&&n.path.pointRadius(e.pointRadius),e.fit&&function(e,t){const n=function(e){return 1===(e=(0,r.IX)(e)).length?e[0]:{type:S,features:e.reduce(((e,t)=>e.concat(function(e){return e.type===S?e.features:(0,r.IX)(e).filter((e=>null!=e)).map((e=>e.type===R?e:{type:R,geometry:e}))}(t))),[])}}(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}})},99863:(e,t,n)=>{"use strict";n.r(t),n.d(t,{nest:()=>v,pack:()=>O,partition:()=>E,stratify:()=>F,tree:()=>M,treelinks:()=>R,treemap:()=>Z});var i=n(1015),r=n(54374),a=n(97121),o=n(19125),s=n(12604),u=n(44653),l=n(29493),f=n(60168),c=n(550),d=n(19420),h=n(8633),p=n(27784),m=n(12500),g=n(97818),y=n(98464);function b(e,t,n){const i={};return e.each((e=>{const r=e.data;n(r)&&(i[t(r)]=e)})),e.lookup=i,e}function v(e){i.wx.call(this,null,e)}v.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const x=e=>e.values;function _(){const e=[],t={entries:e=>i(n(e,0),0),key:n=>(e.push(n),t)};function n(t,i){if(i>=e.length)return t;const r=t.length,a=e[i++],o={},s={};let u,l,f,c=-1;for(;++c<r;)u=a(l=t[c])+"",(f=o[u])?f.push(l):o[u]=[l];for(u in o)s[u]=n(o[u],i);return s}function i(t,n){if(++n>e.length)return t;const r=[];for(const e in t)r.push({key:e,values:i(t[e],n)});return r}return t}function w(e){i.wx.call(this,null,e)}(0,r.XW)(v,i.wx,{transform(e,t){t.source||(0,r.vU)("Nest transform requires an upstream data source.");var n=e.generate,o=e.modified(),s=t.clone(),u=this.value;return(!u||o||t.changed())&&(u&&u.each((e=>{e.children&&(0,i.x3)(e.data)&&s.rem.push(e.data)})),this.value=u=(0,a.ZP)({values:(0,r.IX)(e.keys).reduce(((e,t)=>(e.key(t),e)),_()).entries(s.source)},x),n&&u.each((e=>{e.children&&(e=(0,i.ax)(e.data),s.add.push(e),s.source.push(e))})),b(u,i.ai,i.ai)),s.source.root=u,s}});const A=(e,t)=>e.parent===t.parent?1:2;(0,r.XW)(w,i.wx,{transform(e,t){t.source&&t.source.root||(0,r.vU)(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),a=this.fields,o=t.source.root,s=e.as||a;e.field?o.sum(e.field):o.count(),e.sort&&o.sort((0,i.vo)(e.sort,(e=>e.data))),function(e,t,n){for(let i,r=0,a=t.length;r<a;++r)i=t[r],i in n&&e[i](n[i])}(n,this.params,e),n.separation&&n.separation(!1!==e.separation?A:r.kX);try{this.value=n(o)}catch(e){(0,r.vU)(e)}return o.each((e=>function(e,t,n){const i=e.data,r=t.length-1;for(let a=0;a<r;++a)i[n[a]]=e[t[a]];i[n[r]]=e.children?e.children.length:0}(e,a,s))),t.reflow(e.modified()).modifies(s).modifies("leaf")}});const k=["x","y","r","depth","children"];function O(e){w.call(this,e)}O.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:k.length,default:k}]},(0,r.XW)(O,w,{layout:o.Z,params:["radius","size","padding"],fields:k});const D=["x0","y0","x1","y1","depth","children"];function E(e){w.call(this,e)}function F(e){i.wx.call(this,null,e)}E.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:D.length,default:D}]},(0,r.XW)(E,w,{layout:s.Z,params:["size","round","padding"],fields:D}),F.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]},(0,r.XW)(F,i.wx,{transform(e,t){t.source||(0,r.vU)("Stratify transform requires an upstream data source.");let n=this.value;const i=e.modified(),a=t.fork(t.ALL).materialize(t.SOURCE),o=!n||i||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return a.source=a.source.slice(),o&&(n=a.source.length?b((0,u.Z)().id(e.key).parentId(e.parentKey)(a.source),e.key,r.yb):b((0,u.Z)()([{}]),e.key,e.key)),a.source.root=this.value=n,a}});const $={tidy:l.Z,cluster:f.Z},C=["x","y","depth","children"];function M(e){w.call(this,e)}function R(e){i.wx.call(this,[],e)}M.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:C.length,default:C}]},(0,r.XW)(M,w,{layout(e){const t=e||"tidy";if((0,r.nr)($,t))return $[t]();(0,r.vU)("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:C}),R.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]},(0,r.XW)(R,i.wx,{transform(e,t){const n=this.value,a=t.source&&t.source.root,o=t.fork(t.NO_SOURCE),s={};return a||(0,r.vU)("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(o.rem=n,t.visit(t.SOURCE,(e=>s[(0,i.ai)(e)]=1)),a.each((e=>{const t=e.data,n=e.parent&&e.parent.data;n&&s[(0,i.ai)(t)]&&s[(0,i.ai)(n)]&&o.add.push((0,i.ax)({source:n,target:t}))})),this.value=o.add):t.changed(t.MOD)&&(t.visit(t.MOD,(e=>s[(0,i.ai)(e)]=1)),n.forEach((e=>{(s[(0,i.ai)(e.source)]||s[(0,i.ai)(e.target)])&&o.mod.push(e)}))),o}});const S={binary:c.Z,dice:d.Z,slice:h.Z,slicedice:p.Z,squarify:m.ZP,resquarify:g.Z},B=["x0","y0","x1","y1","depth","children"];function Z(e){w.call(this,e)}Z.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:B.length,default:B}]},(0,r.XW)(Z,w,{layout(){const e=(0,y.Z)();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{(0,r.nr)(S,t)?e.tile(S[t]):(0,r.vU)("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:B})},26925:(e,t,n)=>{"use strict";n.r(t),n.d(t,{label:()=>F});var i=n(12360),r=n(1015),a=n(40801),o=n(54374);function s(e,t,n,r){const a=e.width,o=e.height,s=n||r,l=(0,i.v)(a,o).getContext("2d");t.forEach((e=>u(l,e,s)));const f=new Uint32Array(l.getImageData(0,0,a,o).data.buffer),c=e.bitmap(),d=s&&e.bitmap();let h,p,m,g,y;for(p=0;p<o;++p)for(h=0;h<a;++h)y=4278190080&f[p*a+h],y&&(m=e(h),g=e(p),r||c.set(m,g),s&&268435456^y&&d.set(m,g));return[c,d]}function u(e,t,n){if(!t.length)return;const i=t[0].mark.marktype;"group"===i?t.forEach((t=>{t.items.forEach((t=>u(e,t.items,n)))})):a.zT[i].draw(e,{items:n?t.map(l):t})}function l(e){const t=(0,r.BW)(e,{});return t.stroke&&(t.strokeOpacity=1),t.fill&&(t.fillOpacity=.0625,t.stroke="#000",t.strokeOpacity=1,t.strokeWidth=2),t}const f=31,c=new Uint32Array(33),d=new Uint32Array(33);d[0]=0,c[0]=~d[0];for(let e=1;e<=32;++e)d[e]=d[e-1]<<1|1,c[e]=~d[e];function h(e,t,n,i,r,a){let o=n/2;return e-o<0||e+o>r||t-(o=i/2)<0||t+o>a}function p(){return!1}function m(e,t,n,i,r,a,o,s){const u=r*a/(2*i),l=e(t-u),f=e(t+u),c=e(n-(a/=2)),d=e(n+a);return o.outOfBounds(l,c,f,d)||o.getRange(l,c,f,d)||s&&s.getRange(l,c,f,d)}function g(e,t,n,i,r,a,o,s){const u=r*a/(2*i);let l=e(t-u),f=e(t+u),c=e(n-(a/=2)),d=e(n+a);return l=l>0?l:0,c=c>0?c:0,f=f<e.width?f:e.width-1,d=d<e.height?d:e.height-1,o.getRange(l,c,f,d)||s&&s.getRange(l,c,f,d)}function y(e){return e?[g,p]:[m,h]}const b=[-1,-1,1,1],v=[-1,1,-1,1],x=["right","center","left"],_=["bottom","middle","top"];function w(e,t,n,i,r,a,o,s,u,l,f,c){return!(r.outOfBounds(e,n,t,i)||(c&&a?a.getRange(e,n,t,i)||!function(e,t,n,i,r){return r[0]<=e&&n<=r[2]&&r[3]<=t&&i<=r[5]}(o,u,s,l,f):r.getRange(e,n,t,i)))}const A={"top-left":0,top:1,"top-right":2,left:4,middle:5,right:6,"bottom-left":8,bottom:9,"bottom-right":10},k={naive:function(e,t,n,i){const r=e.width,o=e.height;return function(e){const t=e.datum.datum.items[i].items,n=t.length,s=e.datum.fontSize,u=a.Zd.width(e.datum,e.datum.text);let l,f,c,d,h,p,m,g=0;for(let i=0;i<n;++i)l=t[i].x,c=t[i].y,f=void 0===t[i].x2?l:t[i].x2,d=void 0===t[i].y2?c:t[i].y2,h=(l+f)/2,p=(c+d)/2,m=Math.abs(f-l+d-c),m>=g&&(g=m,e.x=h,e.y=p);return h=u/2,p=s/2,l=e.x-h,f=e.x+h,c=e.y-p,d=e.y+p,e.align="center",l<0&&f<=r?e.align="left":0<=l&&r<f&&(e.align="right"),e.baseline="middle",c<0&&d<=o?e.baseline="top":0<=c&&o<d&&(e.baseline="bottom"),!0}},"reduced-search":function(e,t,n,i,r){const o=e.width,s=e.height,[u,l]=y(r),f=t[0],c=t[1];function d(t,n,i,r,a){const d=e.invert(t),h=e.invert(n);let p,m=i,g=s;if(!l(d,h,r,a,o,s)&&!u(e,d,h,a,r,m,f,c)&&!u(e,d,h,a,r,a,f,null)){for(;g-m>=1;)p=(m+g)/2,u(e,d,h,a,r,p,f,c)?g=p:m=p;if(m>i)return[d,h,m,!0]}}return function(t){const r=t.datum.datum.items[i].items,c=r.length,h=t.datum.fontSize,p=a.Zd.width(t.datum,t.datum.text);let m,g,y,b,v,x,_,w,A,k,O,D,E,F,$,C,M,R=n?h:0,S=!1,B=!1,Z=0;for(let i=0;i<c;++i){for(m=r[i].x,y=r[i].y,g=void 0===r[i].x2?m:r[i].x2,b=void 0===r[i].y2?y:r[i].y2,m>g&&(M=m,m=g,g=M),y>b&&(M=y,y=b,b=M),A=e(m),O=e(g),k=~~((A+O)/2),D=e(y),F=e(b),E=~~((D+F)/2),_=k;_>=A;--_)for(w=E;w>=D;--w)C=d(_,w,R,p,h),C&&([t.x,t.y,R,S]=C);for(_=k;_<=O;++_)for(w=E;w<=F;++w)C=d(_,w,R,p,h),C&&([t.x,t.y,R,S]=C);S||n||($=Math.abs(g-m+b-y),v=(m+g)/2,x=(y+b)/2,$>=Z&&!l(v,x,p,h,o,s)&&!u(e,v,x,h,p,h,f,null)&&(Z=$,t.x=v,t.y=x,B=!0))}return!(!S&&!B||(v=p/2,x=h/2,f.setRange(e(t.x-v),e(t.y-x),e(t.x+v),e(t.y+x)),t.align="center",t.baseline="middle",0))}},floodfill:function(e,t,n,i,r){const o=e.width,s=e.height,[u,l]=y(r),f=t[0],c=t[1],d=e.bitmap();return function(t){const r=t.datum.datum.items[i].items,h=r.length,p=t.datum.fontSize,m=a.Zd.width(t.datum,t.datum.text),g=[];let y,x,_,w,A,k,O,D,E,F,$,C,M=n?p:0,R=!1,S=!1,B=0;for(let i=0;i<h;++i){for(y=r[i].x,_=r[i].y,x=void 0===r[i].x2?y:r[i].x2,w=void 0===r[i].y2?_:r[i].y2,g.push([e((y+x)/2),e((_+w)/2)]);g.length;)if([O,D]=g.pop(),!(f.get(O,D)||c.get(O,D)||d.get(O,D))){d.set(O,D);for(let e=0;e<4;++e)A=O+b[e],k=D+v[e],d.outOfBounds(A,k,A,k)||g.push([A,k]);if(A=e.invert(O),k=e.invert(D),E=M,F=s,!l(A,k,m,p,o,s)&&!u(e,A,k,p,m,E,f,c)&&!u(e,A,k,p,m,p,f,null)){for(;F-E>=1;)$=(E+F)/2,u(e,A,k,p,m,$,f,c)?F=$:E=$;E>M&&(t.x=A,t.y=k,M=E,R=!0)}}R||n||(C=Math.abs(x-y+w-_),A=(y+x)/2,k=(_+w)/2,C>=B&&!l(A,k,m,p,o,s)&&!u(e,A,k,p,m,p,f,null)&&(B=C,t.x=A,t.y=k,S=!0))}return!(!R&&!S||(A=m/2,k=p/2,f.setRange(e(t.x-A),e(t.y-k),e(t.x+A),e(t.y+k)),t.align="center",t.baseline="middle",0))}}};function O(e,t,n,i,r,o,u,l,h,p,m){if(!e.length)return e;const g=Math.max(i.length,r.length),y=function(e,t){const n=new Float64Array(t),i=e.length;for(let t=0;t<i;++t)n[t]=e[t]||0;for(let e=i;e<t;++e)n[e]=n[i-1];return n}(i,g),b=function(e,t){const n=new Int8Array(t),i=e.length;for(let t=0;t<i;++t)n[t]|=A[e[t]];for(let e=i;e<t;++e)n[e]=n[i-1];return n}(r,g),v=(M=e[0].datum)&&M.mark&&M.mark.marktype,O="group"===v&&e[0].datum.items[h].marktype,D="area"===O,E=function(e,t,n,i){const r=e=>[e.x,e.x,e.x,e.y,e.y,e.y];return e?"line"===e||"area"===e?e=>r(e.datum):"line"===t?e=>{const t=e.datum.items[i].items;return r(t.length?t["start"===n?0:t.length-1]:{x:NaN,y:NaN})}:e=>{const t=e.datum.bounds;return[t.x1,(t.x1+t.x2)/2,t.x2,t.y1,(t.y1+t.y2)/2,t.y2]}:r}(v,O,l,h),F=null===p||p===1/0,$=function(e,t,n){const i=Math.max(1,Math.sqrt(e*t/1e6)),r=~~((e+2*n+i)/i),a=~~((t+2*n+i)/i),o=e=>~~((e+n)/i);return o.invert=e=>e*i-n,o.bitmap=()=>function(e,t){const n=new Uint32Array(~~((e*t+32)/32));function i(e,t){n[e]|=t}function r(e,t){n[e]&=t}return{array:n,get:(t,i)=>{const r=i*e+t;return n[r>>>5]&1<<(r&f)},set:(t,n)=>{const r=n*e+t;i(r>>>5,1<<(r&f))},clear:(t,n)=>{const i=n*e+t;r(i>>>5,~(1<<(i&f)))},getRange:(t,i,r,a)=>{let o,s,u,l,h=a;for(;h>=i;--h)if(o=h*e+t,s=h*e+r,u=o>>>5,l=s>>>5,u===l){if(n[u]&c[o&f]&d[1+(s&f)])return!0}else{if(n[u]&c[o&f])return!0;if(n[l]&d[1+(s&f)])return!0;for(let e=u+1;e<l;++e)if(n[e])return!0}return!1},setRange:(t,n,r,a)=>{let o,s,u,l,h;for(;n<=a;++n)if(o=n*e+t,s=n*e+r,u=o>>>5,l=s>>>5,u===l)i(u,c[o&f]&d[1+(s&f)]);else for(i(u,c[o&f]),i(l,d[1+(s&f)]),h=u+1;h<l;++h)i(h,4294967295)},clearRange:(t,n,i,a)=>{let o,s,u,l,h;for(;n<=a;++n)if(o=n*e+t,s=n*e+i,u=o>>>5,l=s>>>5,u===l)r(u,d[o&f]|c[1+(s&f)]);else for(r(u,d[o&f]),r(l,c[1+(s&f)]),h=u+1;h<l;++h)r(h,0)},outOfBounds:(n,i,r,a)=>n<0||i<0||a>=t||r>=e}}(r,a),o.ratio=i,o.padding=n,o.width=e,o.height=t,o}(t[0],t[1],F?0:p),C=D&&"naive"===m;var M;const R=e.map((e=>({datum:e,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:E(e)})));let S;if(!C){n&&R.sort(((e,t)=>n(e.datum,t.datum)));let t=!1;for(let e=0;e<b.length&&!t;++e)t=5===b[e]||y[e]<0;v&&(u||D)&&(o=[e.map((e=>e.datum))].concat(o)),S=o.length?s($,o,t,D):function(e,t){const n=e.bitmap();return(t||[]).forEach((t=>n.set(e(t.boundary[0]),e(t.boundary[3])))),[n,void 0]}($,u&&R)}const B=D?k[m]($,S,u,h,F):function(e,t,n,i,r){const o=e.width,s=e.height,u=t[0],l=t[1],f=i.length;return function(t){const c=t.boundary,d=t.datum.fontSize;if(!r&&(c[2]<0||c[5]<0||c[0]>o||c[3]>s))return!1;let h,p,m,g,y,b,v,A,k,O,D,E,F,$,C,M=0;for(let o=0;o<f;++o){if(h=(3&n[o])-1,p=(n[o]>>>2&3)-1,m=0===h&&0===p||i[o]<0,g=h&&p?Math.SQRT1_2:1,y=i[o]<0?-1:1,b=c[1+h]+i[o]*h*g,D=c[4+p]+y*d*p/2+i[o]*p*g,A=D-d/2,k=D+d/2,E=e(b),$=e(A),C=e(k),r&&(E=E<0?0:E,$=$<0?0:$,C=C>=e.height?e.height-1:C),!M){if(!w(E,E,$,C,u,l,b,b,A,k,c,m))continue;M=a.Zd.width(t.datum,t.datum.text)}if(O=b+y*M*h/2,b=O-M/2,v=O+M/2,E=e(b),F=e(v),r&&(E=E<0?0:E,F=F>=e.width?e.width-1:F),w(E,F,$,C,u,l,b,v,A,k,c,m))return t.x=h?h*y<0?v:b:O,t.y=p?p*y<0?k:A:D,t.align=x[h*y+1],t.baseline=_[p*y+1],u.setRange(E,$,F,C),!0}return!1}}($,S,b,y,F);return R.forEach((e=>e.opacity=+B(e))),R}const D=["x","y","opacity","align","baseline"],E=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function F(e){r.wx.call(this,null,e)}F.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:E},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:D.length,default:D}]},(0,o.XW)(F,r.wx,{transform(e,t){const n=e.modified();if(!(n||t.changed(t.ADD_REM)||function(n){const i=e.sort;return(0,o.mf)(i)&&t.modified(i.fields)}()))return;e.size&&2===e.size.length||(0,o.vU)("Size parameter should be specified as a [width, height] array.");const i=e.as||D;return O(t.materialize(t.SOURCE).source||[],e.size,e.sort,(0,o.IX)(null==e.offset?1:e.offset),(0,o.IX)(e.anchor||E),e.avoidMarks||[],!1!==e.avoidBaseMark,e.lineAnchor||"end",e.markIndex||0,void 0===e.padding?0:e.padding,e.method||"naive").forEach((e=>{const t=e.datum;t[i[0]]=e.x,t[i[1]]=e.y,t[i[2]]=e.opacity,t[i[3]]=e.align,t[i[4]]=e.baseline})),t.reflow(n).modifies(i)}})},65516:(e,t,n)=>{"use strict";n.d(t,{_m:()=>M,ij:()=>C,hh:()=>$});var i=n(54374),r=n(80875),a=n(75012),o=n(37005),s=n(57326);const u=/^(data:|([A-Za-z]+:)?\/\/)/,l=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,f=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,c="file://";async function d(e,t){const n=await this.sanitize(e,t),i=n.href;return n.localFile?this.file(i):this.http(i,t)}async function h(e,t){t=(0,i.l7)({},this.options,t);const n=this.fileAccess,r={href:null};let a,o,s;const d=l.test(e.replace(f,""));null!=e&&"string"==typeof e&&d||(0,i.vU)("Sanitize failure, invalid URI: "+(0,i.m8)(e));const h=u.test(e);return(s=t.baseURL)&&!h&&(e.startsWith("/")||s.endsWith("/")||(e="/"+e),e=s+e),o=(a=e.startsWith(c))||"file"===t.mode||"http"!==t.mode&&!h&&n,a?e=e.slice(c.length):e.startsWith("//")&&("file"===t.defaultProtocol?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),"image"===t.context&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function p(e){return e?t=>new Promise(((n,i)=>{e.readFile(t,((e,t)=>{e?i(e):n(t)}))})):m}async function m(){(0,i.vU)("No file system access.")}function g(e){return e?async function(t,n){const r=(0,i.l7)({},this.options.http,n),a=n&&n.response,o=await e(t,r);return o.ok?(0,i.mf)(o[a])?o[a]():o.text():(0,i.vU)(o.status+""+o.statusText)}:y}async function y(){(0,i.vU)("No HTTP fetch method available.")}const b=e=>!(Number.isNaN(+e)||e instanceof Date),v={boolean:i.sw,integer:i.He,number:i.He,date:i.ZU,string:i.BB,unknown:i.yR},x=[e=>"true"===e||"false"===e||!0===e||!1===e,e=>b(e)&&Number.isInteger(+e),b,e=>!Number.isNaN(Date.parse(e))],_=["boolean","integer","number","date"];function w(e){const t=function(t,n){const r={delimiter:e};return A(t,n?(0,i.l7)(n,r):r)};return t.responseType="text",t}function A(e,t){return t.header&&(e=t.header.map(i.m8).join(t.delimiter)+"\n"+e),(0,r.Z)(t.delimiter).parse(e+"")}function k(e,t){const n=t&&t.property?(0,i.EP)(t.property):i.yR;return!(0,i.Kn)(e)||(r=e,"function"==typeof Buffer&&(0,i.mf)(Buffer.isBuffer)&&Buffer.isBuffer(r))?n(JSON.parse(e)):function(e,t){return!(0,i.kJ)(e)&&(0,i.TW)(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}(n(e),t);var r}A.responseType="text",k.responseType="json";const O={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function D(e,t){let n,r,s,u;return e=k(e,t),t&&t.feature?(n=a.Z,s=t.feature):t&&t.mesh?(n=o.Z,s=t.mesh,u=O[t.filter]):(0,i.vU)("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[s])?n(e,r,u):(0,i.vU)("Invalid TopoJSON object: "+s),r&&r.features||[r]}D.responseType="json";const E={dsv:A,csv:w(","),tsv:w("\t"),json:k,topojson:D};function F(e,t){return arguments.length>1?(E[e]=t,this):(0,i.nr)(E,e)?E[e]:null}function $(e){const t=F(e);return t&&t.responseType||"text"}function C(e,t,n,r){const a=F((t=t||{}).type||"json");return a||(0,i.vU)("Unknown data format type: "+t.type),e=a(e,t),t.parse&&function(e,t,n,i){if(!e.length)return;const r=(0,s.Ds)();n=n||r.timeParse,i=i||r.utcParse;let a,o,u,l,f,c,d=e.columns||Object.keys(e[0]);"auto"===t&&(t=function(e,t){return t.reduce(((t,n)=>(t[n]=function(e,t){if(!e||!e.length)return"unknown";const n=e.length,i=x.length,r=x.map(((e,t)=>t+1));for(let o,s,u=0,l=0;u<n;++u)for(s=t?e[u][t]:e[u],o=0;o<i;++o)if(r[o]&&null!=(a=s)&&a==a&&!x[o](s)&&(r[o]=0,++l,l===x.length))return"string";var a;return _[r.reduce(((e,t)=>0===e?t:e),0)-1]}(e,n),t)),{})}(e,d)),d=Object.keys(t);const h=d.map((e=>{const r=t[e];let a,o;if(r&&(r.startsWith("date:")||r.startsWith("utc:")))return a=r.split(/:(.+)?/,2),o=a[1],("'"===o[0]&&"'"===o[o.length-1]||'"'===o[0]&&'"'===o[o.length-1])&&(o=o.slice(1,-1)),("utc"===a[0]?i:n)(o);if(!v[r])throw Error("Illegal format pattern: "+e+":"+r);return v[r]}));for(u=0,f=e.length,c=d.length;u<f;++u)for(a=e[u],l=0;l<c;++l)o=d[l],a[o]=h[l](a[o])}(e,t.parse,n,r),(0,i.nr)(e,"columns")&&delete e.columns,e}const M=function(e,t){return t=>({options:t||{},sanitize:h,load:d,fileAccess:!1,file:p(null),http:g(e)})}("undefined"!=typeof fetch&&fetch)},11673:(e,t,n)=>{"use strict";var i=n(54374),r=n(40013),a=n(13775),o=n(2891),s=n(1015);const u=e=>(0,i.Kn)(e)&&!(0,i.kJ)(e)?(0,i.l7)({},e):{value:e};function l(e,t,n,r){return null!=n?((0,i.Kn)(n)&&!(0,i.kJ)(n)||(0,i.kJ)(n)&&n.length&&(0,i.Kn)(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function f(e,t,n){for(const n in t)l(e,n,t[n]);for(const t in n)l(e,t,n[t],"update")}function c(e,t,n){for(const r in t)n&&(0,i.nr)(n,r)||(e[r]=(0,i.l7)(e[r]||{},t[r]));return e}function d(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const h="mark",p="frame",m="scope",g="legend-label";function y(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const b=e=>(0,i.HD)(e)?(0,i.m8)(e):e.signal?`(${e.signal})`:w(e);function v(e){if(null!=e.gradient)return function(e){const t=[e.start,e.stop,e.count].map((e=>null==e?null:(0,i.m8)(e)));for(;t.length&&null==(0,i.fj)(t);)t.pop();return t.unshift(b(e.gradient)),`gradient(${t.join(",")})`}(e);let t=e.signal?`(${e.signal})`:e.color?function(e){return e.c?x("hcl",e.h,e.c,e.l):e.h||e.s?x("hsl",e.h,e.s,e.l):e.l||e.a?x("lab",e.l,e.a,e.b):e.r||e.g||e.b?x("rgb",e.r,e.g,e.b):null}(e.color):null!=e.field?w(e.field):void 0!==e.value?(0,i.m8)(e.value):void 0;return null!=e.scale&&(t=function(e,t){const n=b(e.scale);return null!=e.range?t=`lerp(_range(${n}), ${+e.range})`:(void 0!==t&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(1==+e.band?"":"*"+_(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),null==t&&(t="0")),t}(e,t)),void 0===t&&(t=null),null!=e.exponent&&(t=`pow(${t},${_(e.exponent)})`),null!=e.mult&&(t+=`*${_(e.mult)}`),null!=e.offset&&(t+=`+${_(e.offset)}`),e.round&&(t=`round(${t})`),t}const x=(e,t,n,i)=>`(${e}(${[t,n,i].map(v).join(",")})+'')`;function _(e){return(0,i.Kn)(e)?"("+v(e)+")":e}function w(e){return A((0,i.Kn)(e)?e:{datum:e})}function A(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):(0,i.vU)("Invalid field reference: "+(0,i.m8)(e));return e.signal||(r=(0,i.HD)(r)?(0,i._k)(r).map(i.m8).join("]["):A(r)),t+"["+r+"]"}function k(e,t,n,r){const a={},o={};for(const t in e)null!=e[t]&&(a[t]=O((s=e[t],(0,i.kJ)(s)?function(e){let t="";return e.forEach((e=>{const n=v(e);t+=e.test?`(${e.test})?${n}:`:n})),":"===(0,i.fj)(t)&&(t+="null"),t}(s):v(s)),r,n,o));var s;return{$expr:{marktype:t,channels:a},$fields:Object.keys(o),$output:Object.keys(e)}}function O(e,t,n,a){const o=(0,r.BJ)(e,t);return o.$fields.forEach((e=>a[e]=1)),(0,i.l7)(n,o.$params),o.$expr}const D=["value","update","init","react","bind"];function E(e,t){(0,i.vU)(e+' for "outer" push: '+(0,i.m8)(t))}function F(e,t,n,i){this.id=-1,this.type=e,this.value=t,this.params=n,i&&(this.parent=i)}function $(e,t,n,i){return new F(e,t,n,i)}function C(e,t){return $("operator",e,t)}function M(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function R(e,t){return t?{$field:e,$name:t}:{$field:e}}const S=R("key");function B(e,t){return{$compare:e,$order:t}}function Z(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const T="scope",P="view";function j(e){return e&&e.signal}function z(e){if(j(e))return!0;if((0,i.Kn)(e))for(const t in e)if(z(e[t]))return!0;return!1}function q(e,t){return null!=e?e:t}function N(e){return e&&e.signal||e}const U="timer";function L(e,t){return(e.merge?I:e.stream?W:e.type?X:(0,i.vU)("Invalid stream specification: "+(0,i.m8)(e)))(e,t)}function I(e,t){const n=V({merge:e.merge.map((e=>L(e,t)))},e,t);return t.addStream(n).id}function W(e,t){const n=V({stream:L(e.stream,t)},e,t);return t.addStream(n).id}function X(e,t){let n;var i;e.type===U?(n=t.event(U,e.throttle),e={between:e.between,filter:e.filter}):n=t.event((i=e.source)===T?P:i||P,e.type);const r=V({stream:n},e,t);return 1===Object.keys(r).length?n:t.addStream(r).id}function V(e,t,n){let a=t.between;return a&&(2!==a.length&&(0,i.vU)('Stream "between" parameter must have 2 entries: '+(0,i.m8)(t)),e.between=[L(a[0],n),L(a[1],n)]),a=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&a.push(function(e,t,n){const i="event.item";return i+(e&&"*"!==e?"&&"+i+".mark.marktype==='"+e+"'":"")+(n?"&&"+i+".mark.role==='"+n+"'":"")+(t?"&&"+i+".mark.name==='"+t+"'":"")}(t.marktype,t.markname,t.markrole)),t.source===T&&a.push("inScope(event.item)"),a.length&&(e.filter=(0,r.BJ)("("+a.join(")&&(")+")",n).$expr),null!=(a=t.throttle)&&(e.throttle=+a),null!=(a=t.debounce)&&(e.debounce=+a),t.consume&&(e.consume=!0),e}const H={code:"_.$value",ast:{type:"Identifier",value:"value"}};function J(e){return{signal:"["+e.map((e=>e.scale?'scale("'+e.scale+'")':e.signal))+"]"}}const Y=e=>(t,n,i)=>$(e,n,t||void 0,i),G=Y("aggregate"),K=Y("axisticks"),Q=Y("bound"),ee=Y("collect"),te=Y("compare"),ne=Y("datajoin"),ie=Y("encode"),re=Y("expression"),ae=Y("facet"),oe=Y("field"),se=Y("key"),ue=Y("legendentries"),le=Y("load"),fe=Y("mark"),ce=Y("multiextent"),de=Y("multivalues"),he=Y("overlap"),pe=Y("params"),me=Y("prefacet"),ge=Y("projection"),ye=Y("proxy"),be=Y("relay"),ve=Y("render"),xe=Y("scale"),_e=Y("sieve"),we=Y("sortitems"),Ae=Y("viewlayout"),ke=Y("values");let Oe=0;const De={min:"min",max:"max",count:"sum"};function Ee(e,t){const n=t.getScale(e.name).params;let r;var a;for(r in n.domain=Me(e.domain,e,t),null!=e.range&&(n.range=ze(e,t,n)),null!=e.interpolate&&function(e,t){t.interpolate=Fe(e.type||e),null!=e.gamma&&(t.interpolateGamma=Fe(e.gamma))}(e.interpolate,n),null!=e.nice&&(n.nice=(a=e.nice,(0,i.Kn)(a)?{interval:Fe(a.interval),step:Fe(a.step)}:Fe(a))),null!=e.bins&&(n.bins=function(e,t){return e.signal||(0,i.kJ)(e)?$e(e,t):t.objectProperty(e)}(e.bins,t)),e)(0,i.nr)(n,r)||"name"===r||(n[r]=Fe(e[r],t))}function Fe(e,t){return(0,i.Kn)(e)?e.signal?t.signalRef(e.signal):(0,i.vU)("Unsupported object: "+(0,i.m8)(e)):e}function $e(e,t){return e.signal?t.signalRef(e.signal):e.map((e=>Fe(e,t)))}function Ce(e){(0,i.vU)("Can not find data set: "+(0,i.m8)(e))}function Me(e,t,n){if(e)return e.signal?n.signalRef(e.signal):((0,i.kJ)(e)?Re:e.fields?Be:Se)(e,t,n);null==t.domainMin&&null==t.domainMax||(0,i.vU)("No scale domain defined for domainMin/domainMax to override.")}function Re(e,t,n){return e.map((e=>Fe(e,n)))}function Se(e,t,n){const i=n.getData(e.data);return i||Ce(e.data),(0,o.lK)(t.type)?i.valuesRef(n,e.field,Te(e.sort,!1)):(0,o.W1)(t.type)?i.domainRef(n,e.field):i.extentRef(n,e.field)}function Be(e,t,n){const r=e.data,a=e.fields.reduce(((e,t)=>(t=(0,i.HD)(t)?{data:r,field:t}:(0,i.kJ)(t)||t.signal?function(e,t){const n="_:vega:_"+Oe++,r=ee({});if((0,i.kJ)(e))r.value={$ingest:e};else if(e.signal){const a="setdata("+(0,i.m8)(n)+","+e.signal+")";r.params.input=t.signalRef(a)}return t.addDataPipeline(n,[r,_e({})]),{data:n,field:"data"}}(t,n):t,e.push(t),e)),[]);return((0,o.lK)(t.type)?Ze:(0,o.W1)(t.type)?Pe:je)(e,n,a)}function Ze(e,t,n){const i=Te(e.sort,!0);let r,a;const o=n.map((e=>{const n=t.getData(e.data);return n||Ce(e.data),n.countsRef(t,e.field,i)})),s={groupby:S,pulse:o};i&&(r=i.op||"count",a=i.field?Z(r,i.field):"count",s.ops=[De[r]],s.fields=[t.fieldRef(a)],s.as=[a]),r=t.add(G(s));const u=t.add(ee({pulse:M(r)}));return a=t.add(ke({field:S,sort:t.sortRef(i),pulse:M(u)})),M(a)}function Te(e,t){return e&&(e.field||e.op?e.field||"count"===e.op?t&&e.field&&e.op&&!De[e.op]&&(0,i.vU)("Multiple domain scales can not be sorted using "+e.op):(0,i.vU)("No field provided for sort aggregate op: "+e.op):(0,i.Kn)(e)?e.field="key":e={field:"key"}),e}function Pe(e,t,n){const i=n.map((e=>{const n=t.getData(e.data);return n||Ce(e.data),n.domainRef(t,e.field)}));return M(t.add(de({values:i})))}function je(e,t,n){const i=n.map((e=>{const n=t.getData(e.data);return n||Ce(e.data),n.extentRef(t,e.field)}));return M(t.add(ce({extents:i})))}function ze(e,t,n){const r=t.config.range;let a=e.range;if(a.signal)return t.signalRef(a.signal);if((0,i.HD)(a)){if(r&&(0,i.nr)(r,a))return ze(e=(0,i.l7)({},e,{range:r[a]}),t,n);"width"===a?a=[0,{signal:"width"}]:"height"===a?a=(0,o.lK)(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:(0,i.vU)("Unrecognized scale range value: "+(0,i.m8)(a))}else{if(a.scheme)return n.scheme=(0,i.kJ)(a.scheme)?$e(a.scheme,t):Fe(a.scheme,t),a.extent&&(n.schemeExtent=$e(a.extent,t)),void(a.count&&(n.schemeCount=Fe(a.count,t)));if(a.step)return void(n.rangeStep=Fe(a.step,t));if((0,o.lK)(e.type)&&!(0,i.kJ)(a))return Me(a,e,t);(0,i.kJ)(a)||(0,i.vU)("Unsupported range type: "+(0,i.m8)(a))}return a.map((e=>((0,i.kJ)(e)?$e:Fe)(e,t)))}function qe(e,t,n){return(0,i.kJ)(e)?e.map((e=>qe(e,t,n))):(0,i.Kn)(e)?e.signal?n.signalRef(e.signal):"fit"===t?e:(0,i.vU)("Unsupported parameter object: "+(0,i.m8)(e)):e}const Ne="top",Ue="left",Le="right",Ie="bottom",We="label",Xe="perc",Ve="value",He="guide-label",Je="guide-title",Ye="symbol",Ge="gradient",Ke="discrete",Qe="size",et=[Qe,"shape","fill","stroke","strokeWidth","strokeDash","opacity"],tt={name:1,style:1,interactive:1},nt={value:0},it={value:1},rt="group",at="rect",ot="rule",st="text";function ut(e){return e.type=rt,e.interactive=e.interactive||!1,e}function lt(e,t){const n=(n,i)=>q(e[n],q(t[n],i));return n.isVertical=n=>"vertical"===q(e.direction,t.direction||(n?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>q(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>q(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>q(e.columns,q(t.columns,+n.isVertical(!0))),n}function ft(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function ct(e,t,n){return`item.anchor === 'start' ? ${e} : item.anchor === 'end' ? ${t} : ${n}`}const dt=ct((0,i.m8)(Ue),(0,i.m8)(Le),(0,i.m8)("center"));function ht(e,t){return t?e?(0,i.Kn)(e)?Object.assign({},e,{offset:ht(e.offset,t)}):{value:e,offset:t}:t:e}function pt(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=c(e.encode,t,tt)):e.interactive=!1,e}function mt(e,t,n,r){const a=lt(e,n),o=a.isVertical(),s=a.gradientThickness(),l=a.gradientLength();let c,d,h,p,m;o?(d=[0,1],h=[0,0],p=s,m=l):(d=[0,0],h=[1,0],p=l,m=s);const g={enter:c={opacity:nt,x:nt,y:nt,width:u(p),height:u(m)},update:(0,i.l7)({},c,{opacity:it,fill:{gradient:t,start:d,stop:h}}),exit:{opacity:nt}};return f(g,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")}),pt({type:at,role:"legend-gradient",encode:g},r)}function gt(e,t,n,r,a){const o=lt(e,n),s=o.isVertical(),l=o.gradientThickness(),c=o.gradientLength();let d,h,p,m,g="";s?(d="y",p="y2",h="x",m="width",g="1-"):(d="x",p="x2",h="y",m="height");const y={opacity:nt,fill:{scale:t,field:Ve}};y[d]={signal:g+"datum."+Xe,mult:c},y[h]=nt,y[p]={signal:g+"datum.perc2",mult:c},y[m]=u(l);const b={enter:y,update:(0,i.l7)({},y,{opacity:it}),exit:{opacity:nt}};return f(b,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),pt({type:at,role:"legend-band",key:Ve,from:a,encode:b},r)}function yt(e,t,n,i){const r=lt(e,t),a=r.isVertical(),o=u(r.gradientThickness()),s=r.gradientLength();let l,c,d,h,p=r("labelOverlap"),m="";const y={enter:l={opacity:nt},update:c={opacity:it,text:{field:We}},exit:{opacity:nt}};return f(y,{fill:r("labelColor"),fillOpacity:r("labelOpacity"),font:r("labelFont"),fontSize:r("labelFontSize"),fontStyle:r("labelFontStyle"),fontWeight:r("labelFontWeight"),limit:q(e.labelLimit,t.gradientLabelLimit)}),a?(l.align={value:"left"},l.baseline=c.baseline={signal:'datum.perc<=0?"bottom":datum.perc>=1?"top":"middle"'},d="y",h="x",m="1-"):(l.align=c.align={signal:'datum.perc<=0?"left":datum.perc>=1?"right":"center"'},l.baseline={value:"top"},d="x",h="y"),l[d]=c[d]={signal:m+"datum."+Xe,mult:s},l[h]=c[h]=o,o.offset=q(e.labelOffset,t.gradientLabelOffset)||0,p=p?{separation:r("labelSeparation"),method:p,order:"datum.index"}:void 0,pt({type:st,role:g,style:He,key:Ve,from:i,encode:y,overlap:p},n)}function bt(e,t,n,i,r){const a=lt(e,t),o=n.entries,s=!(!o||!o.interactive),l=o?o.name:void 0,d=a("clipHeight"),h=a("symbolOffset"),p={data:"value"},y=`(${r}) ? datum.offset : datum.size`,b=d?u(d):{field:Qe},v="datum.index",x=`max(1, ${r})`;let _,w,A,k,O;b.mult=.5,_={enter:w={opacity:nt,x:{signal:y,mult:.5,offset:h},y:b},update:A={opacity:it,x:w.x,y:w.y},exit:{opacity:nt}};let D=null,E=null;e.fill||(D=t.symbolBaseFillColor,E=t.symbolBaseStrokeColor),f(_,{fill:a("symbolFillColor",D),shape:a("symbolType"),size:a("symbolSize"),stroke:a("symbolStrokeColor",E),strokeDash:a("symbolDash"),strokeDashOffset:a("symbolDashOffset"),strokeWidth:a("symbolStrokeWidth")},{opacity:a("symbolOpacity")}),et.forEach((t=>{e[t]&&(A[t]=w[t]={scale:e[t],field:Ve})}));const F=pt({type:"symbol",role:"legend-symbol",key:Ve,from:p,clip:!!d||void 0,encode:_},n.symbols),$=u(h);$.offset=a("labelOffset"),_={enter:w={opacity:nt,x:{signal:y,offset:$},y:b},update:A={opacity:it,text:{field:We},x:w.x,y:w.y},exit:{opacity:nt}},f(_,{align:a("labelAlign"),baseline:a("labelBaseline"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontStyle:a("labelFontStyle"),fontWeight:a("labelFontWeight"),limit:a("labelLimit")});const C=pt({type:st,role:g,style:He,key:Ve,from:p,encode:_},n.labels);return _={enter:{noBound:{value:!d},width:nt,height:d?u(d):nt,opacity:nt},exit:{opacity:nt},update:A={opacity:it,row:{signal:null},column:{signal:null}}},a.isVertical(!0)?(k=`ceil(item.mark.items.length / ${x})`,A.row.signal=`${v}%${k}`,A.column.signal=`floor(${v} / ${k})`,O={field:["row",v]}):(A.row.signal=`floor(${v} / ${x})`,A.column.signal=`${v} % ${x}`,O={field:v}),A.column.signal=`(${r})?${A.column.signal}:${v}`,ut({role:m,from:i={facet:{data:i,name:"value",groupby:"index"}},encode:c(_,o,tt),marks:[F,C],name:l,interactive:s,sort:O})}const vt='item.orient === "left"',xt='item.orient === "right"',_t=`(${vt} || ${xt})`,wt=`datum.vgrad && ${_t}`,At=ct('"top"','"bottom"','"middle"'),kt=`datum.vgrad && ${xt} ? (${ct('"right"','"left"','"center"')}) : (${_t} && !(datum.vgrad && ${vt})) ? "left" : ${dt}`,Ot=`item._anchor || (${_t} ? "middle" : "start")`,Dt=`${wt} ? (${vt} ? -90 : 90) : 0`,Et=`${_t} ? (datum.vgrad ? (${xt} ? "bottom" : "top") : ${At}) : "top"`;function Ft(e,t){let n;return(0,i.Kn)(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+$t(e.path)+")":e.sphere&&(n="geoShape("+$t(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function $t(e){return(0,i.Kn)(e)&&e.signal?e.signal:(0,i.m8)(e)}function Ct(e){const t=e.role||"";return t.indexOf("axis")&&t.indexOf("legend")&&t.indexOf("title")?e.type===rt?m:t||h:t}function Mt(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Ct(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function Rt(e,t){return e&&e.signal?t.signalRef(e.signal):!1!==e}function St(e,t){const n=(0,s.DF)(e.type);n||(0,i.vU)("Unrecognized transform type: "+(0,i.m8)(e.type));const r=$(n.type.toLowerCase(),null,Bt(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function Bt(e,t,n){const i={},r=e.params.length;for(let a=0;a<r;++a){const r=e.params[a];i[r.name]=Zt(r,t,n)}return i}function Zt(e,t,n){const r=e.type,a=t[e.name];return"index"===r?function(e,t,n){return(0,i.HD)(t.from)||(0,i.vU)('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}(0,t,n):void 0!==a?"param"===r?function(e,t,n){const r=t[e.name];return e.array?((0,i.kJ)(r)||(0,i.vU)("Expected an array of sub-parameters. Instead: "+(0,i.m8)(r)),r.map((t=>Pt(e,t,n)))):Pt(e,r,n)}(e,t,n):"projection"===r?n.projectionRef(t[e.name]):e.array&&!j(a)?a.map((t=>Tt(e,t,n))):Tt(e,a,n):void(e.required&&(0,i.vU)("Missing required "+(0,i.m8)(t.type)+" parameter: "+(0,i.m8)(e.name)))}function Tt(e,t,n){const a=e.type;if(j(t))return Nt(a)?(0,i.vU)("Expression references can not be signals."):Ut(a)?n.fieldRef(t):Lt(a)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||Ut(a);return i&&jt(t)?n.exprRef(t.expr,t.as):i&&zt(t)?R(t.field,t.as):Nt(a)?(0,r.BJ)(t,n):qt(a)?M(n.getData(t).values):Ut(a)?R(t):Lt(a)?n.compareRef(t):t}}function Pt(e,t,n){const r=e.params.length;let a;for(let n=0;n<r;++n){a=e.params[n];for(const e in a.key)if(a.key[e]!==t[e]){a=null;break}if(a)break}a||(0,i.vU)("Unsupported parameter: "+(0,i.m8)(t));const o=(0,i.l7)(Bt(a,t,n),a.key);return M(n.add(pe(o)))}const jt=e=>e&&e.expr,zt=e=>e&&e.field,qt=e=>"data"===e,Nt=e=>"expr"===e,Ut=e=>"field"===e,Lt=e=>"compare"===e;function It(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:M(t.getData(e.data).output)}function Wt(e,t,n,i,r){this.scope=e,this.input=t,this.output=n,this.values=i,this.aggregate=r,this.index={}}function Xt(e){return(0,i.HD)(e)?e:null}function Vt(e,t,n){const i=Z(n.op,n.field);let r;if(t.ops){for(let e=0,n=t.as.length;e<n;++e)if(t.as[e]===i)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((r=n.op.signal)?e.signalRef(r):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(i))}function Ht(e,t,n,r,a,o,s){const u=t[n]||(t[n]={}),l=function(e){return(0,i.Kn)(e)?("descending"===e.order?"-":"+")+Z(e.op,e.field):""}(o);let f,c,d=Xt(a);if(null!=d&&(e=t.scope,d+=l?"|"+l:"",f=u[d]),!f){const n=o?{field:S,pulse:t.countsRef(e,a,o)}:{field:e.fieldRef(a),pulse:M(t.output)};l&&(n.sort=e.sortRef(o)),c=e.add($(r,void 0,n)),s&&(t.index[a]=c),f=M(c),null!=d&&(u[d]=f)}return f}function Jt(e,t,n){const i=e.remove,a=e.insert,o=e.toggle,s=e.modify,u=e.values,l=t.add(C()),f="if("+e.trigger+',modify("'+n+'",'+[a,i,o,s,u].map((e=>null==e?"null":e)).join(",")+"),0)",c=(0,r.BJ)(f,t);l.update=c.$expr,l.params=c.$params}function Yt(e,t){const n=Ct(e),r=e.type===rt,a=e.from&&e.from.facet,o=e.overlap;let s,u,l,f,c,g,b,v=e.layout||n===m||n===p;const x=n===h||v||a,_=function(e,t,n){let r,a,o,s,u;return e?(r=e.facet)&&(t||(0,i.vU)("Only group marks can be faceted."),null!=r.field?s=u=It(r,n):(e.data?u=M(n.getData(e.data).aggregate):(o=St((0,i.l7)({type:"aggregate",groupby:(0,i.IX)(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=It(r,n),s=u=M(n.add(o))),a=n.keyRef(r.groupby,!0))):s=M(n.add(ee(null,[{}]))),s||(s=It(e,n)),{key:a,pulse:s,parent:u}}(e.from,r,t);u=t.add(ne({key:_.key||(e.key?R(e.key):void 0),pulse:_.pulse,clean:!r}));const w=M(u);u=l=t.add(ee({pulse:w})),u=t.add(fe({markdef:Mt(e),interactive:Rt(e.interactive,t),clip:Ft(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:M(u)}));const A=M(u);u=f=t.add(ie(function(e,t,n,r,a,o){const s={};(o=o||{}).encoders={$encode:s},e=function(e,t,n,r,a){const o={},s={};let u,l,f,c;for(l in l="lineBreak","text"!==t||null==a[l]||d(l,e)||y(o,l,a[l]),("legend"==n||String(n).startsWith("axis"))&&(n=null),c=n===p?a.group:n===h?(0,i.l7)({},a.mark,a[t]):null,c)f=d(l,e)||("fill"===l||"stroke"===l)&&(d("fill",e)||d("stroke",e)),f||y(o,l,c[l]);for(l in(0,i.IX)(r).forEach((t=>{const n=a.style&&a.style[t];for(const t in n)d(t,e)||y(o,t,n[t])})),e=(0,i.l7)({},e),o)c=o[l],c.signal?(u=u||{})[l]=c:s[l]=c;return e.enter=(0,i.l7)(s,e.enter),u&&(e.update=(0,i.l7)(u,e.update)),e}(e,t,n,r,a.config);for(const n in e)s[n]=k(e[n],t,o,a);return o}(e.encode,e.type,n,e.style,t,{mod:!1,pulse:A}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach((e=>{const n=St(e,t),r=n.metadata;(r.generates||r.changes)&&(0,i.vU)("Mark transforms should not generate new data."),r.nomod||(f.params.mod=!0),n.params.pulse=M(u),t.add(u=n)})),e.sort&&(u=t.add(we({sort:t.compareRef(e.sort),pulse:M(u)})));const O=M(u);(a||v)&&(v=t.add(Ae({layout:t.objectProperty(e.layout),legends:t.legends,mark:A,pulse:O})),g=M(v));const D=t.add(Q({mark:A,pulse:g||O}));b=M(D),r&&(x&&(s=t.operators,s.pop(),v&&s.pop()),t.pushState(O,g||b,w),a?function(e,t,n){const r=e.from.facet,a=r.name,o=It(r,t);let s;r.name||(0,i.vU)("Facet must have a name: "+(0,i.m8)(r)),r.data||(0,i.vU)("Facet must reference a data set: "+(0,i.m8)(r)),r.field?s=t.add(me({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(ae({key:t.keyRef(r.groupby),group:M(t.proxy(n.parent)),pulse:o})):(0,i.vU)("Facet must specify groupby or field: "+(0,i.m8)(r));const u=t.fork(),l=u.add(ee()),f=u.add(_e({pulse:M(l)}));u.addData(a,new Wt(u,l,l,f)),u.addSignal("parent",null),s.params.subflow={$subflow:u.parse(e).toRuntime()}}(e,t,_):x?function(e,t,n){const i=t.add(me({pulse:n.pulse})),r=t.fork();r.add(_e()),r.addSignal("parent",null),i.params.subflow={$subflow:r.parse(e).toRuntime()}}(e,t,_):t.parse(e),t.popState(),x&&(v&&s.push(v),s.push(D))),o&&(b=function(e,t,n){const i=e.method,r=e.bound,a=e.separation,o={separation:j(a)?n.signalRef(a.signal):a,method:j(i)?n.signalRef(i.signal):i,pulse:t};if(e.order&&(o.sort=n.compareRef({field:e.order})),r){const e=r.tolerance;o.boundTolerance=j(e)?n.signalRef(e.signal):+e,o.boundScale=n.scaleRef(r.scale),o.boundOrient=r.orient}return M(n.add(he(o)))}(o,b,t));const E=t.add(ve({pulse:b})),F=t.add(_e({pulse:M(E)},void 0,t.parent()));null!=e.name&&(c=e.name,t.addData(c,new Wt(t,l,E,F)),e.on&&e.on.forEach((e=>{(e.insert||e.remove||e.toggle)&&(0,i.vU)("Marks only support modify triggers."),Jt(e,t,c)})))}function Gt(e,t,n){const i={enter:{},update:{}};return f(i,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),i}function Kt(e,t,n){return t[e]?`scale("${t[e]}",datum)`:ft(e,n[0].encode)}function Qt(e,t){const n={enter:{},update:{}};return f(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:dt},angle:{signal:'item.orient==="left"?-90:item.orient==="right"?90:0'},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),c(n,t,tt)}function en(e){const t=ee({},e);return t.metadata={source:!0},t}function tn(e,t){return le({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}Wt.fromEntries=function(e,t){const n=t.length,i=t[n-1],r=t[n-2];let a=t[0],o=null,s=1;for(a&&"load"===a.type&&(a=t[1]),e.add(t[0]);s<n;++s)t[s].params.pulse=M(t[s-1]),e.add(t[s]),"aggregate"===t[s].type&&(o=t[s]);return new Wt(e,a,r,i,o)},Wt.prototype={countsRef(e,t,n){const i=this,r=i.counts||(i.counts={}),a=Xt(t);let o,s,u;return null!=a&&(e=i.scope,o=r[a]),o?n&&n.field&&Vt(e,o.agg.params,n):(u={groupby:e.fieldRef(t,"key"),pulse:M(i.output)},n&&n.field&&Vt(e,u,n),s=e.add(G(u)),o=e.add(ee({pulse:M(s)})),o={agg:s,ref:M(o)},null!=a&&(r[a]=o)),o.ref},tuplesRef(){return M(this.values)},extentRef(e,t){return Ht(e,this,"extent","extent",t,!1)},domainRef(e,t){return Ht(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return Ht(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return Ht(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return Ht(e,this,"indata","tupleindex",t,!0,!0)}};const nn=e=>e===Ie||e===Ne,rn=(e,t,n)=>j(e)?fn(e.signal,t,n):e===Ue||e===Ne?t:n,an=(e,t,n)=>j(e)?un(e.signal,t,n):nn(e)?t:n,on=(e,t,n)=>j(e)?ln(e.signal,t,n):nn(e)?n:t,sn=(e,t,n)=>j(e)?cn(e.signal,t,n):e===Ne?{value:t}:{value:n},un=(e,t,n)=>dn(`${e} === 'top' || ${e} === 'bottom'`,t,n),ln=(e,t,n)=>dn(`${e} !== 'top' && ${e} !== 'bottom'`,t,n),fn=(e,t,n)=>pn(`${e} === 'left' || ${e} === 'top'`,t,n),cn=(e,t,n)=>pn(`${e} === 'top'`,t,n),dn=(e,t,n)=>(t=null!=t?u(t):t,n=null!=n?u(n):n,hn(t)&&hn(n)?{signal:`${e} ? (${t=t?t.signal||(0,i.m8)(t.value):null}) : (${n=n?n.signal||(0,i.m8)(n.value):null})`}:[(0,i.l7)({test:e},t)].concat(n||[])),hn=e=>null==e||1===Object.keys(e).length,pn=(e,t,n)=>({signal:`${e} ? (${mn(t)}) : (${mn(n)})`}),mn=e=>j(e)?e.signal:null==e?null:(0,i.m8)(e),gn=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function yn(e,t,n,r){let a;if(t&&(0,i.nr)(t,e))return t[e];if((0,i.nr)(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":a="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":a=e[5].toLowerCase()+e.slice(6)}return r["guide-title"][a]}if(e.startsWith("label")){switch(e){case"labelColor":a="fill";break;case"labelFont":case"labelFontSize":a=e[5].toLowerCase()+e.slice(6)}return r["guide-label"][a]}return null}function bn(e){const t={};for(const n of e)if(n)for(const e in n)t[e]=1;return Object.keys(t)}function vn(e,t){return{scale:e.scale,range:t}}function xn(e,t,n,i,r){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+i+","+r+")"}}function _n(e,t,n,i,r,a){const o=lt(e,t),s=e.orient,l=e.scale,c=rn(s,-1,1),d=N(o("labelFlush")),h=N(o("labelFlushOffset")),p=o("labelAlign"),m=o("labelBaseline");let g,y=0===d||!!d;const b=u(r);b.mult=c,b.offset=u(o("labelPadding")||0),b.offset.mult=c;const v={scale:l,field:Ve,band:.5,offset:ht(a.offset,o("labelOffset"))},x=an(s,y?xn(l,d,'"left"','"right"','"center"'):{value:"center"},((e,t,n)=>j(e)?((e,t,n)=>pn(`${e} === 'right'`,t,n))(e.signal,t,n):e===Le?{value:t}:{value:n})(s,"left","right")),_=an(s,sn(s,"bottom","top"),y?xn(l,d,'"top"','"bottom"','"middle"'):{value:"middle"}),w=xn(l,d,`-(${h})`,h,0);y=y&&h;const A={opacity:nt,x:an(s,v,b),y:on(s,v,b)},k={enter:A,update:g={opacity:it,text:{field:We},x:A.x,y:A.y,align:x,baseline:_},exit:{opacity:nt,x:A.x,y:A.y}};f(k,{dx:!p&&y?an(s,w):null,dy:!m&&y?on(s,w):null}),f(k,{angle:o("labelAngle"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontWeight:o("labelFontWeight"),fontStyle:o("labelFontStyle"),limit:o("labelLimit"),lineHeight:o("labelLineHeight")},{align:p,baseline:m});const O=o("labelBound");let D=o("labelOverlap");return D=D||O?{separation:o("labelSeparation"),method:D,order:"datum.index",bound:O?{scale:l,orient:s,tolerance:O}:null}:void 0,g.align!==x&&(g.align=gn(g.align,x)),g.baseline!==_&&(g.baseline=gn(g.baseline,_)),pt({type:st,role:"axis-label",style:He,key:Ve,from:i,encode:k,overlap:D},n)}function wn(e,t){const n=function(e,t){var n,r,a,o,s,u,l,f,c=t.config,d=c.style,h=c.axis,p="band"===t.scaleType(e.scale)&&c.axisBand,m=e.orient;if(j(m)){const e=bn([c.axisX,c.axisY]),t=bn([c.axisTop,c.axisBottom,c.axisLeft,c.axisRight]);for(a of(n={},e))n[a]=an(m,yn(a,c.axisX,h,d),yn(a,c.axisY,h,d));for(a of(r={},t))r[a]=(o=m.signal,s=yn(a,c.axisTop,h,d),u=yn(a,c.axisBottom,h,d),l=yn(a,c.axisLeft,h,d),f=yn(a,c.axisRight,h,d),{signal:(null!=l?`${o} === 'left' ? (${mn(l)}) : `:"")+(null!=u?`${o} === 'bottom' ? (${mn(u)}) : `:"")+(null!=f?`${o} === 'right' ? (${mn(f)}) : `:"")+(null!=s?`${o} === 'top' ? (${mn(s)}) : `:"")+"(null)"})}else n=m===Ne||m===Ie?c.axisX:c.axisY,r=c["axis"+m[0].toUpperCase()+m.slice(1)];return n||r||p?(0,i.l7)({},h,n,r,p):h}(e,t),r=e.encode||{},a=r.axis||{},o=a.name||void 0,s=a.interactive,l=a.style,h=lt(e,n),p=function(e){const t=e("tickBand");let n,r,a=e("tickOffset");return t?t.signal?(n={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},r={signal:`(${t.signal}) === 'extent'`},(0,i.Kn)(a)||(a={signal:`(${t.signal}) === 'extent' ? 0 : ${a}`})):"extent"===t?(n=1,r=!0,a=0):(n=.5,r=!1):(n=e("bandPosition"),r=e("tickExtra")),{extra:r,band:n,offset:a}}(h),m={scale:e.scale,ticks:!!h("ticks"),labels:!!h("labels"),grid:!!h("grid"),domain:!!h("domain"),title:null!=e.title},g=M(t.add(ee({},[m]))),y=M(t.add(K({scale:t.scaleRef(e.scale),extra:t.property(p.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),b=[];let v;return m.grid&&b.push(function(e,t,n,r,a){const o=lt(e,t),s=e.orient,u=e.gridScale,l=rn(s,1,-1),c=function(e,t){if(1===t);else if((0,i.Kn)(e)){let n=e=(0,i.l7)({},e);for(;null!=n.mult;){if(!(0,i.Kn)(n.mult))return n.mult=j(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n=n.mult=(0,i.l7)({},n.mult)}n.mult=t}else e=j(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);return e}(e.offset,l);let d,h,p;const m={enter:d={opacity:nt},update:p={opacity:it},exit:h={opacity:nt}};f(m,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const g={scale:e.scale,field:Ve,band:a.band,extra:a.extra,offset:a.offset,round:o("tickRound")},y=an(s,{signal:"height"},{signal:"width"}),b=u?{scale:u,range:0,mult:l,offset:c}:{value:0,offset:c},v=u?{scale:u,range:1,mult:l,offset:c}:(0,i.l7)(y,{mult:l,offset:c});return d.x=p.x=an(s,g,b),d.y=p.y=on(s,g,b),d.x2=p.x2=on(s,v),d.y2=p.y2=an(s,v),h.x=an(s,g),h.y=on(s,g),pt({type:ot,role:"axis-grid",key:Ve,from:r,encode:m},n)}(e,n,r.grid,y,p)),m.ticks&&(v=h("tickSize"),b.push(function(e,t,n,i,r,a){const o=lt(e,t),s=e.orient,l=rn(s,-1,1);let c,d,h;const p={enter:c={opacity:nt},update:h={opacity:it},exit:d={opacity:nt}};f(p,{stroke:o("tickColor"),strokeCap:o("tickCap"),strokeDash:o("tickDash"),strokeDashOffset:o("tickDashOffset"),strokeOpacity:o("tickOpacity"),strokeWidth:o("tickWidth")});const m=u(r);m.mult=l;const g={scale:e.scale,field:Ve,band:a.band,extra:a.extra,offset:a.offset,round:o("tickRound")};return h.y=c.y=an(s,nt,g),h.y2=c.y2=an(s,m),d.x=an(s,g),h.x=c.x=on(s,nt,g),h.x2=c.x2=on(s,m),d.y=on(s,g),pt({type:ot,role:"axis-tick",key:Ve,from:i,encode:p},n)}(e,n,r.ticks,y,v,p))),m.labels&&(v=m.ticks?v:0,b.push(_n(e,n,r.labels,y,v,p))),m.domain&&b.push(function(e,t,n,i){const r=lt(e,t),a=e.orient;let o,s;const u={enter:o={opacity:nt},update:s={opacity:it},exit:{opacity:nt}};f(u,{stroke:r("domainColor"),strokeCap:r("domainCap"),strokeDash:r("domainDash"),strokeDashOffset:r("domainDashOffset"),strokeWidth:r("domainWidth"),strokeOpacity:r("domainOpacity")});const l=vn(e,0),c=vn(e,1);return o.x=s.x=an(a,l,nt),o.x2=s.x2=an(a,c),o.y=s.y=on(a,l,nt),o.y2=s.y2=on(a,c),pt({type:ot,role:"axis-domain",from:i,encode:u},n)}(e,n,r.domain,g)),m.title&&b.push(function(e,t,n,r){const a=lt(e,t),o=e.orient,s=rn(o,-1,1);let l,c;const h={enter:l={opacity:nt,anchor:u(a("titleAnchor",null)),align:{signal:dt}},update:c=(0,i.l7)({},l,{opacity:it,text:u(e.title)}),exit:{opacity:nt}},p={signal:`lerp(range("${e.scale}"), ${ct(0,1,.5)})`};return c.x=an(o,p),c.y=on(o,p),l.angle=an(o,nt,((e,t)=>j(e)?{signal:`(${e.signal}) * 90`}:{value:90*e})(s)),l.baseline=an(o,sn(o,Ie,Ne),{value:Ie}),c.angle=l.angle,c.baseline=l.baseline,f(h,{fill:a("titleColor"),fillOpacity:a("titleOpacity"),font:a("titleFont"),fontSize:a("titleFontSize"),fontStyle:a("titleFontStyle"),fontWeight:a("titleFontWeight"),limit:a("titleLimit"),lineHeight:a("titleLineHeight")},{align:a("titleAlign"),angle:a("titleAngle"),baseline:a("titleBaseline")}),function(e,t,n,i){const r=(e,t)=>null!=e?(n.update[t]=gn(u(e),n.update[t]),!1):!d(t,i),a=r(e("titleX"),"x"),o=r(e("titleY"),"y");n.enter.auto=o===a?u(o):an(t,u(o),u(a))}(a,o,h,n),h.update.align=gn(h.update.align,l.align),h.update.angle=gn(h.update.angle,l.angle),h.update.baseline=gn(h.update.baseline,l.baseline),pt({type:st,role:"axis-title",style:Je,from:r,encode:h},n)}(e,n,r.title,g)),Yt(ut({role:"axis",from:g,encode:c(An(h,e),a,tt),marks:b,aria:h("aria"),description:h("description"),zindex:h("zindex"),name:o,interactive:s,style:l}),t)}function An(e,t){const n={enter:{},update:{}};return f(n,{orient:e("orient"),offset:e("offset")||0,position:q(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function kn(e,t,n){const s=(0,i.IX)(e.signals),u=(0,i.IX)(e.scales);return n||s.forEach((e=>function(e,t){const n=e.name;if("outer"===e.push)t.signals[n]||E("No prior signal definition",n),D.forEach((t=>{void 0!==e[t]&&E("Invalid property ",t)}));else{const i=t.addSignal(n,e.value);!1===e.react&&(i.react=!1),e.bind&&t.addBinding(n,e.bind)}}(e,t))),(0,i.IX)(e.projections).forEach((e=>function(e,t){const n=t.config.projection||{},i={};for(const n in e)"name"!==n&&(i[n]=qe(e[n],n,t));for(const e in n)null==i[e]&&(i[e]=qe(n[e],e,t));t.addProjection(e.name,i)}(e,t))),u.forEach((e=>function(e,t){const n=e.type||"linear";(0,o.dx)(n)||(0,i.vU)("Unrecognized scale type: "+(0,i.m8)(n)),t.addScale(e.name,{type:n,domain:void 0})}(e,t))),(0,i.IX)(e.data).forEach((e=>function(e,t){const n=[];e.transform&&e.transform.forEach((e=>{n.push(St(e,t))})),e.on&&e.on.forEach((n=>{Jt(n,t,e.name)})),t.addDataPipeline(e.name,function(e,t,n){const r=[];let a,o,s,u,l,f=null,c=!1,d=!1;for(e.values?j(e.values)||z(e.format)?(r.push(tn(t,e)),r.push(f=en())):r.push(f=en({$ingest:e.values,$format:e.format})):e.url?z(e.url)||z(e.format)?(r.push(tn(t,e)),r.push(f=en())):r.push(f=en({$request:e.url,$format:e.format})):e.source&&(f=a=(0,i.IX)(e.source).map((e=>M(t.getData(e).output))),r.push(null)),o=0,s=n.length;o<s;++o)u=n[o],l=u.metadata,f||l.source||r.push(f=en()),r.push(u),l.generates&&(d=!0),l.modifies&&!d&&(c=!0),l.source?f=u:l.changes&&(f=null);return a&&(s=a.length-1,r[0]=be({derive:c,pulse:s?a:a[0]}),(c||s)&&r.splice(1,0,en())),f||r.push(en()),r.push(_e({})),r}(e,t,n))}(e,t))),u.forEach((e=>Ee(e,t))),(n||s).forEach((e=>function(e,t){const n=t.getSignal(e.name);let o=e.update;e.init&&(o?(0,i.vU)("Signals can not include both init and update expressions."):(o=e.init,n.initonly=!0)),o&&(o=(0,r.BJ)(o,t),n.update=o.$expr,n.params=o.$params),e.on&&e.on.forEach((e=>function(e,t,n){const o=e.encode,s={target:n};let u=e.events,l=e.update,f=[];u||(0,i.vU)("Signal update missing events specification."),(0,i.HD)(u)&&(u=(0,a.r)(u,t.isSubscope()?T:P)),u=(0,i.IX)(u).filter((e=>e.signal||e.scale?(f.push(e),0):1)),f.length>1&&(f=[J(f)]),u.length&&f.push(u.length>1?{merge:u}:u[0]),null!=o&&(l&&(0,i.vU)("Signal encode and update are mutually exclusive."),l="encode(item(),"+(0,i.m8)(o)+")"),s.update=(0,i.HD)(l)?(0,r.BJ)(l,t):null!=l.expr?(0,r.BJ)(l.expr,t):null!=l.value?l.value:null!=l.signal?{$expr:H,$params:{$value:t.signalRef(l.signal)}}:(0,i.vU)("Invalid signal update specification."),e.force&&(s.options={force:!0}),f.forEach((e=>t.addUpdate((0,i.l7)(function(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):L(e,t)}}(e,t),s))))}(e,t,n.id)))}(e,t))),(0,i.IX)(e.axes).forEach((e=>wn(e,t))),(0,i.IX)(e.marks).forEach((e=>Yt(e,t))),(0,i.IX)(e.legends).forEach((e=>function(e,t){const n=t.config.legend,a=e.encode||{},s=lt(e,n),u=a.legend||{},l=u.name||void 0,d=u.interactive,h=u.style,p={};let m,g,y,b=0;et.forEach((t=>e[t]?(p[t]=e[t],b=b||e[t]):0)),b||(0,i.vU)("Missing valid scale for legend.");const v=function(e,t){let n=e.type||Ye;return e.type||1!==function(e){return et.reduce(((t,n)=>t+(e[n]?1:0)),0)}(e)||!e.fill&&!e.stroke||(n=(0,o.z2)(t)?Ge:(0,o.WE)(t)?Ke:Ye),n!==Ge?n:(0,o.WE)(t)?Ke:Ge}(e,t.scaleType(b)),x={title:null!=e.title,scales:p,type:v,vgrad:"symbol"!==v&&s.isVertical()},_=M(t.add(ee(null,[x]))),w=M(t.add(ue(g={type:v,scale:t.scaleRef(b),count:t.objectProperty(s("tickCount")),limit:t.property(s("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return v===Ge?(y=[mt(e,b,n,a.gradient),yt(e,n,a.labels,w)],g.count=g.count||t.signalRef(`max(2,2*floor((${N(s.gradientLength())})/100))`)):v===Ke?y=[gt(e,b,n,a.gradient,w),yt(e,n,a.labels,w)]:(m=function(e,t){const n=lt(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}(e,n),y=[bt(e,n,a,w,N(m.columns))],g.size=function(e,t,n){const i=N(Kt("size",e,n)),a=N(Kt("strokeWidth",e,n)),o=N(function(e,t,n){return ft("fontSize",e)||function(e,t,n){const i=t.config.style["guide-label"];return i&&i.fontSize}(0,t)}(n[1].encode,t));return(0,r.BJ)(`max(ceil(sqrt(${i})+${a}),${o})`,t)}(e,t,y[0].marks)),y=[ut({role:"legend-entry",from:_,encode:{enter:{x:{value:0},y:{value:0}}},marks:y,layout:m,interactive:d})],x.title&&y.push(function(e,t,n,i){const r=lt(e,t),a={enter:{opacity:nt},update:{opacity:it,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:nt}};return f(a,{orient:r("titleOrient"),_anchor:r("titleAnchor"),anchor:{signal:Ot},angle:{signal:Dt},align:{signal:kt},baseline:{signal:Et},text:e.title,fill:r("titleColor"),fillOpacity:r("titleOpacity"),font:r("titleFont"),fontSize:r("titleFontSize"),fontStyle:r("titleFontStyle"),fontWeight:r("titleFontWeight"),limit:r("titleLimit"),lineHeight:r("titleLineHeight")},{align:r("titleAlign"),baseline:r("titleBaseline")}),pt({type:st,role:"legend-title",style:Je,from:i,encode:a},n)}(e,n,a.title,_)),Yt(ut({role:"legend",from:_,encode:c(Gt(s,e,n),u,tt),marks:y,aria:s("aria"),description:s("description"),zindex:s("zindex"),name:l,interactive:d,style:h}),t)}(e,t))),e.title&&function(e,t){const n=lt(e=(0,i.HD)(e)?{text:e}:e,t.config.title),r=e.encode||{},a=r.group||{},o=a.name||void 0,s=a.interactive,u=a.style,l=[],c=M(t.add(ee(null,[{}])));l.push(function(e,t,n,i){const r={value:0},a={enter:{opacity:r},update:{opacity:{value:1}},exit:{opacity:r}};return f(a,{text:e.text,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),pt({type:st,role:"title-text",style:"group-title",from:i,encode:a},n)}(e,n,function(e){const t=e.encode;return t&&t.title||(0,i.l7)({name:e.name,interactive:e.interactive,style:e.style},t)}(e),c)),e.subtitle&&l.push(function(e,t,n,i){const r={value:0},a={enter:{opacity:r},update:{opacity:{value:1}},exit:{opacity:r}};return f(a,{text:e.subtitle,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),pt({type:st,role:"title-subtitle",style:"group-subtitle",from:i,encode:a},n)}(e,n,r.subtitle,c)),Yt(ut({role:"title",from:c,encode:Qt(n,a),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:u}),t)}(e.title,t),t.parseLambdas(),t}function On(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}function Dn(e){return((0,i.kJ)(e)?En:Fn)(e)}function En(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const t=e[r];n+=(r>0?",":"")+((0,i.Kn)(t)?t.signal||Dn(t):(0,i.m8)(t))}return n+"]"}function Fn(e){let t,n,r="{",a=0;for(t in e)n=e[t],r+=(++a>1?",":"")+(0,i.m8)(t)+":"+((0,i.Kn)(n)?n.signal||Dn(n):(0,i.m8)(n));return r+"}"}On.prototype={parse(e){return kn(e,this)},fork(){return new On(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach((t=>{t.$ref=e.id})),e.refs=null),e},proxy(e){const t=e instanceof F?M(e):e;return this.add(ye({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;for(e in this.root&&(this.root.root=!0),this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(e,t,n){let i,r;e&&(i=e.data||(e.data={}),r=i[t]||(i[t]=[]),r.push(n))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const i in t.index)n(t.index[i],e,"index:"+i)}return this},pushState(e,t,n){this._encode.push(M(this.add(_e({pulse:e})))),this._parent.push(t),this._lookup.push(n?M(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return(0,i.fj)(this._parent)},encode(){return(0,i.fj)(this._encode)},lookup(){return(0,i.fj)(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if((0,i.HD)(e))return R(e,t);e.signal||(0,i.vU)("Unsupported field reference: "+(0,i.m8)(e));const n=e.signal;let r=this.field[n];if(!r){const e={name:this.signalRef(n)};t&&(e.as=t),this.field[n]=r=M(this.add(oe(e)))}return r},compareRef(e){let t=!1;const n=e=>j(e)?(t=!0,this.signalRef(e.signal)):function(e){return e&&e.expr}(e)?(t=!0,this.exprRef(e.expr)):e,r=(0,i.IX)(e.field).map(n),a=(0,i.IX)(e.order).map(n);return t?M(this.add(te({fields:r,orders:a}))):B(r,a)},keyRef(e,t){let n=!1;const r=this.signals;return e=(0,i.IX)(e).map((e=>j(e)?(n=!0,M(r[e.signal])):e)),n?M(this.add(se({fields:e,flat:t}))):function(e,t){const n={$key:e};return t&&(n.$flat=!0),n}(e,t)},sortRef(e){if(!e)return e;const t=Z(e.op,e.field),n=e.order||"ascending";return n.signal?M(this.add(te({fields:t,orders:this.signalRef(n.signal)}))):B(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const i=this.id();this.streams.push({id:i,source:e,type:t}),this.events[n]=i}return this.events[n]},hasOwnSignal(e){return(0,i.nr)(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&(0,i.vU)("Duplicate signal name: "+(0,i.m8)(e));const n=t instanceof F?t:this.add(C(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||(0,i.vU)("Unrecognized signal name: "+(0,i.m8)(e)),this.signals[e]},signalRef(e){return this.signals[e]?M(this.signals[e]):((0,i.nr)(this.lambdas,e)||(this.lambdas[e]=this.add(C(null))),M(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const n=e[t],i=(0,r.BJ)(n,this),a=this.lambdas[n];a.params=i.$params,a.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return e&&(0,i.Kn)(e)?this.signalRef(e.signal||Dn(e)):e},exprRef(e,t){const n={expr:(0,r.BJ)(e,this)};return t&&(n.expr.$name=t),M(this.add(re(n)))},addBinding(e,t){this.bindings||(0,i.vU)("Nested signals do not support binding: "+(0,i.m8)(e)),this.bindings.push((0,i.l7)({signal:e},t))},addScaleProj(e,t){(0,i.nr)(this.scales,e)&&(0,i.vU)("Duplicate scale or projection name: "+(0,i.m8)(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,xe(t))},addProjection(e,t){this.addScaleProj(e,ge(t))},getScale(e){return this.scales[e]||(0,i.vU)("Unrecognized scale name: "+(0,i.m8)(e)),this.scales[e]},scaleRef(e){return M(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return(0,i.nr)(this.data,e)&&(0,i.vU)("Duplicate data set name: "+(0,i.m8)(e)),this.data[e]=t},getData(e){return this.data[e]||(0,i.vU)("Undefined data set name: "+(0,i.m8)(e)),this.data[e]},addDataPipeline(e,t){return(0,i.nr)(this.data,e)&&(0,i.vU)("Duplicate data set name: "+(0,i.m8)(e)),this.addData(e,Wt.fromEntries(this,t))}}},63792:(e,t,n)=>{"use strict";n.d(t,{bd:()=>O,CJ:()=>k,di:()=>w});var i=n(40817),r=n(50200),a=n(56742),o=n(44908),s=n(34025),u=n(38126),l=n(68618),f=n(14364),c=n(54429),d=n(59912),h=n(69492),p=n(5201),m=n(26102),g=n(40654),y=n(18482),b=n(47251),v=n(45457),x=n(13859);const _=(0,i.Z)(),w=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function A(e,t){return function n(){const r=t();return r.type=e,r.path=(0,i.Z)().projection(r),r.copy=r.copy||function(){const e=n();return w.forEach((t=>{r[t]&&e[t](r[t]())})),e.path.pointRadius(r.path.pointRadius()),e},r}}function k(e,t){if(!e||"string"!=typeof e)throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(D[e]=A(e,t),this):D[e]||null}function O(e){return e&&e.path||_}const D={albers:r.Z,albersusa:a.Z,azimuthalequalarea:o.Z,azimuthalequidistant:s.Z,conicconformal:u.Z,conicequalarea:l.Z,conicequidistant:f.Z,equalEarth:c.Z,equirectangular:d.Z,gnomonic:h.Z,identity:p.Z,mercator:m.ZP,mollweide:x.ZP,naturalEarth1:g.Z,orthographic:y.Z,stereographic:b.Z,transversemercator:v.Z};for(const e in D)k(e,D[e])},37653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{loess:()=>s,regression:()=>l});var i=n(92589),r=n(1015),a=n(54374);function o(e,t){var n,i,r,a,o,s,u=[],l=function(e){return e(a)};if(null==t)u.push(e);else for(n={},i=0,r=e.length;i<r;++i)a=e[i],(s=n[o=t.map(l)])||(n[o]=s=[],s.dims=o,u.push(s)),s.push(a);return u}function s(e){r.wx.call(this,null,e)}s.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]},(0,a.XW)(s,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=o(t.materialize(t.SOURCE).source,e.groupby),u=(e.groupby||[]).map(a.el),l=u.length,f=e.as||[(0,a.el)(e.x),(0,a.el)(e.y)],c=[];s.forEach((t=>{(0,i.$S)(t,e.x,e.y,e.bandwidth||.3).forEach((e=>{const n={};for(let e=0;e<l;++e)n[u[e]]=t.dims[e];n[f[0]]=e[0],n[f[1]]=e[1],c.push((0,r.ax)(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});const u={linear:i.fw,log:i.jE,exp:i.lI,pow:i.kp,quad:i.p9,poly:i.gS};function l(e){r.wx.call(this,null,e)}l.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(u)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]},(0,a.XW)(l,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const s=o(t.materialize(t.SOURCE).source,e.groupby),l=(e.groupby||[]).map(a.el),f=e.method||"linear",c=e.order||3,d=((e,t)=>"poly"===e?t:"quad"===e?2:1)(f,c),h=e.as||[(0,a.el)(e.x),(0,a.el)(e.y)],p=u[f],m=[];let g=e.extent;(0,a.nr)(u,f)||(0,a.vU)("Invalid regression method: "+f),null!=g&&"log"===f&&g[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),g=null),s.forEach((n=>{if(n.length<=d)return void t.dataflow.warn("Skipping regression with more parameters than data points.");const o=p(n,e.x,e.y,c);if(e.params)return void m.push((0,r.ax)({keys:n.dims,coef:o.coef,rSquared:o.rSquared}));const s=g||(0,a.We)(n,e.x),u=e=>{const t={};for(let e=0;e<l.length;++e)t[l[e]]=n.dims[e];t[h[0]]=e[0],t[h[1]]=e[1],m.push((0,r.ax)(t))};"linear"===f?s.forEach((e=>u([e,o.predict(e)]))):(0,i.sR)(o.predict,s,25,200).forEach(u)})),this.value&&(n.rem=this.value),this.value=n.add=n.source=m}return n}})},58168:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var i=n(54374),r=n(1015);const a=(0,i.Rg)(["rule"]),o=(0,i.Rg)(["group","image","rect"]);function s(e){return(e+"").toLowerCase()}function u(e,t,n){";"!==n[n.length-1]&&(n="return("+n+");");const i=Function(...t.concat(n));return e&&e.functions?i.bind(e.functions):i}var l={operator:(e,t)=>u(e,["_"],t.code),parameter:(e,t)=>u(e,["datum","_"],t.code),event:(e,t)=>u(e,["event"],t.code),handler:(e,t)=>u(e,["_","event"],"var datum=event.item&&event.item.datum;return ".concat(t.code,";")),encode:(e,t)=>{const{marktype:n,channels:r}=t;let s="var o=item,datum=o.datum,m=0,$;";for(const e in r){const t="o["+(0,i.m8)(e)+"]";s+="$=".concat(r[e].code,";if(").concat(t,"!==$)").concat(t,"=$,m=1;")}return s+=function(e,t){let n="";return a[t]||(e.x2&&(e.x?(o[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(o[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}(r,n),s+="return m;",u(e,["item","_"],s)},codegen:{get(e){const t="[".concat(e.map(i.m8).join("]["),"]"),n=Function("_","return _".concat(t,";"));return n.path=t,n},comparator(e,t){let n;const i=Function("a","b","var u, v; return "+e.map(((e,i)=>{const r=t[i];let a,o;return e.path?(a="a".concat(e.path),o="b".concat(e.path)):((n=n||{})["f"+i]=e,a="this.f".concat(i,"(a)"),o="this.f".concat(i,"(b)")),function(e,t,n,i){return"((u = ".concat(e,") < (v = ").concat(t,") || u == null) && v != null ? ").concat(n,"\n  : (u > v || v == null) && u != null ? ").concat(i,"\n  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ").concat(n,"\n  : v !== v && u === u ? ").concat(i," : ")}(a,o,-r,r)})).join("")+"0;");return n?i.bind(n):i}}};function f(e,t,n){if(!e||!(0,i.Kn)(e))return e;for(let r,a=0,o=c.length;a<o;++a)if(r=c[a],(0,i.nr)(e,r.key))return r.parse(e,t,n);return e}var c=[{key:"$ref",parse:function(e,t){return t.get(e.$ref)||(0,i.vU)("Operator not defined: "+e.$ref)}},{key:"$key",parse:function(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=(0,i.Jy)(e.$key,e.$flat,t.expr.codegen))}},{key:"$expr",parse:function(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code+"_"+e.$name;return t.fn[r]||(t.fn[r]=(0,i.ZE)(t.parameterExpression(e.$expr),e.$fields,e.$name))}},{key:"$field",parse:function(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=(0,i.EP)(e.$field,e.$name,t.expr.codegen))}},{key:"$encode",parse:function(e,t){const n=e.$encode,r={};for(const e in n){const a=n[e];r[e]=(0,i.ZE)(t.encodeExpression(a.$expr),a.$fields),r[e].output=a.$output}return r}},{key:"$compare",parse:function(e,t){const n="c:"+e.$compare+"_"+e.$order,a=(0,i.IX)(e.$compare).map((e=>e&&e.$tupleid?r.ai:e));return t.fn[n]||(t.fn[n]=(0,i.qu)(a,e.$order,t.expr.codegen))}},{key:"$context",parse:function(e,t){return t}},{key:"$subflow",parse:function(e,t){const n=e.$subflow;return function(e,i,r){const a=t.fork().parse(n),o=a.get(n.operators[0].id),s=a.signals.parent;return s&&s.set(r),o.detachSubflow=()=>t.detach(a),o}}},{key:"$tupleid",parse:function(){return r.ai}}];const d={skip:!0};function h(e,t,n,i){return new p(e,t,n,i)}function p(e,t,n,i){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=i||l,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function m(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}p.prototype=m.prototype={fork(){const e=new m(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter((t=>t!==e));const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,i=n.dataflow,r=e.value;if(n.set(e.id,t),"collect"===s(e.type)&&r&&(r.$ingest?i.ingest(t,r.$ingest,r.$format):r.$request?i.preload(t,r.$request,r.$format):i.pulse(t,i.changeset().insert(r))),e.root&&(n.root=t),e.parent){let r=n.get(e.parent.$ref);r?(i.connect(r,[t]),t.targets().add(r)):(n.unresolved=n.unresolved||[]).push((()=>{r=n.get(e.parent.$ref),i.connect(r,[t]),t.targets().add(r)}))}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const i in e.data){const r=n.data[i]||(n.data[i]={});e.data[i].forEach((e=>r[e]=t))}},resolve(){return(this.unresolved||[]).forEach((e=>e())),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[s(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,i,r){this.dataflow.on(t,n,i,r,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:function(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach((e=>t.parseOperator(e))),n.forEach((e=>t.parseOperatorParameters(e))),(e.streams||[]).forEach((e=>t.parseStream(e))),(e.updates||[]).forEach((e=>t.parseUpdate(e))),t.resolve()},parseOperator:function(e){const t=this;"operator"!==s(e.type)&&e.type?t.transform(e,e.type):t.operator(e,e.update?t.operatorExpression(e.update):null)},parseOperatorParameters:function(e){const t=this;if(e.params){const n=t.get(e.id);n||(0,i.vU)("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}},parseParameters:function(e,t){t=t||{};const n=this;for(const r in e){const a=e[r];t[r]=(0,i.kJ)(a)?a.map((e=>f(e,n,t))):f(a,n,t)}return t},parseStream:function(e){var t,n=this,r=null!=e.filter?n.eventExpression(e.filter):void 0,a=null!=e.stream?n.get(e.stream):void 0;e.source?a=n.events(e.source,e.type,r):e.merge&&(a=(t=e.merge.map((e=>n.get(e))))[0].merge.apply(t[0],t.slice(1))),e.between&&(t=e.between.map((e=>n.get(e))),a=a.between(t[0],t[1])),e.filter&&(a=a.filter(r)),null!=e.throttle&&(a=a.throttle(+e.throttle)),null!=e.debounce&&(a=a.debounce(+e.debounce)),null==a&&(0,i.vU)("Invalid stream definition: "+JSON.stringify(e)),e.consume&&a.consume(!0),n.stream(e,a)},parseUpdate:function(e){var t,n=this,r=(0,i.Kn)(r=e.source)?r.$ref:r,a=n.get(r),o=e.update,s=void 0;a||(0,i.vU)("Source not defined: "+e.source),t=e.target&&e.target.$expr?n.eventExpression(e.target.$expr):n.get(e.target),o&&o.$expr&&(o.$params&&(s=n.parseParameters(o.$params)),o=n.handlerExpression(o.$expr)),n.update(e,a,t,o,s)},getState:function(e){var t=this,n={};if(e.signals){var i=n.signals={};Object.keys(t.signals).forEach((n=>{const r=t.signals[n];e.signals(n,r)&&(i[n]=r.value)}))}if(e.data){var r=n.data={};Object.keys(t.data).forEach((n=>{const i=t.data[n];e.data(n,i)&&(r[n]=i.input.value)}))}return t.subcontext&&!1!==e.recurse&&(n.subcontext=t.subcontext.map((t=>t.getState(e)))),n},setState:function(e){var t=this,n=t.dataflow,r=e.data,a=e.signals;Object.keys(a||{}).forEach((e=>{n.update(t.signals[e],a[e],d)})),Object.keys(r||{}).forEach((e=>{n.pulse(t.data[e].input,n.changeset().remove(i.yb).insert(r[e]))})),(e.subcontext||[]).forEach(((e,n)=>{const i=t.subcontext[n];i&&i.setState(e)}))}}},2891:(e,t,n)=>{"use strict";n.d(t,{qm:()=>o.O,td:()=>j,a7:()=>z,QZ:()=>R,Aq:()=>be,bJ:()=>k,Zb:()=>O,r7:()=>T,E9:()=>P,pe:()=>D,cO:()=>S,J$:()=>B,sb:()=>M,FK:()=>E,UX:()=>ye,PB:()=>F,Ms:()=>Z,qp:()=>$,zR:()=>C,U6:()=>A,A_:()=>Pe,sX:()=>de,Nz:()=>le,ST:()=>ue,z2:()=>te,lK:()=>ne,WE:()=>ie,hC:()=>ae,dh:()=>re,W1:()=>oe,dx:()=>Q,n7:()=>Ce,cA:()=>Te,PL:()=>$e,u1:()=>fe,bA:()=>K,NR:()=>ce,rC:()=>ge,QL:()=>we,uk:()=>Oe,DP:()=>ke,bX:()=>Ae});var i=n(54374),r=n(2467),a=n(55354),o=n(14131),s=n(16913),u=n(23662),l=n(64791),f=n(76646),c=n(76572),d=n(35210),h=n(14435),p=n(27365),m=n(385),g=n(9141),y=n(14343),b=n(41204),v=n(87280),x=n(3701),_=n(84377),w=n(46283);function A(e,t,n){const i=e-t+2*n;return e?i>0?i:1:0}const k="linear",O="log",D="pow",E="sqrt",F="symlog",$="time",C="utc",M="sequential",R="diverging",S="quantile",B="quantize",Z="threshold",T="ordinal",P="point",j="band",z="bin-ordinal",q="continuous",N="discrete",U="discretizing",L="interpolating",I="temporal";function W(){const e=(0,o.Z)().unknown(void 0),t=e.domain,n=e.range;let i,s,u=[0,1],l=!1,f=0,c=0,d=.5;function h(){const e=t().length,a=u[1]<u[0],o=u[1-a],h=A(e,f,c);let p=u[a-0];i=(o-p)/(h||1),l&&(i=Math.floor(i)),p+=(o-p-i*(e-f))*d,s=i*(1-f),l&&(p=Math.round(p),s=Math.round(s));const m=(0,r.Z)(e).map((e=>p+i*e));return n(a?m.reverse():m)}return delete e.unknown,e.domain=function(e){return arguments.length?(t(e),h()):t()},e.range=function(e){return arguments.length?(u=[+e[0],+e[1]],h()):u.slice()},e.rangeRound=function(e){return u=[+e[0],+e[1]],l=!0,h()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(e){return arguments.length?(l=!!e,h()):l},e.padding=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),f=c,h()):f},e.paddingInner=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),h()):f},e.paddingOuter=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),h()):c},e.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),h()):d},e.invertRange=function(e){if(null==e[0]||null==e[1])return;const i=u[1]<u[0],r=i?n().reverse():n(),o=r.length-1;let l,f,c,d=+e[0],h=+e[1];return d!=d||h!=h||(h<d&&(c=d,d=h,h=c),h<r[0]||d>u[1-i])?void 0:(l=Math.max(0,(0,a.ml)(r,d)-1),f=d===h?l:(0,a.ml)(r,h)-1,d-r[l]>s+1e-10&&++l,i&&(c=l,l=o-f,f=o-c),l>f?void 0:t().slice(l,f+1))},e.invert=function(t){const n=e.invertRange([t,t]);return n?n[0]:n},e.copy=function(){return W().domain(t()).range(u).round(l).paddingInner(f).paddingOuter(c).align(d)},h()}function X(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return X(t())},e}var V=Array.prototype.map;function H(e){return V.call(e,i.He)}const J=Array.prototype.slice,Y={};function G(e,t,n){const r=function(){const n=t();return n.invertRange||(n.invertRange=n.invert?function(e){return function(t){let n,i=t[0],r=t[1];return r<i&&(n=i,i=r,r=n),[e.invert(i),e.invert(r)]}}(n):n.invertExtent?function(e){return function(t){const n=e.range();let i,r,a,o,s=t[0],u=t[1],l=-1;for(u<s&&(r=s,s=u,u=r),a=0,o=n.length;a<o;++a)n[a]>=s&&n[a]<=u&&(l<0&&(l=a),i=a);if(!(l<0))return s=e.invertExtent(n[l]),u=e.invertExtent(n[i]),[void 0===s[0]?s[1]:s[0],void 0===u[1]?u[0]:u[1]]}}(n):void 0),n.type=e,n};return r.metadata=(0,i.Rg)((0,i.IX)(n)),r}function K(e,t,n){return arguments.length>1?(Y[e]=G(e,t,n),this):Q(e)?Y[e]:void 0}function Q(e){return(0,i.nr)(Y,e)}function ee(e,t){const n=Y[e];return n&&n.metadata[t]}function te(e){return ee(e,q)}function ne(e){return ee(e,N)}function ie(e){return ee(e,U)}function re(e){return ee(e,O)}function ae(e){return ee(e,L)}function oe(e){return ee(e,S)}K("identity",u.Z),K(k,l.Z,q),K(O,f.Z,[q,O]),K(D,c.ZP,q),K(E,c._b,q),K(F,d.Z,q),K($,h.Z,[q,I]),K(C,p.Z,[q,I]),K(M,m.ZP,[q,L]),K("".concat(M,"-").concat(k),m.ZP,[q,L]),K("".concat(M,"-").concat(O),m.S5,[q,L,O]),K("".concat(M,"-").concat(D),m.UN,[q,L]),K("".concat(M,"-").concat(E),m.L2,[q,L]),K("".concat(M,"-").concat(F),m.cV,[q,L]),K("".concat(R,"-").concat(k),g.ZP,[q,L]),K("".concat(R,"-").concat(O),g.QA,[q,L,O]),K("".concat(R,"-").concat(D),g.ld,[q,L]),K("".concat(R,"-").concat(E),g.Km,[q,L]),K("".concat(R,"-").concat(F),g.UM,[q,L]),K(S,y.Z,[U,S]),K(B,b.Z,U),K(Z,v.Z,U),K(z,(function e(){let t=[],n=[];function r(e){return null==e||e!=e?void 0:n[((0,a.ZP)(t,e)-1)%n.length]}return r.domain=function(e){return arguments.length?(t=H(e),r):t.slice()},r.range=function(e){return arguments.length?(n=J.call(e),r):n.slice()},r.tickFormat=function(e,n){return(0,s.Z)(t[0],(0,i.fj)(t),null==e?10:e,n)},r.copy=function(){return e().domain(r.domain()).range(r.range())},r}),[N,U]),K(T,o.Z,N),K(j,W,N),K(P,(function(){return X(W().paddingInner(1))}),N);const se=["clamp","base","constant","exponent"];function ue(e,t){const n=t[0],r=(0,i.fj)(t)-n;return function(t){return e(n+t*r)}}function le(e,t,n){return(0,_.Z)(de(t||"rgb",n),e)}function fe(e,t){const n=new Array(t),i=t+1;for(let r=0;r<t;)n[r]=e(++r/i);return n}function ce(e,t,n){const r=n-t;let a,o,s;return r&&Number.isFinite(r)?(a=(o=e.type).indexOf("-"),o=a<0?o:o.slice(a+1),s=K(o)().domain([t,n]).range([0,1]),se.forEach((t=>e[t]?s[t](e[t]()):0)),s):(0,i.a9)(.5)}function de(e,t){const n=x[function(e){return"interpolate"+e.toLowerCase().split("-").map((e=>e[0].toUpperCase()+e.slice(1))).join("")}(e)];return null!=t&&n&&n.gamma?n.gamma(t):n}function he(e){const t=e.length/6|0,n=new Array(t);for(let i=0;i<t;)n[i]="#"+e.slice(6*i,6*++i);return n}function pe(e,t){for(const n in e)ge(n,t(e[n]))}const me={};function ge(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(me[e]=t,this):me[e]}pe({category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"},he),pe({blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},(e=>le(he(e))));const ye="symbol",be="gradient",ve=e=>(0,i.kJ)(e)?e.map((e=>String(e))):String(e),xe=(e,t)=>e[1]-t[1],_e=(e,t)=>t[1]-e[1];function we(e,t,n){let r;return(0,i.hj)(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),null!=n&&(t=Math.min(t,Math.floor((0,i.yP)(e.domain())/n||1)))),(0,i.Kn)(t)&&(r=t.step,t=t.interval),(0,i.HD)(t)&&(t=e.type===$?(0,w.JZ)(t):e.type==C?(0,w.zr)(t):(0,i.vU)("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function Ae(e,t,n){let r=e.range(),a=r[0],o=(0,i.fj)(r),s=xe;if(a>o&&(r=o,o=a,a=r,s=_e),a=Math.floor(a),o=Math.ceil(o),t=t.map((t=>[t,e(t)])).filter((e=>a<=e[1]&&e[1]<=o)).sort(s).map((e=>e[0])),n>0&&t.length>1){const e=[t[0],(0,i.fj)(t)];for(;t.length>n&&t.length>=3;)t=t.filter(((e,t)=>!(t%2)));t.length<3&&(t=e)}return t}function ke(e,t){return e.bins?Ae(e,e.bins):e.ticks?e.ticks(t):e.domain()}function Oe(e,t,n,i,r,a){const o=t.type;let s=ve;if(o===$||r===$)s=e.timeFormat(i);else if(o===C||r===C)s=e.utcFormat(i);else if(re(o)){const r=e.formatFloat(i);if(a||t.bins)s=r;else{const e=De(t,n,!1);s=t=>e(t)?r(t):""}}else if(t.tickFormat){const r=t.domain();s=e.formatSpan(r[0],r[r.length-1],n,i)}else i&&(s=e.format(i));return s}function De(e,t,n){const i=ke(e,t),r=e.base(),a=Math.log(r),o=Math.max(1,r*t/i.length),s=e=>{let t=e/Math.pow(r,Math.round(Math.log(e)/a));return t*r<r-.5&&(t*=r),t<=o};return n?i.filter(s):s}const Ee={[S]:"quantiles",[B]:"thresholds",[Z]:"domain"},Fe={[S]:"quantiles",[B]:"domain"};function $e(e,t){return e.bins?function(e){const t=e.slice(0,-1);return t.max=(0,i.fj)(e),t}(e.bins):e.type===O?De(e,t,!0):Ee[e.type]?function(e){const t=[-1/0].concat(e);return t.max=1/0,t}(e[Ee[e.type]]()):ke(e,t)}function Ce(e,t,n,i,r,a,o){const s=Fe[t.type]&&a!==$&&a!==C?function(e,t,n){const i=t[Fe[t.type]](),r=i.length;let a,o=r>1?i[1]-i[0]:i[0];for(a=1;a<r;++a)o=Math.min(o,i[a]-i[a-1]);return e.formatSpan(0,o,30,n)}(e,t,r):Oe(e,t,n,r,a,o);return i===ye&&(e=>Ee[e.type]||e.bins)(t)?Me(s):"discrete"===i?Se(s):Be(s)}const Me=e=>(t,n,i)=>{const r=Re(i[n+1],Re(i.max,1/0)),a=Ze(t,e),o=Ze(r,e);return a&&o?a+" – "+o:o?"< "+o:"≥ "+a},Re=(e,t)=>null!=e?e:t,Se=e=>(t,n)=>n?e(t):null,Be=e=>t=>e(t),Ze=(e,t)=>Number.isFinite(e)?t(e):null;function Te(e){const t=e.domain(),n=t.length-1;let r=+t[0],a=+(0,i.fj)(t),o=a-r;if(e.type===Z){const e=n?o/n:.1;r-=e,a+=e,o=a-r}return e=>(e-r)/o}function Pe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),a=function(e,t,n,r){const a=r||t.type;return(0,i.HD)(n)&&ee(a,I)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),n||a!==$?n||a!==C?Ce(e,t,5,null,n,r,!0):e.utcFormat("%A, %d %B %Y, %X UTC"):e.timeFormat("%A, %d %B %Y, %X")}(e,t,n.format,n.formatType);if(ie(t.type)){const e=$e(t).slice(1).map(a),n=e.length;return"".concat(n," boundar").concat(1===n?"y":"ies",": ").concat(e.join(", "))}if(ne(t.type)){const e=t.domain(),n=e.length,i=n>r?e.slice(0,r-2).map(a).join(", ")+", ending with "+e.slice(-1).map(a):e.map(a).join(", ");return"".concat(n," value").concat(1===n?"":"s",": ").concat(i)}{const e=t.domain();return"values from ".concat(a(e[0])," to ").concat(a((0,i.fj)(e)))}}},40801:(e,t,n)=>{"use strict";n.d(t,{YZ:()=>_e,fd:()=>Kn,ph:()=>R,MN:()=>Ae,ck:()=>we,zT:()=>vn,y2:()=>Ii,Yo:()=>On,bs:()=>Ki,Hz:()=>Ee,wf:()=>Vi,N_:()=>un,LY:()=>P,dW:()=>H,xm:()=>Rn,fS:()=>Xi,Zd:()=>Kt});var i=n(54374),r=n(60419),a=n(19748),o=n(97574),s=n(71828),u=n(68258),l=n(1435),f=n(15027),c=n(83484),d=n(66560),h=n(39380),p=n(31818),m=n(45570),g=n(31650),y=n(40759),b=n(28574),v=n(15755),x=n(48006),_=n(42457),w=n(88745),A=n(85665),k=n(12360),O=n(65516),D=n(2891);let E=0;const F="p_";function $(e){return e&&e.gradient}function C(e,t,n){const i=e.gradient;let r=e.id,a="radial"===i?F:"";return r||(r=e.id="gradient_"+E++,"radial"===i?(e.x1=M(e.x1,.5),e.y1=M(e.y1,.5),e.r1=M(e.r1,0),e.x2=M(e.x2,.5),e.y2=M(e.y2,.5),e.r2=M(e.r2,.5),a=F):(e.x1=M(e.x1,0),e.y1=M(e.y1,0),e.x2=M(e.x2,1),e.y2=M(e.y2,0))),t[r]=e,"url("+(n||"")+"#"+a+r+")"}function M(e,t){return null!=e?e:t}function R(e,t){var n,i=[];return n={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:i,stop:function(e,t){return i.push({offset:e,color:t}),n}}}const S={basis:{curve:r.ZP},"basis-closed":{curve:a.Z},"basis-open":{curve:o.Z},bundle:{curve:s.Z,tension:"beta",value:.85},cardinal:{curve:u.ZP,tension:"tension",value:0},"cardinal-open":{curve:l.Z,tension:"tension",value:0},"cardinal-closed":{curve:f.Z,tension:"tension",value:0},"catmull-rom":{curve:c.Z,tension:"alpha",value:.5},"catmull-rom-closed":{curve:d.Z,tension:"alpha",value:.5},"catmull-rom-open":{curve:h.Z,tension:"alpha",value:.5},linear:{curve:p.Z},"linear-closed":{curve:m.Z},monotone:{horizontal:g.s,vertical:g.Z},natural:{curve:y.Z},step:{curve:b.ZP},"step-after":{curve:b.cD},"step-before":{curve:b.RN}};function B(e,t,n){var r=(0,i.nr)(S,e)&&S[e],a=null;return r&&(a=r.curve||r[t||"vertical"],r.tension&&null!=n&&(a=a[r.tension](n))),a}const Z={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},T=[/([MLHVCSQTAZmlhvcsqtaz])/g,/###/,/(\.\d+)(\.\d)/g,/(\d)([-+])/g,/\s|,|###/];function P(e){const t=[];let n,i,r,a,o,s,u,l,f,c;const d=e.slice().replace(T[0],"###$1").split(T[1]).slice(1);for(u=0,f=d.length;u<f;++u){for(n=d[u],i=n.slice(1).trim().replace(T[2],"$1###$2").replace(T[3],"$1###$2").split(T[4]),o=n.charAt(0),r=[o],l=0,c=i.length;l<c;++l)(a=+i[l])===a&&r.push(a);if(s=Z[o.toLowerCase()],r.length-1>s){const e=r.length;for(l=1,t.push([o].concat(r.slice(l,l+=s))),o="M"===o?"L":"m"===o?"l":o;l<e;l+=s)t.push([o].concat(r.slice(l,l+s)))}else t.push(r)}return t}const j=Math.PI/180,z=Math.PI/2,q=2*Math.PI,N=Math.sqrt(3)/2;var U={},L={},I=[].join;function W(e){const t=I.call(e);if(L[t])return L[t];var n=e[0],i=e[1],r=e[2],a=e[3],o=e[4],s=e[5],u=e[6],l=e[7];const f=l*o,c=-u*s,d=u*o,h=l*s,p=Math.cos(r),m=Math.sin(r),g=Math.cos(a),y=Math.sin(a),b=.5*(a-r),v=Math.sin(.5*b),x=8/3*v*v/Math.sin(b),_=n+p-x*m,w=i+m+x*p,A=n+g,k=i+y,O=A+x*y,D=k-x*g;return L[t]=[f*_+c*w,d*_+h*w,f*O+c*D,d*O+h*D,f*A+c*k,d*A+h*k]}const X=["l",0,0,0,0,0,0,0];function V(e,t,n){const i=X[0]=e[0];if("a"===i||"A"===i)X[1]=t*e[1],X[2]=n*e[2],X[3]=e[3],X[4]=e[4],X[5]=e[5],X[6]=t*e[6],X[7]=n*e[7];else if("h"===i||"H"===i)X[1]=t*e[1];else if("v"===i||"V"===i)X[1]=n*e[1];else for(var r=1,a=e.length;r<a;++r)X[r]=(r%2==1?t:n)*e[r];return X}function H(e,t,n,i,r,a){var o,s,u,l,f,c=null,d=0,h=0,p=0,m=0;null==n&&(n=0),null==i&&(i=0),null==r&&(r=1),null==a&&(a=r),e.beginPath&&e.beginPath();for(var g=0,y=t.length;g<y;++g){switch(o=t[g],1===r&&1===a||(o=V(o,r,a)),o[0]){case"l":d+=o[1],h+=o[2],e.lineTo(d+n,h+i);break;case"L":d=o[1],h=o[2],e.lineTo(d+n,h+i);break;case"h":d+=o[1],e.lineTo(d+n,h+i);break;case"H":d=o[1],e.lineTo(d+n,h+i);break;case"v":h+=o[1],e.lineTo(d+n,h+i);break;case"V":h=o[1],e.lineTo(d+n,h+i);break;case"m":d+=o[1],h+=o[2],e.moveTo(d+n,h+i);break;case"M":d=o[1],h=o[2],e.moveTo(d+n,h+i);break;case"c":s=d+o[5],u=h+o[6],p=d+o[3],m=h+o[4],e.bezierCurveTo(d+o[1]+n,h+o[2]+i,p+n,m+i,s+n,u+i),d=s,h=u;break;case"C":d=o[5],h=o[6],p=o[3],m=o[4],e.bezierCurveTo(o[1]+n,o[2]+i,p+n,m+i,d+n,h+i);break;case"s":s=d+o[3],u=h+o[4],p=2*d-p,m=2*h-m,e.bezierCurveTo(p+n,m+i,d+o[1]+n,h+o[2]+i,s+n,u+i),p=d+o[1],m=h+o[2],d=s,h=u;break;case"S":s=o[3],u=o[4],p=2*d-p,m=2*h-m,e.bezierCurveTo(p+n,m+i,o[1]+n,o[2]+i,s+n,u+i),d=s,h=u,p=o[1],m=o[2];break;case"q":s=d+o[3],u=h+o[4],p=d+o[1],m=h+o[2],e.quadraticCurveTo(p+n,m+i,s+n,u+i),d=s,h=u;break;case"Q":s=o[3],u=o[4],e.quadraticCurveTo(o[1]+n,o[2]+i,s+n,u+i),d=s,h=u,p=o[1],m=o[2];break;case"t":s=d+o[1],u=h+o[2],null===c[0].match(/[QqTt]/)?(p=d,m=h):"t"===c[0]?(p=2*d-l,m=2*h-f):"q"===c[0]&&(p=2*d-p,m=2*h-m),l=p,f=m,e.quadraticCurveTo(p+n,m+i,s+n,u+i),h=u,p=(d=s)+o[1],m=h+o[2];break;case"T":s=o[1],u=o[2],p=2*d-p,m=2*h-m,e.quadraticCurveTo(p+n,m+i,s+n,u+i),d=s,h=u;break;case"a":J(e,d+n,h+i,[o[1],o[2],o[3],o[4],o[5],o[6]+d+n,o[7]+h+i]),d+=o[6],h+=o[7];break;case"A":J(e,d+n,h+i,[o[1],o[2],o[3],o[4],o[5],o[6]+n,o[7]+i]),d=o[6],h=o[7];break;case"z":case"Z":e.closePath()}c=o}}function J(e,t,n,i){const r=function(e,t,n,i,r,a,o,s,u){const l=I.call(arguments);if(U[l])return U[l];const f=o*j,c=Math.sin(f),d=Math.cos(f),h=d*(s-e)*.5+c*(u-t)*.5,p=d*(u-t)*.5-c*(s-e)*.5;let m=h*h/((n=Math.abs(n))*n)+p*p/((i=Math.abs(i))*i);m>1&&(m=Math.sqrt(m),n*=m,i*=m);const g=d/n,y=c/n,b=-c/i,v=d/i,x=g*s+y*u,_=b*s+v*u,w=g*e+y*t,A=b*e+v*t;let k=1/((w-x)*(w-x)+(A-_)*(A-_))-.25;k<0&&(k=0);let O=Math.sqrt(k);a==r&&(O=-O);const D=.5*(x+w)-O*(A-_),E=.5*(_+A)+O*(w-x),F=Math.atan2(_-E,x-D);let $=Math.atan2(A-E,w-D)-F;$<0&&1===a?$+=q:$>0&&0===a&&($-=q);const C=Math.ceil(Math.abs($/(z+.001))),M=[];for(let e=0;e<C;++e){const t=F+e*$/C,r=F+(e+1)*$/C;M[e]=[D,E,t,r,n,i,c,d]}return U[l]=M}(i[5],i[6],i[0],i[1],i[3],i[4],i[2],t,n);for(let t=0;t<r.length;++t){const n=W(r[t]);e.bezierCurveTo(n[0],n[1],n[2],n[3],n[4],n[5])}}const Y=.5773502691896257,G={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,q)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/2.5;e.moveTo(-n,-i),e.lineTo(-n,i),e.lineTo(-i,i),e.lineTo(-i,n),e.lineTo(i,n),e.lineTo(i,i),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(i,-i),e.lineTo(i,-n),e.lineTo(-i,-n),e.lineTo(-i,-i),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),i=-n/2;e.rect(i,i,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,i=n/7,r=n/2.5,a=n/8;e.moveTo(-i,n),e.lineTo(i,n),e.lineTo(i,-a),e.lineTo(r,-a),e.lineTo(0,-n),e.lineTo(-r,-a),e.lineTo(-i,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n,r=i-n*Y,a=n/4;e.moveTo(0,-i-r),e.lineTo(-a,i-r),e.lineTo(a,i-r),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n,r=i-n*Y;e.moveTo(0,-i-r),e.lineTo(-n,i-r),e.lineTo(n,i-r),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n;e.moveTo(0,-i),e.lineTo(-n,i),e.lineTo(n,i),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n;e.moveTo(0,i),e.lineTo(-n,-i),e.lineTo(n,-i),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n;e.moveTo(i,0),e.lineTo(-i,-n),e.lineTo(-i,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,i=N*n;e.moveTo(-i,0),e.lineTo(i,-n),e.lineTo(i,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};var K={};const Q=.448084975506;function ee(e){return e.x}function te(e){return e.y}function ne(e){return e.width}function ie(e){return e.height}function re(e){return"function"==typeof e?e:()=>+e}function ae(e,t,n){return Math.max(t,Math.min(e,n))}function oe(e,t){return null!=e?e:t}const se=e=>e.x||0,ue=e=>e.y||0,le=e=>!(!1===e.defined),fe=(0,v.Z)().startAngle((e=>e.startAngle||0)).endAngle((e=>e.endAngle||0)).padAngle((e=>e.padAngle||0)).innerRadius((e=>e.innerRadius||0)).outerRadius((e=>e.outerRadius||0)).cornerRadius((e=>e.cornerRadius||0)),ce=(0,x.Z)().x(se).y1(ue).y0((e=>(e.y||0)+(e.height||0))).defined(le),de=(0,x.Z)().y(ue).x1(se).x0((e=>(e.x||0)+(e.width||0))).defined(le),he=(0,_.Z)().x(se).y(ue).defined(le),pe=function(){var e=ee,t=te,n=ne,i=ie,r=re(0),a=r,o=r,s=r,u=null;function l(l,f,c){var d,h=null!=f?f:+e.call(this,l),p=null!=c?c:+t.call(this,l),m=+n.call(this,l),g=+i.call(this,l),y=Math.min(m,g)/2,b=ae(+r.call(this,l),0,y),v=ae(+a.call(this,l),0,y),x=ae(+o.call(this,l),0,y),_=ae(+s.call(this,l),0,y);if(u||(u=d=(0,A.Z)()),b<=0&&v<=0&&x<=0&&_<=0)u.rect(h,p,m,g);else{var w=h+m,k=p+g;u.moveTo(h+b,p),u.lineTo(w-v,p),u.bezierCurveTo(w-Q*v,p,w,p+Q*v,w,p+v),u.lineTo(w,k-_),u.bezierCurveTo(w,k-Q*_,w-Q*_,k,w-_,k),u.lineTo(h+x,k),u.bezierCurveTo(h+Q*x,k,h,k-Q*x,h,k-x),u.lineTo(h,p+b),u.bezierCurveTo(h,p+Q*b,h+Q*b,p,h+b,p),u.closePath()}if(d)return u=null,d+""||null}return l.x=function(t){return arguments.length?(e=re(t),l):e},l.y=function(e){return arguments.length?(t=re(e),l):t},l.width=function(e){return arguments.length?(n=re(e),l):n},l.height=function(e){return arguments.length?(i=re(e),l):i},l.cornerRadius=function(e,t,n,i){return arguments.length?(r=re(e),a=null!=t?re(t):r,s=null!=n?re(n):r,o=null!=i?re(i):a,l):r},l.context=function(e){return arguments.length?(u=null==e?null:e,l):u},l}().x(se).y(ue).width((e=>e.width||0)).height((e=>e.height||0)).cornerRadius((e=>oe(e.cornerRadiusTopLeft,e.cornerRadius)||0),(e=>oe(e.cornerRadiusTopRight,e.cornerRadius)||0),(e=>oe(e.cornerRadiusBottomRight,e.cornerRadius)||0),(e=>oe(e.cornerRadiusBottomLeft,e.cornerRadius)||0)),me=(0,w.Z)().type((e=>{return t=e.shape||"circle",(0,i.nr)(G,t)?G[t]:function(e){if(!(0,i.nr)(K,e)){const t=P(e);K[e]={draw:function(e,n){H(e,t,0,0,Math.sqrt(n)/2)}}}return K[e]}(t);var t})).size((e=>oe(e.size,64))),ge=function(){var e,t,n,i,r,a,o,s,u=null;function l(e,t,n){const i=n/2;if(r){var l=o-t,f=e-a;if(l||f){var c=Math.sqrt(l*l+f*f),d=(l/=c)*s,h=(f/=c)*s,p=Math.atan2(f,l);u.moveTo(a-d,o-h),u.lineTo(e-l*i,t-f*i),u.arc(e,t,i,p-Math.PI,p),u.lineTo(a+d,o+h),u.arc(a,o,s,p,p+Math.PI)}else u.arc(e,t,i,0,q);u.closePath()}else r=1;a=e,o=t,s=i}function f(a){var o,s,f,c=a.length,d=!1;for(null==u&&(u=f=(0,A.Z)()),o=0;o<=c;++o)!(o<c&&i(s=a[o],o,a))===d&&(d=!d)&&(r=0),d&&l(+e(s,o,a),+t(s,o,a),+n(s,o,a));if(f)return u=null,f+""||null}return f.x=function(t){return arguments.length?(e=t,f):e},f.y=function(e){return arguments.length?(t=e,f):t},f.size=function(e){return arguments.length?(n=e,f):n},f.defined=function(e){return arguments.length?(i=e,f):i},f.context=function(e){return arguments.length?(u=null==e?null:e,f):u},f}().x(se).y(ue).defined(le).size((e=>e.size||1));function ye(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function be(e,t,n,i){return pe.context(e)(t,n,i)}var ve=1;function xe(e,t,n){var r=t.clip,a=e._defs,o=t.clip_id||(t.clip_id="clip"+ve++),s=a.clipping[o]||(a.clipping[o]={id:o});return(0,i.mf)(r)?s.path=r(null):ye(n)?s.path=be(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function _e(e){this.clear(),e&&this.union(e)}function we(e){this.mark=e,this.bounds=this.bounds||new _e}function Ae(e){we.call(this,e),this.items=this.items||[]}function ke(e){this._pending=0,this._loader=e||(0,O._m)()}function Oe(e){e._pending+=1}function De(e){e._pending-=1}function Ee(e,t,n){if(t.stroke&&0!==t.opacity&&0!==t.strokeOpacity){const i=null!=t.strokeWidth?+t.strokeWidth:1;e.expand(i+(n?function(e,t){return e.strokeJoin&&"miter"!==e.strokeJoin?0:t}(t,i):0))}return e}_e.prototype={clone(){return new _e(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,i){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),i<t?(this.y2=t,this.y1=i):(this.y1=t,this.y2=i),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const i=this.rotatedPoints(e,t,n);return this.clear().add(i[0],i[1]).add(i[2],i[3]).add(i[4],i[5]).add(i[6],i[7])},rotatedPoints(e,t,n){var{x1:i,y1:r,x2:a,y2:o}=this,s=Math.cos(e),u=Math.sin(e),l=t-t*s+n*u,f=n-t*u-n*s;return[s*i-u*r+l,u*i+s*r+f,s*i-u*o+l,u*i+s*o+f,s*a-u*r+l,u*a+s*r+f,s*a-u*o+l,u*a+s*o+f]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}},(0,i.XW)(Ae,we),ke.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return Oe(t),t._loader.sanitize(e,{context:"href"}).then((e=>(De(t),e))).catch((()=>(De(t),null)))},loadImage(e){const t=this,n=(0,k.K)();return Oe(t),t._loader.sanitize(e,{context:"image"}).then((e=>{const r=e.href;if(!r||!n)throw{url:r};const a=new n,o=(0,i.nr)(e,"crossOrigin")?e.crossOrigin:"anonymous";return null!=o&&(a.crossOrigin=o),a.onload=()=>De(t),a.onerror=()=>De(t),a.src=r,a})).catch((e=>(De(t),{complete:!1,width:0,height:0,src:e&&e.url||""})))},ready(){const e=this;return new Promise((t=>{!function n(i){e.pending()?setTimeout((()=>{n(!0)}),10):t(i)}(!1)}))}};const Fe=q-1e-8;let $e,Ce,Me,Re,Se,Be,Ze,Te;const Pe=(e,t)=>$e.add(e,t),je=(e,t)=>Pe(Ce=e,Me=t),ze=e=>Pe(e,$e.y1),qe=e=>Pe($e.x1,e),Ne=(e,t)=>Se*e+Ze*t,Ue=(e,t)=>Be*e+Te*t,Le=(e,t)=>Pe(Ne(e,t),Ue(e,t)),Ie=(e,t)=>je(Ne(e,t),Ue(e,t));function We(e,t){return $e=e,t?(Re=t*j,Se=Te=Math.cos(Re),Be=Math.sin(Re),Ze=-Be):(Se=Te=1,Re=Be=Ze=0),Xe}const Xe={beginPath(){},closePath(){},moveTo:Ie,lineTo:Ie,rect(e,t,n,i){Re?(Le(e+n,t),Le(e+n,t+i),Le(e,t+i),Ie(e,t)):(Pe(e+n,t+i),je(e,t))},quadraticCurveTo(e,t,n,i){const r=Ne(e,t),a=Ue(e,t),o=Ne(n,i),s=Ue(n,i);Ve(Ce,r,o,ze),Ve(Me,a,s,qe),je(o,s)},bezierCurveTo(e,t,n,i,r,a){const o=Ne(e,t),s=Ue(e,t),u=Ne(n,i),l=Ue(n,i),f=Ne(r,a),c=Ue(r,a);He(Ce,o,u,f,ze),He(Me,s,l,c,qe),je(f,c)},arc(e,t,n,i,r,a){if(i+=Re,r+=Re,Ce=n*Math.cos(r)+e,Me=n*Math.sin(r)+t,Math.abs(r-i)>Fe)Pe(e-n,t-n),Pe(e+n,t+n);else{const o=i=>Pe(n*Math.cos(i)+e,n*Math.sin(i)+t);let s,u;if(o(i),o(r),r!==i)if((i%=q)<0&&(i+=q),(r%=q)<0&&(r+=q),r<i&&(a=!a,s=i,i=r,r=s),a)for(r-=q,s=i-i%z,u=0;u<4&&s>r;++u,s-=z)o(s);else for(s=i-i%z+z,u=0;u<4&&s<r;++u,s+=z)o(s)}}};function Ve(e,t,n,i){const r=(e-t)/(e+n-2*t);0<r&&r<1&&i(e+(t-e)*r)}function He(e,t,n,i,r){const a=i-e+3*t-3*n,o=e+n-2*t,s=e-t;let u,l=0,f=0;Math.abs(a)>1e-14?(u=o*o+s*a,u>=0&&(u=Math.sqrt(u),l=(-o+u)/a,f=(-o-u)/a)):l=.5*s/o,0<l&&l<1&&r(Je(l,e,t,n,i)),0<f&&f<1&&r(Je(f,e,t,n,i))}function Je(e,t,n,i,r){const a=1-e,o=a*a,s=e*e;return o*a*t+3*o*e*n+3*a*s*i+s*e*r}var Ye=(Ye=(0,k.v)(1,1))?Ye.getContext("2d"):null;const Ge=new _e;function Ke(e){return function(t,n){if(!Ye)return!0;e(Ye,t),Ge.clear().union(t.bounds).intersect(n).round();const{x1:i,y1:r,x2:a,y2:o}=Ge;for(let e=r;e<=o;++e)for(let t=i;t<=a;++t)if(Ye.isPointInPath(t,e))return!0;return!1}}function Qe(e,t){return t.contains(e.x||0,e.y||0)}function et(e,t){const n=e.x||0,i=e.y||0,r=e.width||0,a=e.height||0;return t.intersects(Ge.set(n,i,n+r,i+a))}function tt(e,t,n,i,r){const{x1:a,y1:o,x2:s,y2:u}=e,l=i-t,f=r-n;let c,d,h,p,m=0,g=1;for(p=0;p<4;++p){if(0===p&&(c=-l,d=-(a-t)),1===p&&(c=l,d=s-t),2===p&&(c=-f,d=-(o-n)),3===p&&(c=f,d=u-n),Math.abs(c)<1e-10&&d<0)return!1;if(h=d/c,c<0){if(h>g)return!1;h>m&&(m=h)}else if(c>0){if(h<m)return!1;h<g&&(g=h)}}return!0}function nt(e,t){e.globalCompositeOperation=t.blend||"source-over"}function it(e,t){return null==e?t:e}function rt(e,t){const n=t.length;for(let i=0;i<n;++i)e.addColorStop(t[i].offset,t[i].color);return e}function at(e,t,n){const i=n.width(),r=n.height();let a;if("radial"===t.gradient)a=e.createRadialGradient(n.x1+it(t.x1,.5)*i,n.y1+it(t.y1,.5)*r,Math.max(i,r)*it(t.r1,0),n.x1+it(t.x2,.5)*i,n.y1+it(t.y2,.5)*r,Math.max(i,r)*it(t.r2,.5));else{const o=it(t.x1,0),s=it(t.y1,0),u=it(t.x2,1),l=it(t.y2,0);if(o!==u&&s!==l&&i!==r){const n=(0,k.v)(Math.ceil(i),Math.ceil(r)),a=n.getContext("2d");return a.scale(i,r),a.fillStyle=rt(a.createLinearGradient(o,s,u,l),t.stops),a.fillRect(0,0,i,r),e.createPattern(n,"no-repeat")}a=e.createLinearGradient(n.x1+o*i,n.y1+s*r,n.x1+u*i,n.y1+l*r)}return rt(a,t.stops)}function ot(e,t,n){return $(n)?at(e,n,t.bounds):n}function st(e,t,n){return(n*=null==t.fillOpacity?1:t.fillOpacity)>0&&(e.globalAlpha=n,e.fillStyle=ot(e,t,t.fill),!0)}var ut=[];function lt(e,t,n){var i=null!=(i=t.strokeWidth)?i:1;return!(i<=0)&&(n*=null==t.strokeOpacity?1:t.strokeOpacity)>0&&(e.globalAlpha=n,e.strokeStyle=ot(e,t,t.stroke),e.lineWidth=i,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||ut),e.lineDashOffset=t.strokeDashOffset||0),!0)}function ft(e,t){return e.zindex-t.zindex||e.index-t.index}function ct(e){if(!e.zdirty)return e.zitems;var t,n,i,r=e.items,a=[];for(n=0,i=r.length;n<i;++n)(t=r[n]).index=n,t.zindex&&a.push(t);return e.zdirty=!1,e.zitems=a.sort(ft)}function dt(e,t){var n,i,r=e.items;if(!r||!r.length)return;const a=ct(e);if(a&&a.length){for(n=0,i=r.length;n<i;++n)r[n].zindex||t(r[n]);r=a}for(n=0,i=r.length;n<i;++n)t(r[n])}function ht(e,t){var n,i,r=e.items;if(!r||!r.length)return null;const a=ct(e);for(a&&a.length&&(r=a),i=r.length;--i>=0;)if(n=t(r[i]))return n;if(r===a)for(i=(r=e.items).length;--i>=0;)if(!r[i].zindex&&(n=t(r[i])))return n;return null}function pt(e){return function(t,n,i){dt(n,(n=>{i&&!i.intersects(n.bounds)||gt(e,t,n,n)}))}}function mt(e){return function(t,n,i){!n.items.length||i&&!i.intersects(n.bounds)||gt(e,t,n.items[0],n.items)}}function gt(e,t,n,i){var r=null==n.opacity?1:n.opacity;0!==r&&(e(t,i)||(nt(t,n),n.fill&&st(t,n,r)&&t.fill(),n.stroke&&lt(t,n,r)&&t.stroke()))}function yt(e){return e=e||i.yb,function(t,n,i,r,a,o){return i*=t.pixelRatio,r*=t.pixelRatio,ht(n,(n=>{const s=n.bounds;if((!s||s.contains(a,o))&&s)return e(t,n,i,r,a,o)?n:void 0}))}}function bt(e,t){return function(n,i,r,a){var o,s,u=Array.isArray(i)?i[0]:i,l=null==t?u.fill:t,f=u.stroke&&n.isPointInStroke;return f&&(o=u.strokeWidth,s=u.strokeCap,n.lineWidth=null!=o?o:1,n.lineCap=null!=s?s:"butt"),!e(n,i)&&(l&&n.isPointInPath(r,a)||f&&n.isPointInStroke(r,a))}}function vt(e){return yt(bt(e))}function xt(e,t){return"translate("+e+","+t+")"}function _t(e){return"rotate("+e+")"}function wt(e){return xt(e.x||0,e.y||0)}function At(e,t,n){function i(e,n){var i=n.x||0,r=n.y||0,a=n.angle||0;e.translate(i,r),a&&e.rotate(a*=j),e.beginPath(),t(e,n),a&&e.rotate(-a),e.translate(-i,-r)}return{type:e,tag:"path",nested:!1,attr:function(e,n){e("transform",function(e){return xt(e.x||0,e.y||0)+(e.angle?" "+_t(e.angle):"")}(n)),e("d",t(null,n))},bound:function(e,n){return t(We(e,n.angle),n),Ee(e,n).translate(n.x||0,n.y||0)},draw:pt(i),pick:vt(i),isect:n||Ke(i)}}var kt=At("arc",(function(e,t){return fe.context(e)(t)}));function Ot(e,t,n){function i(e,n){e.beginPath(),t(e,n)}const r=bt(i);return{type:e,tag:"path",nested:!0,attr:function(e,n){var i=n.mark.items;i.length&&e("d",t(null,i))},bound:function(e,n){var i=n.items;return 0===i.length?e:(t(We(e),i),Ee(e,i[0]))},draw:mt(i),pick:function(e,t,n,i,a,o){var s=t.items,u=t.bounds;return!s||!s.length||u&&!u.contains(a,o)?null:(n*=e.pixelRatio,i*=e.pixelRatio,r(e,s,n,i)?s[0]:null)},isect:Qe,tip:n}}var Dt=Ot("area",(function(e,t){const n=t[0],i=n.interpolate||"linear";return("horizontal"===n.orient?de:ce).curve(B(i,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,i,r="horizontal"===e[0].orient?t[1]:t[0],a="horizontal"===e[0].orient?"y":"x",o=e.length,s=1/0;--o>=0;)!1!==e[o].defined&&(i=Math.abs(e[o][a]-r))<s&&(s=i,n=e[o]);return n}));function Et(e,t){e.beginPath(),ye(t)?be(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Ft(e){const t=it(e.strokeWidth,1);return null!=e.strokeOffset?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function $t(e,t){const n=Ft(t);e("d",be(null,t,n,n))}function Ct(e,t,n,i){const r=Ft(t);e.beginPath(),be(e,t,(n||0)+r,(i||0)+r)}const Mt=bt(Ct),Rt=bt(Ct,!1),St=bt(Ct,!0);var Bt={type:"group",tag:"g",nested:!1,attr:function(e,t){e("transform",wt(t))},bound:function(e,t){if(!t.clip&&t.items){const n=t.items,i=n.length;for(let t=0;t<i;++t)e.union(n[t].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Ee(e,t),e.translate(t.x||0,t.y||0)},draw:function(e,t,n){dt(t,(t=>{const i=t.x||0,r=t.y||0,a=t.strokeForeground,o=null==t.opacity?1:t.opacity;(t.stroke||t.fill)&&o&&(Ct(e,t,i,r),nt(e,t),t.fill&&st(e,t,o)&&e.fill(),t.stroke&&!a&&lt(e,t,o)&&e.stroke()),e.save(),e.translate(i,r),t.clip&&Et(e,t),n&&n.translate(-i,-r),dt(t,(t=>{this.draw(e,t,n)})),n&&n.translate(i,r),e.restore(),a&&t.stroke&&o&&(Ct(e,t,i,r),nt(e,t),lt(e,t,o)&&e.stroke())}))},pick:function(e,t,n,i,r,a){if(t.bounds&&!t.bounds.contains(r,a)||!t.items)return null;const o=n*e.pixelRatio,s=i*e.pixelRatio;return ht(t,(u=>{let l,f,c;const d=u.bounds;if(d&&!d.contains(r,a))return;f=u.x||0,c=u.y||0;const h=f+(u.width||0),p=c+(u.height||0),m=u.clip;if(m&&(r<f||r>h||a<c||a>p))return;if(e.save(),e.translate(f,c),f=r-f,c=a-c,m&&ye(u)&&!St(e,u,o,s))return e.restore(),null;const g=u.strokeForeground,y=!1!==t.interactive;return y&&g&&u.stroke&&Rt(e,u,o,s)?(e.restore(),u):(l=ht(u,(e=>function(e,t,n){return(!1!==e.interactive||"group"===e.marktype)&&e.bounds&&e.bounds.contains(t,n)}(e,f,c)?this.pick(e,n,i,f,c):null)),!l&&y&&(u.fill||!g&&u.stroke)&&Mt(e,u,o,s)&&(l=u),e.restore(),l||null)}))},isect:et,content:function(e,t,n){e("clip-path",t.clip?xe(n,t,t):null)},background:function(e,t){e("class","background"),e("aria-hidden",!0),$t(e,t)},foreground:function(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?$t(e,t):e("d","")}},Zt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Tt(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then((t=>{e.image=t,e.image.url=e.url}))),n}function Pt(e,t){return null!=e.width?e.width:t&&t.width?!1!==e.aspect&&e.height?e.height*t.width/t.height:t.width:0}function jt(e,t){return null!=e.height?e.height:t&&t.height?!1!==e.aspect&&e.width?e.width*t.height/t.width:t.height:0}function zt(e,t){return"center"===e?t/2:"right"===e?t:0}function qt(e,t){return"middle"===e?t/2:"bottom"===e?t:0}var Nt={type:"image",tag:"image",nested:!1,attr:function(e,t,n){const i=Tt(t,n),r=Pt(t,i),a=jt(t,i),o=(t.x||0)-zt(t.align,r),s=(t.y||0)-qt(t.baseline,a);e("href",!i.src&&i.toDataURL?i.toDataURL():i.src||"",Zt["xmlns:xlink"],"xlink:href"),e("transform",xt(o,s)),e("width",r),e("height",a),e("preserveAspectRatio",!1===t.aspect?"none":"xMidYMid")},bound:function(e,t){const n=t.image,i=Pt(t,n),r=jt(t,n),a=(t.x||0)-zt(t.align,i),o=(t.y||0)-qt(t.baseline,r);return e.set(a,o,a+i,o+r)},draw:function(e,t,n){dt(t,(t=>{if(n&&!n.intersects(t.bounds))return;const i=Tt(t,this);let r=Pt(t,i),a=jt(t,i);if(0===r||0===a)return;let o,s,u,l,f=(t.x||0)-zt(t.align,r),c=(t.y||0)-qt(t.baseline,a);!1!==t.aspect&&(s=i.width/i.height,u=t.width/t.height,s==s&&u==u&&s!==u&&(u<s?(l=r/s,c+=(a-l)/2,a=l):(l=a*s,f+=(r-l)/2,r=l))),(i.complete||i.toDataURL)&&(nt(e,t),e.globalAlpha=null!=(o=t.opacity)?o:1,e.imageSmoothingEnabled=!1!==t.smooth,e.drawImage(i,f,c,r,a))}))},pick:yt(),isect:i.yb,get:Tt,xOffset:zt,yOffset:qt},Ut=Ot("line",(function(e,t){const n=t[0],i=n.interpolate||"linear";return he.curve(B(i,n.orient,n.tension)).context(e)(t)}),(function(e,t){for(var n,i,r=Math.pow(e[0].strokeWidth||1,2),a=e.length;--a>=0;)if(!1!==e[a].defined&&(n=e[a].x-t[0])*n+(i=e[a].y-t[1])*i<r)return e[a];return null}));function Lt(e,t){var n=t.path;if(null==n)return!0;var i=t.x||0,r=t.y||0,a=t.scaleX||1,o=t.scaleY||1,s=(t.angle||0)*j,u=t.pathCache;u&&u.path===n||((t.pathCache=u=P(n)).path=n),s&&e.rotate&&e.translate?(e.translate(i,r),e.rotate(s),H(e,u,0,0,a,o),e.rotate(-s),e.translate(-i,-r)):H(e,u,i,r,a,o)}var It={type:"path",tag:"path",nested:!1,attr:function(e,t){var n=t.scaleX||1,i=t.scaleY||1;1===n&&1===i||e("vector-effect","non-scaling-stroke"),e("transform",function(e){return xt(e.x||0,e.y||0)+(e.angle?" "+_t(e.angle):"")+(e.scaleX||e.scaleY?" "+("scale("+(e.scaleX||1)+","+(e.scaleY||1)+")"):"")}(t)),e("d",t.path)},bound:function(e,t){return Lt(We(e,t.angle),t)?e.set(0,0,0,0):Ee(e,t,!0)},draw:pt(Lt),pick:vt(Lt),isect:Ke(Lt)};function Wt(e,t){e.beginPath(),be(e,t)}var Xt={type:"rect",tag:"path",nested:!1,attr:function(e,t){e("d",be(null,t))},bound:function(e,t){var n,i;return Ee(e.set(n=t.x||0,i=t.y||0,n+t.width||0,i+t.height||0),t)},draw:pt(Wt),pick:vt(Wt),isect:et};function Vt(e,t,n){var i,r,a,o;return!(!t.stroke||!lt(e,t,n)||(i=t.x||0,r=t.y||0,a=null!=t.x2?t.x2:i,o=null!=t.y2?t.y2:r,e.beginPath(),e.moveTo(i,r),e.lineTo(a,o),0))}var Ht={type:"rule",tag:"line",nested:!1,attr:function(e,t){e("transform",wt(t)),e("x2",null!=t.x2?t.x2-(t.x||0):0),e("y2",null!=t.y2?t.y2-(t.y||0):0)},bound:function(e,t){var n,i;return Ee(e.set(n=t.x||0,i=t.y||0,null!=t.x2?t.x2:n,null!=t.y2?t.y2:i),t)},draw:function(e,t,n){dt(t,(t=>{if(!n||n.intersects(t.bounds)){var i=null==t.opacity?1:t.opacity;i&&Vt(e,t,i)&&(nt(e,t),e.stroke())}}))},pick:yt((function(e,t,n,i){return!!e.isPointInStroke&&Vt(e,t,1)&&e.isPointInStroke(n,i)})),isect:function(e,t){const n=e.x||0,i=e.y||0;return tt(t,n,i,null!=e.x2?e.x2:n,null!=e.y2?e.y2:i)}},Jt=At("shape",(function(e,t){return(t.mark.shape||t.shape).context(e)(t)})),Yt=At("symbol",(function(e,t){return me.context(e)(t)}),Qe);const Gt=(0,i.$m)();var Kt={height:an,measureWidth:nn,estimateWidth:en,width:en,canvas:Qt};function Qt(e){Kt.width=e&&Ye?nn:en}function en(e,t){return tn(ln(e,t),an(e))}function tn(e,t){return~~(.8*e.length*t)}function nn(e,t){return an(e)<=0||!(t=ln(e,t))?0:rn(t,cn(e))}function rn(e,t){const n=`(${t}) ${e}`;let i=Gt.get(n);return void 0===i&&(Ye.font=t,i=Ye.measureText(e).width,Gt.set(n,i)),i}function an(e){return null!=e.fontSize?+e.fontSize||0:11}function on(e){return null!=e.lineHeight?e.lineHeight:an(e)+2}function sn(e){return t=e.lineBreak&&e.text&&!(0,i.kJ)(e.text)?e.text.split(e.lineBreak):e.text,(0,i.kJ)(t)?t.length>1?t:t[0]:t;var t}function un(e){const t=sn(e);return((0,i.kJ)(t)?t.length-1:0)*on(e)}function ln(e,t){const n=null==t?"":(t+"").trim();return e.limit>0&&n.length?function(e,t){var n=+e.limit,i=function(e){if(Kt.width===nn){const t=cn(e);return e=>rn(e,t)}{const t=an(e);return e=>tn(e,t)}}(e);if(i(t)<n)return t;var r,a=e.ellipsis||"…",o="rtl"===e.dir,s=0,u=t.length;if(n-=i(a),o){for(;s<u;)r=s+u>>>1,i(t.slice(r))>n?s=r+1:u=r;return a+t.slice(s)}for(;s<u;)r=1+(s+u>>>1),i(t.slice(0,r))<n?s=r:u=r-1;return t.slice(0,s)+a}(e,n):n}function fn(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function cn(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+an(e)+"px "+fn(e,t)}function dn(e){var t=e.baseline,n=an(e);return Math.round("top"===t?.79*n:"middle"===t?.3*n:"bottom"===t?-.21*n:"line-top"===t?.29*n+.5*on(e):"line-bottom"===t?.29*n-.5*on(e):0)}Qt(!0);const hn={left:"start",center:"middle",right:"end"},pn=new _e;function mn(e){var t,n=e.x||0,i=e.y||0,r=e.radius||0;return r&&(t=(e.theta||0)-z,n+=r*Math.cos(t),i+=r*Math.sin(t)),pn.x1=n,pn.y1=i,pn}function gn(e,t,n){var r,a=Kt.height(t),o=t.align,s=mn(t),u=s.x1,l=s.y1,f=t.dx||0,c=(t.dy||0)+dn(t)-Math.round(.8*a),d=sn(t);if((0,i.kJ)(d)?(a+=on(t)*(d.length-1),r=d.reduce(((e,n)=>Math.max(e,Kt.width(t,n))),0)):r=Kt.width(t,d),"center"===o?f-=r/2:"right"===o&&(f-=r),e.set(f+=u,c+=l,f+r,c+a),t.angle&&!n)e.rotate(t.angle*j,u,l);else if(2===n)return e.rotatedPoints(t.angle*j,u,l);return e}var yn={type:"text",tag:"text",nested:!1,attr:function(e,t){var n,i=t.dx||0,r=(t.dy||0)+dn(t),a=mn(t),o=a.x1,s=a.y1,u=t.angle||0;e("text-anchor",hn[t.align]||"start"),u?(n=xt(o,s)+" "+_t(u),(i||r)&&(n+=" "+xt(i,r))):n=xt(o+i,s+r),e("transform",n)},bound:gn,draw:function(e,t,n){dt(t,(t=>{var r,a,o,s,u,l,f,c=null==t.opacity?1:t.opacity;if(!(n&&!n.intersects(t.bounds)||0===c||t.fontSize<=0||null==t.text||0===t.text.length)){if(e.font=cn(t),e.textAlign=t.align||"left",a=(r=mn(t)).x1,o=r.y1,t.angle&&(e.save(),e.translate(a,o),e.rotate(t.angle*j),a=o=0),a+=t.dx||0,o+=(t.dy||0)+dn(t),l=sn(t),nt(e,t),(0,i.kJ)(l))for(u=on(t),s=0;s<l.length;++s)f=ln(t,l[s]),t.fill&&st(e,t,c)&&e.fillText(f,a,o),t.stroke&&lt(e,t,c)&&e.strokeText(f,a,o),o+=u;else f=ln(t,l),t.fill&&st(e,t,c)&&e.fillText(f,a,o),t.stroke&&lt(e,t,c)&&e.strokeText(f,a,o);t.angle&&e.restore()}}))},pick:yt((function(e,t,n,i,r,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var o=mn(t),s=o.x1,u=o.y1,l=gn(pn,t,1),f=-t.angle*j,c=Math.cos(f),d=Math.sin(f),h=c*r-d*a+(s-c*s+d*u),p=d*r+c*a+(u-d*s-c*u);return l.contains(h,p)})),isect:function(e,t){const n=gn(pn,e,2);return tt(t,n[0],n[1],n[2],n[3])||tt(t,n[0],n[1],n[4],n[5])||tt(t,n[4],n[5],n[6],n[7])||tt(t,n[2],n[3],n[6],n[7])}},bn=Ot("trail",(function(e,t){return ge.context(e)(t)}),(function(e,t){for(var n,i,r=e.length;--r>=0;)if(!1!==e[r].defined&&(n=e[r].x-t[0])*n+(i=e[r].y-t[1])*i<(n=e[r].size||1)*n)return e[r];return null})),vn={arc:kt,area:Dt,group:Bt,image:Nt,line:Ut,path:It,rect:Xt,rule:Ht,shape:Jt,symbol:Yt,text:yn,trail:bn};function xn(e,t,n){var i=vn[e.mark.marktype],r=t||i.bound;return i.nested&&(e=e.mark),r(e.bounds||(e.bounds=new _e),e,n)}var _n={mark:null};const wn=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function An(e){return kn("string"==typeof e?JSON.parse(e):e)}function kn(e){var t,n,i,r=e.marktype,a=e.items;if(a)for(n=0,i=a.length;n<i;++n)t=r?"mark":"group",a[n][t]=e,a[n].zindex&&(a[n][t].zdirty=!0),"group"===(r||t)&&kn(a[n]);return r&&function(e,t,n){var i,r,a,o,s=vn[e.marktype],u=s.bound,l=e.items,f=l&&l.length;if(s.nested)return f?a=l[0]:(_n.mark=e,a=_n),o=xn(a,u,n),t&&t.union(o)||o;if(t=t||e.bounds&&e.bounds.clear()||new _e,f)for(i=0,r=l.length;i<r;++i)t.union(xn(l[i],u,n));e.bounds=t}(e),e}function On(e){arguments.length?this.root=An(e):(this.root=Dn({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Ae(this.root)])}function Dn(e,t){const n={bounds:new _e,clip:!!e.clip,group:t,interactive:!1!==e.interactive,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return null!=e.aria&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function En(e,t,n){return!e&&"undefined"!=typeof document&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Fn(e,t){t=t.toLowerCase();for(var n=e.childNodes,i=0,r=n.length;i<r;++i)if(n[i].tagName.toLowerCase()===t)return n[i]}function $n(e,t,n,i){var r,a=e.childNodes[t];return a&&a.tagName.toLowerCase()===n.toLowerCase()||(r=a||null,a=En(e.ownerDocument,n,i),e.insertBefore(a,r)),a}function Cn(e,t){for(var n=e.childNodes,i=n.length;i>t;)e.removeChild(n[--i]);return e}function Mn(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function Rn(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function Sn(e,t){this._active=null,this._handlers={},this._loader=e||(0,O._m)(),this._tooltip=t||Bn}function Bn(e,t,n,i){e.element().setAttribute("title",i||"")}function Zn(e){this._el=null,this._bgcolor=null,this._loader=new ke(e)}On.prototype={toJSON(e){return function(e,t){return JSON.stringify(e,wn,t)}(this.root,e||0)},mark(e,t,n){const i=Dn(e,t=t||this.root.items[0]);return t.items[n]=i,i.zindex&&(i.group.zdirty=!0),i}},Sn.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let i=e?e.length:0;--i>=0;)if(e[i].type===t&&(!n||e[i].handler===n))return i;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const e in t)n.push(...t[e]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then((t=>{const n=new MouseEvent(e.type,e),i=En(null,"a");for(const e in t)i.setAttribute(e,t[e]);i.dispatchEvent(n)})).catch((()=>{}))},handleTooltip(e,t,n){if(t&&null!=t.tooltip){t=function(e,t,n,i){var r,a,o=e&&e.mark;if(o&&(r=vn[o.marktype]).tip){for((a=Rn(t,n))[0]-=i[0],a[1]-=i[1];e=e.mark.group;)a[0]-=e.x||0,a[1]-=e.y||0;e=r.tip(o.items,a)}return e}(t,e,this.canvas(),this._origin);const i=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,i)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),i=this._origin,r=e.bounds,a=r.width(),o=r.height();let s=r.x1+i[0]+n.left,u=r.y1+i[1]+n.top;for(;e.mark&&(e=e.mark.group);)s+=e.x||0,u+=e.y||0;return{x:s,y:u,width:a,height:o,left:s,top:u,right:s+a,bottom:u+o}}},Zn.prototype={initialize(e,t,n,i,r){return this._el=e,this.resize(t,n,i,r)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return 0===arguments.length?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,i){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=i||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then((()=>t)):Promise.resolve(t)},_load(e,t){var n=this,i=n._loader[e](t);if(!n._ready){const e=n._call;n._ready=n._loader.ready().then((t=>{t&&e(),n._ready=null}))}return i},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const Tn="dragenter",Pn="dragleave",jn="dragover",zn="mousedown",qn="mousemove",Nn="mouseout",Un="mouseover",Ln="click",In="mousewheel",Wn="touchstart",Xn="touchmove",Vn="touchend",Hn=["keydown","keypress","keyup",Tn,Pn,jn,zn,"mouseup",qn,Nn,Un,Ln,"dblclick","wheel",In,Wn,Xn,Vn],Jn=qn,Yn=Nn,Gn=Ln;function Kn(e,t){Sn.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}function Qn(e,t){(e=>e===Wn||e===Xn||e===Vn?[Wn,Xn,Vn]:[e])(t).forEach((t=>function(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?n=>e[t](n):n=>e.fire(t,n)))}(e,t)))}function ei(e,t,n){return function(i){const r=this._active,a=this.pickEvent(i);a===r||(r&&r.exit||this.fire(n,i),this._active=a,this.fire(t,i)),this.fire(e,i)}}function ti(e){return function(t){this.fire(e,t),this._active=null}}(0,i.XW)(Kn,Sn,{initialize(e,t,n){return this._canvas=e&&Fn(e,"canvas"),[Ln,zn,qn,Nn,Pn].forEach((e=>Qn(this,e))),Sn.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:Hn,DOMMouseScroll(e){this.fire(In,e)},mousemove:ei(qn,Un,Nn),dragover:ei(jn,Tn,Pn),mouseout:ti(Nn),dragleave:ti(Pn),mousedown(e){this._down=this._active,this.fire(zn,e)},click(e){this._down===this._active&&(this.fire(Ln,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(Wn,e,!0)},touchmove(e){this.fire(Xn,e,!0)},touchend(e){this.fire(Vn,e,!0),this._touch=null},fire(e,t,n){const i=n?this._touch:this._active,r=this._handlers[e];if(t.vegaType=e,e===Gn&&i&&i.href?this.handleHref(t,i,i.href):e!==Jn&&e!==Yn||this.handleTooltip(t,i,e!==Yn),r)for(let e=0,n=r.length;e<n;++e)r[e].handler.call(this._obj,t,i)},on(e,t){const n=this.eventName(e),i=this._handlers;return this._handlerIndex(i[n],e,t)<0&&(Qn(this,e),(i[n]||(i[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),i=this._handlers[n],r=this._handlerIndex(i,e,t);return r>=0&&i.splice(r,1),this},pickEvent(e){const t=Rn(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,i,r){const a=this.context();return vn[e.marktype].pick.call(this,a,e,t,n,i,r)}});var ni="undefined"!=typeof window&&window.devicePixelRatio||1;function ii(e){Zn.call(this,e),this._options={},this._redraw=!1,this._dirty=new _e,this._tempb=new _e}const ri=Zn.prototype;function ai(e,t){Sn.call(this,e,t);const n=this;n._hrefHandler=oi(n,((e,t)=>{t&&t.href&&n.handleHref(e,t,t.href)})),n._tooltipHandler=oi(n,((e,t)=>{n.handleTooltip(e,t,e.type!==Yn)}))}(0,i.XW)(ii,Zn,{initialize(e,t,n,i,r,a){return this._options=a||{},this._canvas=this._options.externalContext?null:(0,k.v)(1,1,this._options.type),e&&this._canvas&&(Cn(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),ri.initialize.call(this,e,t,n,i,r)},resize(e,t,n,r){if(ri.resize.call(this,e,t,n,r),this._canvas)!function(e,t,n,i,r,a){const o="undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&null!=e.parentNode,s=e.getContext("2d"),u=o?ni:r;e.width=t*u,e.height=n*u;for(const e in a)s[e]=a[e];o&&1!==u&&(e.style.width=t+"px",e.style.height=n+"px"),s.pixelRatio=u,s.setTransform(u,0,0,u,u*i[0],u*i[1])}(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const e=this._options.externalContext;e||(0,i.vU)("CanvasRenderer is missing a valid canvas or context"),e.scale(this._scale,this._scale),e.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,i=this._width,r=this._height,a=this._dirty,o=(s=n,u=i,l=r,(new _e).set(0,0,u,l).translate(-s[0],-s[1]));var s,u,l;t.save();const f=this._redraw||a.empty()?(this._redraw=!1,o.expand(1)):function(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-n[0]%1,-n[1]%1),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}(t,o.intersect(a),n);return this.clear(-n[0],-n[1],i,r),this.draw(t,e,f),t.restore(),a.clear(),this},draw(e,t,n){const r=vn[t.marktype];t.clip&&function(e,t){var n=t.clip;e.save(),(0,i.mf)(n)?(e.beginPath(),n(e),e.clip()):Et(e,t.group)}(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,i){const r=this._options,a=this.context();"pdf"===r.type||r.externalContext||a.clearRect(e,t,n,i),null!=this._bgcolor&&(a.fillStyle=this._bgcolor,a.fillRect(e,t,n,i))}});const oi=(e,t)=>n=>{let i=n.target.__data__;i=Array.isArray(i)?i[0]:i,n.vegaType=n.type,t.call(e._obj,n,i)};(0,i.XW)(ai,Sn,{initialize(e,t,n){let i=this._svg;return i&&(i.removeEventListener(Gn,this._hrefHandler),i.removeEventListener(Jn,this._tooltipHandler),i.removeEventListener(Yn,this._tooltipHandler)),this._svg=i=e&&Fn(e,"svg"),i&&(i.addEventListener(Gn,this._hrefHandler),i.addEventListener(Jn,this._tooltipHandler),i.addEventListener(Yn,this._tooltipHandler)),Sn.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),i=this._handlers;if(this._handlerIndex(i[n],e,t)<0){const r={type:e,handler:t,listener:oi(this,t)};(i[n]||(i[n]=[])).push(r),this._svg&&this._svg.addEventListener(n,r.listener)}return this},off(e,t){const n=this.eventName(e),i=this._handlers[n],r=this._handlerIndex(i,e,t);return r>=0&&(this._svg&&this._svg.removeEventListener(n,i[r].listener),i.splice(r,1)),this}});const si="aria-hidden",ui="aria-label",li="role",fi="aria-roledescription",ci="graphics-object",di="graphics-symbol",hi=(e,t,n)=>({[li]:e,[fi]:t,[ui]:n||void 0}),pi=(0,i.Rg)(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),mi={axis:{desc:"axis",caption:function(e){const t=e.datum,n=e.orient,i=t.title?xi(e):null,r=e.context,a=r.scales[t.scale].value,o=r.dataflow.locale(),s=a.type;return("left"===n||"right"===n?"Y":"X")+"-axis"+(i?` titled '${i}'`:"")+` for a ${(0,D.lK)(s)?"discrete":s} scale`+` with ${(0,D.A_)(o,a,e)}`}},legend:{desc:"legend",caption:function(e){const t=e.datum,n=t.title?xi(e):null,r=`${t.type||""} legend`.trim(),a=t.scales,o=Object.keys(a),s=e.context,u=s.scales[a[o[0]]].value,l=s.dataflow.locale();return((f=r).length?f[0].toUpperCase()+f.slice(1):f)+(n?` titled '${n}'`:"")+` for ${function(e){return(e=e.map((e=>e+("fill"===e||"stroke"===e?" color":"")))).length<2?e[0]:e.slice(0,-1).join(", ")+" and "+(0,i.fj)(e)}(o)}`+` with ${(0,D.A_)(l,u,e)}`;var f}},"title-text":{desc:"title",caption:e=>`Title text '${vi(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${vi(e)}'`}},gi={ariaRole:li,ariaRoleDescription:fi,description:ui};function yi(e,t){const n=!1===t.aria;if(e(si,n||void 0),n||null==t.description)for(const t in gi)e(gi[t],void 0);else{const n=t.mark.marktype;e(ui,t.description),e(li,t.ariaRole||("group"===n?ci:di)),e(fi,t.ariaRoleDescription||`${n} mark`)}}function bi(e){return!1===e.aria?{[si]:!0}:pi[e.role]?null:mi[e.role]?function(e,t){try{const n=e.items[0],i=t.caption||(()=>"");return hi(t.role||di,t.desc,n.description||i(n))}catch(e){return null}}(e,mi[e.role]):function(e){const t=e.marktype,n="group"===t||"text"===t||e.items.some((e=>null!=e.description&&!1!==e.aria));return hi(n?ci:di,`${t} mark container`,e.description)}(e)}function vi(e){return(0,i.IX)(e.text).join(" ")}function xi(e){try{return(0,i.IX)((0,i.fj)(e.items).items[0].text).join(" ")}catch(e){return null}}const _i=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");function wi(){let e="",t="",n="";const i=[],r=()=>t=n="",a=(e,n)=>{var i;return null!=n&&(t+=` ${e}="${i=n,_i(i).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")}"`),o},o={open(s,...u){(a=>{t&&(e+=`${t}>${n}`,r()),i.push(a)})(s),t="<"+s;for(const e of u)for(const t in e)a(t,e[t]);return o},close(){const a=i.pop();return e+=t?t+(n?`>${n}</${a}>`:"/>"):`</${a}>`,r(),o},attr:a,text:e=>(n+=_i(e),o),toString:()=>e};return o}const Ai=e=>ki(wi(),e)+"";function ki(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,i=n.length;for(let t=0;t<i;++t)e.attr(n[t].name,n[t].value)}if(t.hasChildNodes()){const n=t.childNodes,i=n.length;for(let t=0;t<i;t++){const i=n[t];3===i.nodeType?e.text(i.nodeValue):ki(e,i)}}return e.close()}const Oi={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity",blend:"mix-blend-mode"},Di={fill:"none","stroke-miterlimit":10},Ei="http://www.w3.org/2000/xmlns/",Fi=Zt.xmlns;function $i(e){Zn.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const Ci=Zn.prototype;function Mi(e,t){for(;e&&e.dirty!==t;e=e.mark.group){if(e.dirty=t,!e.mark||e.mark.dirty===t)return;e.mark.dirty=t}}function Ri(e,t,n){let i,r,a;if("radial"===t.gradient){let i=$n(e,n++,"pattern",Fi);qi(i,{id:F+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),i=$n(i,0,"rect",Fi),qi(i,{width:1,height:1,fill:`url(${Ui()}#${t.id})`}),qi(e=$n(e,n++,"radialGradient",Fi),{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else qi(e=$n(e,n++,"linearGradient",Fi),{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(i=0,r=t.stops.length;i<r;++i)a=$n(e,i,"stop",Fi),a.setAttribute("offset",t.stops[i].offset),a.setAttribute("stop-color",t.stops[i].color);return Cn(e,i),n}function Si(e,t,n){let i;return(e=$n(e,n,"clipPath",Fi)).setAttribute("id",t.id),t.path?(i=$n(e,0,"path",Fi),i.setAttribute("d",t.path)):(i=$n(e,0,"rect",Fi),qi(i,{x:0,y:0,width:t.width,height:t.height})),Cn(e,1),n+1}function Bi(e,t,n,i,r){let a,o=e._svg;if(!o&&(a=t.ownerDocument,o=En(a,i,Fi),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},"g"===i))){const t=En(a,"path",Fi);o.appendChild(t),t.__data__=e;const n=En(a,"g",Fi);o.appendChild(n),n.__data__=e;const i=En(a,"path",Fi);o.appendChild(i),i.__data__=e,i.__values__={fill:"default"}}return(o.ownerSVGElement!==r||function(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}(0,i.XW)($i,Zn,{initialize(e,t,n,i,r){return this._defs={},this._clearDefs(),e&&(this._svg=$n(e,0,"svg",Fi),this._svg.setAttributeNS(Ei,"xmlns",Fi),this._svg.setAttributeNS(Ei,"xmlns:xlink",Zt["xmlns:xlink"]),this._svg.setAttribute("version",Zt.version),this._svg.setAttribute("class","marks"),Cn(e,1),this._root=$n(this._svg,0,"g",Fi),qi(this._root,Di),Cn(this._svg,1)),this.background(this._bgcolor),Ci.initialize.call(this,e,t,n,i,r)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),Ci.background.apply(this,arguments)},resize(e,t,n,i){return Ci.resize.call(this,e,t,n,i),this._svg&&(qi(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=$n(e,0,"rect",Fi),qi(n,{width:this._width,height:this._height,fill:t}));const i=Ai(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),i},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Cn(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,i,r,a,o,s,u;for(o=0,s=e.length;o<s;++o)n=e[o],i=n.mark,i.marktype!==r&&(r=i.marktype,a=vn[r]),i.zdirty&&i.dirty!==t&&(this._dirtyAll=!1,Mi(n,t),i.items.forEach((e=>{e.dirty=t}))),i.zdirty||(n.exit?(a.nested&&i.items.length?(u=i.items[0],u._svg&&this._update(a,u._svg,u)):n._svg&&(u=n._svg.parentNode,u&&u.removeChild(n._svg)),n._svg=null):(n=a.nested?i.items[0]:n,n._update!==t&&(n._svg&&n._svg.ownerSVGElement?this._update(a,n._svg,n):(this._dirtyAll=!1,Mi(n,t)),n._update=t)));return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const i=this._svg,r=vn[t.marktype],a=!1===t.interactive?"none":null,o="g"===r.tag;let s=null,u=0;const l=Bi(t,e,n,"g",i);l.setAttribute("class",Mn(t));const f=bi(t);for(const e in f)Ni(l,e,f[e]);o||Ni(l,"pointer-events",a),Ni(l,"clip-path",t.clip?xe(this,t,t.group):null);const c=e=>{const t=this.isDirty(e),n=Bi(e,l,s,r.tag,i);t&&(this._update(r,n,e),o&&function(e,t,n){t=t.lastChild.previousSibling;let i,r=0;dt(n,(n=>{i=e.mark(t,n,i),++r})),Cn(t,1+r)}(this,n,e)),s=n,++u};return r.nested?t.items.length&&c(t.items[0]):dt(t,c),Cn(l,u),l},_update(e,t,n){Zi=t,Ti=t.__values__,yi(ji,n),e.attr(ji,n,this);const i=Pi[e.type];i&&i.call(this,e,t,n),Zi&&this.style(Zi,n)},style(e,t){if(null!=t)for(const n in Oi){let i="font"===n?fn(t):t[n];if(i===Ti[n])continue;const r=Oi[n];null==i?e.removeAttribute(r):($(i)&&(i=C(i,this._defs.gradient,Ui())),e.setAttribute(r,i+"")),Ti[n]=i}},defs(){const e=this._svg,t=this._defs;let n=t.el,i=0;for(const r in t.gradient)n||(t.el=n=$n(e,1,"defs",Fi)),i=Ri(n,t.gradient[r],i);for(const r in t.clipping)n||(t.el=n=$n(e,1,"defs",Fi)),i=Si(n,t.clipping[r],i);n&&(0===i?(e.removeChild(n),t.el=null):Cn(n,i))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});let Zi=null,Ti=null;const Pi={group(e,t,n){const i=Zi=t.childNodes[2];Ti=i.__values__,e.foreground(ji,n,this),Ti=t.__values__,Zi=t.childNodes[1],e.content(ji,n,this);const r=Zi=t.childNodes[0];e.background(ji,n,this);const a=!1===n.mark.interactive?"none":null;if(a!==Ti.events&&(Ni(i,"pointer-events",a),Ni(r,"pointer-events",a),Ti.events=a),n.strokeForeground&&n.stroke){const e=n.fill;Ni(i,"display",null),this.style(r,n),Ni(r,"stroke",null),e&&(n.fill=null),Ti=i.__values__,this.style(i,n),e&&(n.fill=e),Zi=null}else Ni(i,"display","none")},image(e,t,n){!1===n.smooth?(zi(t,"image-rendering","optimizeSpeed"),zi(t,"image-rendering","pixelated")):zi(t,"image-rendering",null)},text(e,t,n){const r=sn(n);let a,o,s,u;(0,i.kJ)(r)?(o=r.map((e=>ln(n,e))),a=o.join("\n"),a!==Ti.text&&(Cn(t,0),s=t.ownerDocument,u=on(n),o.forEach(((e,i)=>{const r=En(s,"tspan",Fi);r.__data__=n,r.textContent=e,i&&(r.setAttribute("x",0),r.setAttribute("dy",u)),t.appendChild(r)})),Ti.text=a)):(o=ln(n,r),o!==Ti.text&&(t.textContent=o,Ti.text=o)),Ni(t,"font-family",fn(n)),Ni(t,"font-size",an(n)+"px"),Ni(t,"font-style",n.fontStyle),Ni(t,"font-variant",n.fontVariant),Ni(t,"font-weight",n.fontWeight)}};function ji(e,t,n){t!==Ti[e]&&(n?function(e,t,n,i){null!=n?e.setAttributeNS(i,t,n):e.removeAttributeNS(i,t)}(Zi,e,t,n):Ni(Zi,e,t),Ti[e]=t)}function zi(e,t,n){n!==Ti[t]&&(null==n?e.style.removeProperty(t):e.style.setProperty(t,n+""),Ti[t]=n)}function qi(e,t){for(const n in t)Ni(e,n,t[n])}function Ni(e,t,n){null!=n?e.setAttribute(t,n):e.removeAttribute(t)}function Ui(){let e;return"undefined"==typeof window?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function Li(e){Zn.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}(0,i.XW)(Li,Zn,{svg(){return this._text},_render(e){const t=wi();t.open("svg",(0,i.l7)({},Zt,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&"transparent"!==n&&"none"!==n&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",Di,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=vn[t.marktype],r=n.tag,a=[yi,n.attr];e.open("g",{class:Mn(t),"clip-path":t.clip?xe(this,t,t.group):null},bi(t),{"pointer-events":"g"!==r&&!1===t.interactive?"none":null});const o=o=>{const s=this.href(o);if(s&&e.open("a",s),e.open(r,this.attr(t,o,a,"g"!==r?r:null)),"text"===r){const t=sn(o);if((0,i.kJ)(t)){const n={x:0,dy:on(o)};for(let i=0;i<t.length;++i)e.open("tspan",i?n:null).text(ln(o,t[i])).close()}else e.text(ln(o,t))}else if("g"===r){const i=o.strokeForeground,r=o.fill,a=o.stroke;i&&a&&(o.stroke=null),e.open("path",this.attr(t,o,n.background,"bgrect")).close(),e.open("g",this.attr(t,o,n.content)),dt(o,(t=>this.mark(e,t))),e.close(),i&&a?(r&&(o.fill=null),o.stroke=a,e.open("path",this.attr(t,o,n.foreground,"bgrect")).close(),r&&(o.fill=r)):e.open("path",this.attr(t,o,n.foreground,"bgfore")).close()}e.close(),s&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):dt(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then((e=>{e["xlink:href"]=e.href,e.href=null,(this._hrefs||(this._hrefs={}))[t]=e}))}return null},attr(e,t,n,i){const r={},a=(e,t,n,i)=>{r[i||e]=t};return Array.isArray(n)?n.forEach((e=>e(a,t,this))):n(a,t,this),i&&function(e,t,n,i,r){if(null==t)return e;if("bgrect"===i&&!1===n.interactive&&(e["pointer-events"]="none"),"bgfore"===i&&(!1===n.interactive&&(e["pointer-events"]="none"),e.display="none",null!==t.fill))return e;"image"===i&&!1===t.smooth&&(e.style="image-rendering: optimizeSpeed; image-rendering: pixelated;"),"text"===i&&(e["font-family"]=fn(t),e["font-size"]=an(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const n in Oi){let i=t[n];const a=Oi[n];("transparent"!==i||"fill"!==a&&"stroke"!==a)&&null!=i&&($(i)&&(i=C(i,r.gradient,"")),e[a]=i)}}(r,t,e,i,this._defs),r},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(0!==Object.keys(t).length+Object.keys(n).length){e.open("defs");for(const n in t){const i=t[n],r=i.stops;"radial"===i.gradient?(e.open("pattern",{id:F+n,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+n+")"}).close(),e.close(),e.open("radialGradient",{id:n,fx:i.x1,fy:i.y1,fr:i.r1,cx:i.x2,cy:i.y2,r:i.r2})):e.open("linearGradient",{id:n,x1:i.x1,x2:i.x2,y1:i.y1,y2:i.y2});for(let t=0;t<r.length;++t)e.open("stop",{offset:r[t].offset,"stop-color":r[t].color}).close();e.close()}for(const t in n){const i=n[t];e.open("clipPath",{id:t}),i.path?e.open("path",{d:i.path}).close():e.open("rect",{x:0,y:0,width:i.width,height:i.height}).close(),e.close()}e.close()}}});const Ii={Canvas:"canvas",PNG:"png",SVG:"svg",None:"none"},Wi={};function Xi(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Wi[e]=t,this):Wi[e]}function Vi(e,t,n){const r=[],a=(new _e).union(t),o=e.marktype;return o?Hi(e,a,n,r):"group"===o?Ji(e,a,n,r):(0,i.vU)("Intersect scene must be mark node or group item.")}function Hi(e,t,n,i){if(function(e,t,n){return e.bounds&&t.intersects(e.bounds)&&("group"===e.marktype||!1!==e.interactive&&(!n||n(e)))}(e,t,n)){const r=e.items,a=e.marktype,o=r.length;let s=0;if("group"===a)for(;s<o;++s)Ji(r[s],t,n,i);else for(const e=vn[a].isect;s<o;++s){const n=r[s];Yi(n,t,e)&&i.push(n)}}return i}function Ji(e,t,n,i){n&&n(e.mark)&&Yi(e,t,vn.group.isect)&&i.push(e);const r=e.items,a=r&&r.length;if(a){const o=e.x||0,s=e.y||0;t.translate(-o,-s);for(let e=0;e<a;++e)Hi(r[e],t,n,i);t.translate(o,s)}return i}function Yi(e,t,n){const i=e.bounds;return t.encloses(i)||t.intersects(i)&&n(e,t)}Wi.canvas=Wi.png={renderer:ii,headless:ii,handler:Kn},Wi.svg={renderer:$i,headless:Li,handler:ai},Wi.none={};const Gi=new _e;function Ki(e){const t=e.clip;if((0,i.mf)(t))t(We(Gi.clear()));else{if(!t)return;Gi.set(0,0,e.group.width,e.group.height)}e.bounds.intersect(Gi)}},92589:(e,t,n)=>{"use strict";n.d(t,{U_:()=>f,Ly:()=>c,aF:()=>h,hz:()=>D,Nn:()=>x,rH:()=>R,Q3:()=>O,Dg:()=>v,ah:()=>M,Hk:()=>p,HA:()=>E,if:()=>_,At:()=>S,cW:()=>u,cF:()=>l,MX:()=>d,l0:()=>A,bw:()=>F,wz:()=>$,nG:()=>w,LG:()=>B,lI:()=>N,fw:()=>z,$S:()=>X,jE:()=>q,gS:()=>I,kp:()=>U,p9:()=>L,sR:()=>Y,K:()=>k,Tp:()=>b,nP:()=>C});var i=n(52650),r=n(16186),a=n(60616),o=n(83762);function*s(e,t){if(null==t)for(let t of e)null!=t&&""!==t&&(t=+t)>=t&&(yield t);else{let n=-1;for(let i of e)i=t(i,++n,e),null!=i&&""!==i&&(i=+i)>=i&&(yield i)}}function u(e,t,n){const a=Float64Array.from(s(e,n));return a.sort(i.Z),t.map((e=>(0,r.s)(a,e)))}function l(e,t){return u(e,[.25,.5,.75],t)}function f(e,t){const n=e.length,i=(0,a.Z)(e,t),r=l(e,t),o=(r[2]-r[0])/1.34;return 1.06*(Math.min(i,o)||i||Math.abs(r[0])||1)*Math.pow(n,-.2)}function c(e){const t=e.maxbins||20,n=e.base||10,i=Math.log(n),r=e.divide||[5,2];let a,o,s,u,l,f,c=e.extent[0],d=e.extent[1];const h=e.span||d-c||Math.abs(c)||1;if(e.step)a=e.step;else if(e.steps){for(u=h/t,l=0,f=e.steps.length;l<f&&e.steps[l]<u;++l);a=e.steps[Math.max(0,l-1)]}else{for(o=Math.ceil(Math.log(t)/i),s=e.minstep||0,a=Math.max(s,Math.pow(n,Math.round(Math.log(h)/i)-o));Math.ceil(h/a)>t;)a*=n;for(l=0,f=r.length;l<f;++l)u=a/r[l],u>=s&&h/u<=t&&(a=u)}u=Math.log(a);const p=u>=0?0:1+~~(-u/i),m=Math.pow(n,-p-1);return(e.nice||void 0===e.nice)&&(u=Math.floor(c/a+m)*a,c=c<u?u-a:u,d=Math.ceil(d/a)*a),{start:c,stop:d===c?c+a:d,step:a}}var d=Math.random;function h(e,t,n,a){if(!e.length)return[void 0,void 0];const o=Float64Array.from(s(e,a)),u=o.length,l=t;let f,c,h,p;for(h=0,p=Array(l);h<l;++h){for(f=0,c=0;c<u;++c)f+=o[~~(d()*u)];p[h]=f/u}return p.sort(i.Z),[(0,r.Z)(p,n/2),(0,r.Z)(p,1-n/2)]}function p(e,t,n,i){i=i||(e=>e);const r=e.length,a=new Float64Array(r);let o,s=0,u=1,l=i(e[0]),f=l,c=l+t;for(;u<r;++u){if(o=i(e[u]),o>=c){for(f=(l+f)/2;s<u;++s)a[s]=f;c=o+t,l=o}f=o}for(f=(l+f)/2;s<u;++s)a[s]=f;return n?function(e,t){const n=e.length;let i,r,a=0,o=1;for(;e[a]===e[o];)++o;for(;o<n;){for(i=o+1;e[o]===e[i];)++i;if(e[o]-e[o-1]<t){for(r=o+(a+i-o-o>>1);r<o;)e[r++]=e[o];for(;r>o;)e[r--]=e[a]}a=o,o=i}return e}(a,t+t/4):a}const m=Math.sqrt(2*Math.PI),g=Math.SQRT2;let y=NaN;function b(e,t){e=e||0,t=null==t?1:t;let n,i,r=0,a=0;if(y==y)r=y,y=NaN;else{do{r=2*d()-1,a=2*d()-1,n=r*r+a*a}while(0===n||n>1);i=Math.sqrt(-2*Math.log(n)/n),r*=i,y=a*i}return e+r*t}function v(e,t,n){const i=(e-(t||0))/(n=null==n?1:n);return Math.exp(-.5*i*i)/(n*m)}function x(e,t,n){const i=(e-(t=t||0))/(n=null==n?1:n),r=Math.abs(i);let a;if(r>37)a=0;else{const e=Math.exp(-r*r/2);let t;r<7.07106781186547?(t=.0352624965998911*r+.700383064443688,t=t*r+6.37396220353165,t=t*r+33.912866078383,t=t*r+112.079291497871,t=t*r+221.213596169931,t=t*r+220.206867912376,a=e*t,t=.0883883476483184*r+1.75566716318264,t=t*r+16.064177579207,t=t*r+86.7807322029461,t=t*r+296.564248779674,t=t*r+637.333633378831,t=t*r+793.826512519948,t=t*r+440.413735824752,a/=t):(t=r+.65,t=r+4/t,t=r+3/t,t=r+2/t,t=r+1/t,a=e/t/2.506628274631)}return i>0?1-a:a}function _(e,t,n){return e<0||e>1?NaN:(t||0)+(null==n?1:n)*g*function(e){let t,n=-Math.log((1-e)*(1+e));return n<6.25?(n-=3.125,t=-364441206401782e-35,t=t*n-16850591381820166e-35,t=128584807152564e-32+t*n,t=11157877678025181e-33+t*n,t=t*n-1333171662854621e-31,t=20972767875968562e-33+t*n,t=6637638134358324e-30+t*n,t=t*n-4054566272975207e-29,t=t*n-8151934197605472e-29,t=26335093153082323e-28+t*n,t=t*n-12975133253453532e-27,t=t*n-5415412054294628e-26,t=1.0512122733215323e-9+t*n,t=t*n-4.112633980346984e-9,t=t*n-2.9070369957882005e-8,t=4.2347877827932404e-7+t*n,t=t*n-13654692000834679e-22,t=t*n-13882523362786469e-21,t=.00018673420803405714+t*n,t=t*n-.000740702534166267,t=t*n-.006033670871430149,t=.24015818242558962+t*n,t=1.6536545626831027+t*n):n<16?(n=Math.sqrt(n)-3.25,t=2.2137376921775787e-9,t=9.075656193888539e-8+t*n,t=t*n-2.7517406297064545e-7,t=1.8239629214389228e-8+t*n,t=15027403968909828e-22+t*n,t=t*n-4013867526981546e-21,t=29234449089955446e-22+t*n,t=12475304481671779e-21+t*n,t=t*n-47318229009055734e-21,t=6828485145957318e-20+t*n,t=24031110387097894e-21+t*n,t=t*n-.0003550375203628475,t=.0009532893797373805+t*n,t=t*n-.0016882755560235047,t=.002491442096107851+t*n,t=t*n-.003751208507569241,t=.005370914553590064+t*n,t=1.0052589676941592+t*n,t=3.0838856104922208+t*n):Number.isFinite(n)?(n=Math.sqrt(n)-5,t=-27109920616438573e-27,t=t*n-2.555641816996525e-10,t=1.5076572693500548e-9+t*n,t=t*n-3.789465440126737e-9,t=7.61570120807834e-9+t*n,t=t*n-1.496002662714924e-8,t=2.914795345090108e-8+t*n,t=t*n-6.771199775845234e-8,t=2.2900482228026655e-7+t*n,t=t*n-9.9298272942317e-7,t=4526062597223154e-21+t*n,t=t*n-1968177810553167e-20,t=7599527703001776e-20+t*n,t=t*n-.00021503011930044477,t=t*n-.00013871931833623122,t=1.0103004648645344+t*n,t=4.849906401408584+t*n):t=1/0,t*e}(2*e-1)}function w(e,t){let n,i;const r={mean(e){return arguments.length?(n=e||0,r):n},stdev(e){return arguments.length?(i=null==e?1:e,r):i},sample:()=>b(n,i),pdf:e=>v(e,n,i),cdf:e=>x(e,n,i),icdf:e=>_(e,n,i)};return r.mean(e).stdev(t)}function A(e,t){const n=w();let i=0;const r={data(n){return arguments.length?(e=n,i=n?n.length:0,r.bandwidth(t)):e},bandwidth(n){return arguments.length?(!(t=n)&&e&&(t=f(e)),r):t},sample:()=>e[~~(d()*i)]+t*n.sample(),pdf(r){let a=0,o=0;for(;o<i;++o)a+=n.pdf((r-e[o])/t);return a/t/i},cdf(r){let a=0,o=0;for(;o<i;++o)a+=n.cdf((r-e[o])/t);return a/i},icdf(){throw Error("KDE icdf not supported.")}};return r.data(e)}function k(e,t){return e=e||0,t=null==t?1:t,Math.exp(e+b()*t)}function O(e,t,n){if(e<=0)return 0;t=t||0,n=null==n?1:n;const i=(Math.log(e)-t)/n;return Math.exp(-.5*i*i)/(n*m*e)}function D(e,t,n){return x(Math.log(e),t,n)}function E(e,t,n){return Math.exp(_(e,t,n))}function F(e,t){let n,i;const r={mean(e){return arguments.length?(n=e||0,r):n},stdev(e){return arguments.length?(i=null==e?1:e,r):i},sample:()=>k(n,i),pdf:e=>O(e,n,i),cdf:e=>D(e,n,i),icdf:e=>E(e,n,i)};return r.mean(e).stdev(t)}function $(e,t){let n,i=0;const r={weights(e){return arguments.length?(n=function(e){const t=[];let n,r=0;for(n=0;n<i;++n)r+=t[n]=null==e[n]?1:+e[n];for(n=0;n<i;++n)t[n]/=r;return t}(t=e||[]),r):t},distributions(n){return arguments.length?(n?(i=n.length,e=n):(i=0,e=[]),r.weights(t)):e},sample(){const t=d();let r=e[i-1],a=n[0],o=0;for(;o<i-1;a+=n[++o])if(t<a){r=e[o];break}return r.sample()},pdf(t){let r=0,a=0;for(;a<i;++a)r+=n[a]*e[a].pdf(t);return r},cdf(t){let r=0,a=0;for(;a<i;++a)r+=n[a]*e[a].cdf(t);return r},icdf(){throw Error("Mixture icdf not supported.")}};return r.distributions(e).weights(t)}function C(e,t){return null==t&&(t=null==e?1:e,e=0),e+(t-e)*d()}function M(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=t&&e<=n?1/(n-t):0}function R(e,t,n){return null==n&&(n=null==t?1:t,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function S(e,t,n){return null==n&&(n=null==t?1:t,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function B(e,t){let n,i;const r={min(e){return arguments.length?(n=e||0,r):n},max(e){return arguments.length?(i=null==e?1:e,r):i},sample:()=>C(n,i),pdf:e=>M(e,n,i),cdf:e=>R(e,n,i),icdf:e=>S(e,n,i)};return null==t&&(t=null==e?1:e,e=0),r.min(e).max(t)}function Z(e,t,n,i){const r=i-e*e,a=Math.abs(r)<1e-24?0:(n-e*t)/r;return[t-a*e,a]}function T(e,t,n,i){e=e.filter((e=>{let i=t(e),r=n(e);return null!=i&&(i=+i)>=i&&null!=r&&(r=+r)>=r})),i&&e.sort(((e,n)=>t(e)-t(n)));const r=e.length,a=new Float64Array(r),o=new Float64Array(r);let s,u,l,f=0,c=0,d=0;for(l of e)a[f]=s=+t(l),o[f]=u=+n(l),++f,c+=(s-c)/f,d+=(u-d)/f;for(f=0;f<r;++f)a[f]-=c,o[f]-=d;return[a,o,c,d]}function P(e,t,n,i){let r,a,o=-1;for(const s of e)r=t(s),a=n(s),null!=r&&(r=+r)>=r&&null!=a&&(a=+a)>=a&&i(r,a,++o)}function j(e,t,n,i,r){let a=0,o=0;return P(e,t,n,((e,t)=>{const n=t-r(e),s=t-i;a+=n*n,o+=s*s})),1-a/o}function z(e,t,n){let i=0,r=0,a=0,o=0,s=0;P(e,t,n,((e,t)=>{++s,i+=(e-i)/s,r+=(t-r)/s,a+=(e*t-a)/s,o+=(e*e-o)/s}));const u=Z(i,r,a,o),l=e=>u[0]+u[1]*e;return{coef:u,predict:l,rSquared:j(e,t,n,r,l)}}function q(e,t,n){let i=0,r=0,a=0,o=0,s=0;P(e,t,n,((e,t)=>{++s,e=Math.log(e),i+=(e-i)/s,r+=(t-r)/s,a+=(e*t-a)/s,o+=(e*e-o)/s}));const u=Z(i,r,a,o),l=e=>u[0]+u[1]*Math.log(e);return{coef:u,predict:l,rSquared:j(e,t,n,r,l)}}function N(e,t,n){const[i,r,a,o]=T(e,t,n);let s,u,l,f=0,c=0,d=0,h=0,p=0;P(e,t,n,((e,t)=>{s=i[p++],u=Math.log(t),l=s*t,f+=(t*u-f)/p,c+=(l-c)/p,d+=(l*u-d)/p,h+=(s*l-h)/p}));const[m,g]=Z(c/o,f/o,d/o,h/o),y=e=>Math.exp(m+g*(e-a));return{coef:[Math.exp(m-g*a),g],predict:y,rSquared:j(e,t,n,o,y)}}function U(e,t,n){let i=0,r=0,a=0,o=0,s=0,u=0;P(e,t,n,((e,t)=>{const n=Math.log(e),l=Math.log(t);++u,i+=(n-i)/u,r+=(l-r)/u,a+=(n*l-a)/u,o+=(n*n-o)/u,s+=(t-s)/u}));const l=Z(i,r,a,o),f=e=>l[0]*Math.pow(e,l[1]);return l[0]=Math.exp(l[0]),{coef:l,predict:f,rSquared:j(e,t,n,s,f)}}function L(e,t,n){const[i,r,a,o]=T(e,t,n),s=i.length;let u,l,f,c,d=0,h=0,p=0,m=0,g=0;for(u=0;u<s;)l=i[u],f=r[u++],c=l*l,d+=(c-d)/u,h+=(c*l-h)/u,p+=(c*c-p)/u,m+=(l*f-m)/u,g+=(c*f-g)/u;const y=p-d*d,b=d*y-h*h,v=(g*d-m*h)/b,x=(m*y-g*h)/b,_=-v*d,w=e=>v*(e-=a)*e+x*e+_+o;return{coef:[_-x*a+v*a*a+o,x-2*v*a,v],predict:w,rSquared:j(e,t,n,o,w)}}function I(e,t,n,i){if(1===i)return z(e,t,n);if(2===i)return L(e,t,n);const[r,a,o,s]=T(e,t,n),u=r.length,l=[],f=[],c=i+1;let d,h,p,m,g;for(d=0;d<c;++d){for(p=0,m=0;p<u;++p)m+=Math.pow(r[p],d)*a[p];for(l.push(m),g=new Float64Array(c),h=0;h<c;++h){for(p=0,m=0;p<u;++p)m+=Math.pow(r[p],d+h);g[h]=m}f.push(g)}f.push(l);const y=function(e){const t=e.length-1,n=[];let i,r,a,o,s;for(i=0;i<t;++i){for(o=i,r=i+1;r<t;++r)Math.abs(e[i][r])>Math.abs(e[i][o])&&(o=r);for(a=i;a<t+1;++a)s=e[a][i],e[a][i]=e[a][o],e[a][o]=s;for(r=i+1;r<t;++r)for(a=t;a>=i;a--)e[a][r]-=e[a][i]*e[i][r]/e[i][i]}for(r=t-1;r>=0;--r){for(s=0,a=r+1;a<t;++a)s+=e[a][r]*n[a];n[r]=(e[t][r]-s)/e[r][r]}return n}(f),b=e=>{e-=o;let t=s+y[0]+y[1]*e+y[2]*e*e;for(d=3;d<c;++d)t+=y[d]*Math.pow(e,d);return t};return{coef:W(c,y,-o,s),predict:b,rSquared:j(e,t,n,s,b)}}function W(e,t,n,i){const r=Array(e);let a,o,s,u;for(a=0;a<e;++a)r[a]=0;for(a=e-1;a>=0;--a)for(s=t[a],u=1,r[a]+=s,o=1;o<=a;++o)u*=(a+1-o)/o,r[a-o]+=s*Math.pow(n,o)*u;return r[0]+=i,r}function X(e,t,n,i){const[r,a,s,u]=T(e,t,n,!0),l=r.length,f=Math.max(2,~~(i*l)),c=new Float64Array(l),d=new Float64Array(l),h=new Float64Array(l).fill(1);for(let e=-1;++e<=2;){const t=[0,f-1];for(let e=0;e<l;++e){const n=r[e],i=t[0],o=t[1],s=n-r[i]>r[o]-n?i:o;let u=0,l=0,f=0,p=0,m=0;const g=1/Math.abs(r[s]-n||1);for(let e=i;e<=o;++e){const t=r[e],i=a[e],o=V(Math.abs(n-t)*g)*h[e],s=t*o;u+=o,l+=s,f+=i*o,p+=i*s,m+=t*s}const[y,b]=Z(l/u,f/u,p/u,m/u);c[e]=y+b*n,d[e]=Math.abs(a[e]-c[e]),H(r,e+1,t)}if(2===e)break;const n=(0,o.Z)(d);if(Math.abs(n)<1e-12)break;for(let e,t,i=0;i<l;++i)e=d[i]/(6*n),h[i]=e>=1?1e-12:(t=1-e*e)*t}return function(e,t,n,i){const r=e.length,a=[];let o,s=0,u=0,l=[];for(;s<r;++s)o=e[s]+n,l[0]===o?l[1]+=(t[s]-l[1])/++u:(u=0,l[1]+=i,l=[o,t[s]],a.push(l));return l[1]+=i,a}(r,c,s,u)}function V(e){return(e=1-e*e*e)*e*e}function H(e,t,n){const i=e[t];let r=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>r&&e[a]-i<=i-e[r];)n[0]=++r,n[1]=a,++a}const J=.5*Math.PI/180;function Y(e,t,n,i){n=n||25,i=Math.max(n,i||200);const r=t=>[t,e(t)],a=t[0],o=t[1],s=o-a,u=s/i,l=[r(a)],f=[];if(n===i){for(let e=1;e<i;++e)l.push(r(a+e/n*s));return l.push(r(o)),l}f.push(r(o));for(let e=n;--e>0;)f.push(r(a+e/n*s));let c=l[0],d=f[f.length-1];const h=1/s,p=function(e,t){let n=e,i=e;const r=t.length;for(let e=0;e<r;++e){const r=t[e][1];r<n&&(n=r),r>i&&(i=r)}return 1/(i-n)}(c[1],f);for(;d;){const e=r((c[0]+d[0])/2);e[0]-c[0]>=u&&G(c,e,d,h,p)>J?f.push(e):(c=d,l.push(d),f.pop()),d=f[f.length-1]}return l}function G(e,t,n,i,r){const a=Math.atan2(r*(n[1]-e[1]),i*(n[0]-e[0])),o=Math.atan2(r*(t[1]-e[1]),i*(t[0]-e[0]));return Math.abs(a-o)}},46283:(e,t,n)=>{"use strict";n.d(t,{Hu:()=>k,x4:()=>O,gd:()=>E,cw:()=>C,DZ:()=>F,vc:()=>w,PD:()=>_,kG:()=>$,LO:()=>M,ps:()=>A,oP:()=>x,y_:()=>j,pt:()=>Ae,BR:()=>ee,JZ:()=>oe,Vm:()=>le,uA:()=>de,iJ:()=>Z,FW:()=>S,pd:()=>ie,zr:()=>se,_M:()=>fe,MC:()=>he,zk:()=>I,aw:()=>W,g0:()=>z});var i=n(54374),r=n(38407),a=n(48409),o=n(73642),s=n(60480),u=n(35173),l=n(63769),f=n(88177),c=n(7097),d=n(55154),h=n(42947),p=n(77834),m=n(93210),g=n(33899),y=n(25841),b=n(85755),v=n(6380);const x="year",_="quarter",w="month",A="week",k="date",O="day",D="dayofyear",E="hours",F="minutes",$="seconds",C="milliseconds",M=[x,_,w,A,k,O,D,E,F,$,C],R=M.reduce(((e,t,n)=>(e[t]=1+n,e)),{});function S(e){const t=(0,i.IX)(e).slice(),n={};return t.length||(0,i.vU)("Missing time unit."),t.forEach((e=>{(0,i.nr)(R,e)?n[e]=1:(0,i.vU)("Invalid time unit: ".concat(e,"."))})),(n[A]||n[O]?1:0)+(n[_]||n[w]||n[k]?1:0)+(n.dayofyear?1:0)>1&&(0,i.vU)("Incompatible time units: ".concat(e)),t.sort(((e,t)=>R[e]-R[t])),t}const B={[x]:"%Y ",[_]:"Q%q ",[w]:"%b ",[k]:"%d ",[A]:"W%U ",[O]:"%a ",[D]:"%j ",[E]:"%H:00",[F]:"00:%M",[$]:":%S",[C]:".%L",["".concat(x,"-").concat(w)]:"%Y-%m ",["".concat(x,"-").concat(w,"-").concat(k)]:"%Y-%m-%d ",["".concat(E,"-").concat(F)]:"%H:%M"};function Z(e,t){const n=(0,i.l7)({},B,t),r=S(e),a=r.length;let o,s,u="",l=0;for(l=0;l<a;)for(o=r.length;o>l;--o)if(s=r.slice(l,o).join("-"),null!=n[s]){u+=n[s],l=o;break}return u.trim()}const T=new Date;function P(e){return T.setFullYear(e),T.setMonth(0),T.setDate(1),T.setHours(0,0,0,0),T}function j(e){return q(new Date(e))}function z(e){return N(new Date(e))}function q(e){return r.Z.count(P(e.getFullYear())-1,e)}function N(e){return a.OM.count(P(e.getFullYear())-1,e)}function U(e){return P(e).getDay()}function L(e,t,n,i,r,a,o){if(0<=e&&e<100){const s=new Date(-1,t,n,i,r,a,o);return s.setFullYear(e),s}return new Date(e,t,n,i,r,a,o)}function I(e){return X(new Date(e))}function W(e){return V(new Date(e))}function X(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return o.Z.count(t-1,e)}function V(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return s.Ox.count(t-1,e)}function H(e){return T.setTime(Date.UTC(e,0,1)),T.getUTCDay()}function J(e,t,n,i,r,a,o){if(0<=e&&e<100){const e=new Date(Date.UTC(-1,t,n,i,r,a,o));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(e,t,n,i,r,a,o))}function Y(e,t,n,r,a){const o=t||1,s=(0,i.fj)(e),u=(e,t,i)=>function(e,t,n,i){const r=n<=1?e:i?(t,r)=>i+n*Math.floor((e(t,r)-i)/n):(t,i)=>n*Math.floor(e(t,i)/n);return t?(e,n)=>t(r(e,n),n):r}(n[i=i||e],r[i],e===s&&o,t),l=new Date,f=(0,i.Rg)(e),c=f[x]?u(x):(0,i.a9)(2012),d=f[w]?u(w):f[_]?u(_):i.bM,h=f[A]&&f[O]?u(O,1,A+O):f[A]?u(A,1):f[O]?u(O,1):f[k]?u(k,1):f.dayofyear?u(D,1):i.kX,p=f[E]?u(E):i.bM,m=f[F]?u(F):i.bM,g=f[$]?u($):i.bM,y=f[C]?u(C):i.bM;return function(e){l.setTime(+e);const t=c(l);return a(t,d(l),h(l,t),p(l),m(l),g(l),y(l))}}function G(e,t,n){return t+7*e-(n+6)%7}const K={[x]:e=>e.getFullYear(),[_]:e=>Math.floor(e.getMonth()/3),[w]:e=>e.getMonth(),[k]:e=>e.getDate(),[E]:e=>e.getHours(),[F]:e=>e.getMinutes(),[$]:e=>e.getSeconds(),[C]:e=>e.getMilliseconds(),[D]:e=>q(e),[A]:e=>N(e),[A+O]:(e,t)=>G(N(e),e.getDay(),U(t)),[O]:(e,t)=>G(1,e.getDay(),U(t))},Q={[_]:e=>3*e,[A]:(e,t)=>G(e,0,U(t))};function ee(e,t){return Y(e,t||1,K,Q,L)}const te={[x]:e=>e.getUTCFullYear(),[_]:e=>Math.floor(e.getUTCMonth()/3),[w]:e=>e.getUTCMonth(),[k]:e=>e.getUTCDate(),[E]:e=>e.getUTCHours(),[F]:e=>e.getUTCMinutes(),[$]:e=>e.getUTCSeconds(),[C]:e=>e.getUTCMilliseconds(),[D]:e=>X(e),[A]:e=>V(e),[O]:(e,t)=>G(1,e.getUTCDay(),H(t)),[A+O]:(e,t)=>G(V(e),e.getUTCDay(),H(t))},ne={[_]:e=>3*e,[A]:(e,t)=>G(e,0,H(t))};function ie(e,t){return Y(e,t||1,te,ne,J)}const re={[x]:u.Z,[_]:l.Z.every(3),[w]:l.Z,[A]:a.OM,[k]:r.Z,[O]:r.Z,[D]:r.Z,[E]:f.Z,[F]:c.Z,[$]:d.Z,[C]:h.Z},ae={[x]:p.Z,[_]:m.Z.every(3),[w]:m.Z,[A]:s.Ox,[k]:o.Z,[O]:o.Z,[D]:o.Z,[E]:g.Z,[F]:y.Z,[$]:d.Z,[C]:h.Z};function oe(e){return re[e]}function se(e){return ae[e]}function ue(e,t,n){return e?e.offset(t,n):void 0}function le(e,t,n){return ue(oe(e),t,n)}function fe(e,t,n){return ue(se(e),t,n)}function ce(e,t,n,i){return e?e.range(t,n,i):void 0}function de(e,t,n,i){return ce(oe(e),t,n,i)}function he(e,t,n,i){return ce(se(e),t,n,i)}const pe=31536e6,me=[x,w,k,E,F,$,C],ge=me.slice(0,-1),ye=ge.slice(0,-1),be=ye.slice(0,-1),ve=be.slice(0,-1),xe=[x,w],_e=[x],we=[[ge,1,1e3],[ge,5,5e3],[ge,15,15e3],[ge,30,3e4],[ye,1,6e4],[ye,5,3e5],[ye,15,9e5],[ye,30,18e5],[be,1,36e5],[be,3,108e5],[be,6,216e5],[be,12,432e5],[ve,1,864e5],[[x,A],1,6048e5],[xe,1,2592e6],[xe,3,7776e6],[_e,1,pe]];function Ae(e){const t=e.extent,n=e.maxbins||40,r=Math.abs((0,i.yP)(t))/n;let a,o,s=(0,b.Z)((e=>e[2])).right(we,r);return s===we.length?(a=_e,o=(0,v.ly)(t[0]/pe,t[1]/pe,n)):s?(s=we[r/we[s-1][2]<we[s][2]/r?s-1:s],a=s[0],o=s[1]):(a=me,o=Math.max((0,v.ly)(t[0],t[1],n),1)),{units:a,step:o}}},95273:(e,t,n)=>{"use strict";n.r(t),n.d(t,{aggregate:()=>F,bin:()=>$,collect:()=>M,compare:()=>R,countpattern:()=>B,cross:()=>Z,density:()=>j,dotbin:()=>L,expression:()=>I,extent:()=>X,facet:()=>H,field:()=>J,filter:()=>G,flatten:()=>K,fold:()=>Q,formula:()=>ee,generate:()=>te,impute:()=>re,joinaggregate:()=>ae,kde:()=>oe,key:()=>se,load:()=>le,lookup:()=>ce,multiextent:()=>de,multivalues:()=>pe,params:()=>ge,pivot:()=>ye,prefacet:()=>be,project:()=>ve,proxy:()=>xe,quantile:()=>_e,relay:()=>we,sample:()=>Ae,sequence:()=>ke,sieve:()=>Oe,subflow:()=>V,timeunit:()=>De,tupleindex:()=>Fe,values:()=>$e,window:()=>Be});var i=n(54374),r=n(1015),a=n(92589),o=n(83762),s=n(10907),u=n(99418),l=n(50970),f=n(2467),c=n(85755),d=n(46283);function h(e){return e&&e.length?1===e.length?e[0]:(t=e,e=>{const n=t.length;let i=1,r=String(t[0](e));for(;i<n;++i)r+="|"+t[i](e);return r}):function(){return""};var t}function p(e,t,n){return n||e+(t?"_"+t:"")}const m=()=>{},g={init:m,add:m,rem:m,idx:0},y={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||void 0===e.min)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||void 0===e.max)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},b=Object.keys(y);function v(e,t){return y[e](t)}function x(e,t){return e.idx-t.idx}function _(){this.valid=0,this.missing=0,this._ops.forEach((e=>e.init(this)))}function w(e,t){null!=e&&""!==e?e==e&&(++this.valid,this._ops.forEach((n=>n.add(this,e,t)))):++this.missing}function A(e,t){null!=e&&""!==e?e==e&&(--this.valid,this._ops.forEach((n=>n.rem(this,e,t)))):--this.missing}function k(e){return this._out.forEach((t=>e[t.out]=t.value(this))),e}function O(e,t){const n=t||i.yR,r=function(e){const t={};e.forEach((e=>t[e.name]=e));const n=e=>{e.req&&e.req.forEach((e=>{t[e]||n(t[e]=y[e]())}))};return e.forEach(n),Object.values(t).sort(x)}(e),a=e.slice().sort(x);function o(e){this._ops=r,this._out=a,this.cell=e,this.init()}return o.prototype.init=_,o.prototype.add=w,o.prototype.rem=A,o.prototype.set=k,o.prototype.get=n,o.fields=e.map((e=>e.out)),o}function D(e){this._key=e?(0,i.EP)(e):r.ai,this.reset()}b.forEach((e=>{y[e]=function(e,t){return n=>(0,i.l7)({name:e,out:n||e},g,t)}(e,y[e])}));const E=D.prototype;function F(e){r.wx.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}function $(e){r.wx.call(this,null,e)}function C(e,t,n){const r=e;let a=t||[],o=n||[],s={},u=0;return{add:e=>o.push(e),remove:e=>s[r(e)]=++u,size:()=>a.length,data:(e,t)=>(u&&(a=a.filter((e=>!s[r(e)])),s={},u=0),t&&e&&a.sort(e),o.length&&(a=e?(0,i.TS)(e,a,o.sort(e)):a.concat(o),o=[]),a)}}function M(e){r.wx.call(this,[],e)}function R(e){r.EF.call(this,null,S,e)}function S(e){return this.value&&!e.modified()?this.value:(0,i.qu)(e.fields,e.orders)}function B(e){r.wx.call(this,null,e)}function Z(e){r.wx.call(this,null,e)}E.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null},E.add=function(e){this._add.push(e)},E.rem=function(e){this._rem.push(e)},E.values=function(){if(this._get=null,0===this._rem.length)return this._add;const e=this._add,t=this._rem,n=this._key,i=e.length,r=t.length,a=Array(i-r),o={};let s,u,l;for(s=0;s<r;++s)o[n(t[s])]=1;for(s=0,u=0;s<i;++s)o[n(l=e[s])]?o[n(l)]=0:a[u++]=l;return this._rem=[],this._add=a},E.distinct=function(e){const t=this.values(),n={};let r,a=t.length,o=0;for(;--a>=0;)r=e(t[a])+"",(0,i.nr)(n,r)||(n[r]=1,++o);return o},E.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=(0,i.dI)(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext},E.argmin=function(e){return this.extent(e)[0]||{}},E.argmax=function(e){return this.extent(e)[1]||{}},E.min=function(e){const t=this.extent(e)[0];return null!=t?e(t):void 0},E.max=function(e){const t=this.extent(e)[1];return null!=t?e(t):void 0},E.quartile=function(e){return this._get===e&&this._q||(this._q=(0,a.cF)(this.values(),e),this._get=e),this._q},E.q1=function(e){return this.quartile(e)[0]},E.q2=function(e){return this.quartile(e)[1]},E.q3=function(e){return this.quartile(e)[2]},E.ci=function(e){return this._get===e&&this._ci||(this._ci=(0,a.aF)(this.values(),1e3,.05,e),this._get=e),this._ci},E.ci0=function(e){return this.ci(e)[0]},E.ci1=function(e){return this.ci(e)[1]},F.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:b},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]},(0,i.XW)(F,r.wx,{transform(e,t){const n=this,i=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.modified();return n.stamp=i.stamp,n.value&&(r||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=r?n.init(e):{},t.visit(t.SOURCE,(e=>n.add(e)))):(n.value=n.value||n.init(e),t.visit(t.REM,(e=>n.rem(e))),t.visit(t.ADD,(e=>n.add(e)))),i.modifies(n._outputs),n._drop=!1!==e.drop,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&i.clean(!0).runAfter((()=>this.clean())),n.changes(i)},cross(){const e=this,t=e.value,n=e._dnames,i=n.map((()=>({}))),r=n.length;function a(e){let t,a,o,s;for(t in e)for(o=e[t].tuple,a=0;a<r;++a)i[a][s=o[n[a]]]=s}a(e._prev),a(t),function a(o,s,u){const l=n[u],f=i[u++];for(const n in f){const i=o?o+"|"+n:n;s[l]=f[n],u<r?a(i,s,u):t[i]||e.cell(i,s)}}("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function a(e){const n=(0,i.IX)((0,i.Oj)(e)),a=n.length;let o,s=0;for(;s<a;++s)r[o=n[s]]||(r[o]=1,t.push(o))}this._dims=(0,i.IX)(e.groupby),this._dnames=this._dims.map((e=>{const t=(0,i.el)(e);return a(e),n.push(t),t})),this.cellkey=e.key?e.key:h(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],u=e.as||[],l=o.length,f={};let c,d,m,g,y,b;for(l!==s.length&&(0,i.vU)("Unmatched number of fields and aggregate ops."),b=0;b<l;++b)c=o[b],d=s[b],null==c&&"count"!==d&&(0,i.vU)("Null aggregate field specified."),g=(0,i.el)(c),y=p(d,g,u[b]),n.push(y),"count"!==d?(m=f[g],m||(a(c),m=f[g]=[],m.field=c,this._measures.push(m)),"count"!==d&&(this._countOnly=!1),m.push(v(d,y))):this._counts.push(y);return this._measures=this._measures.map((e=>O(e,e.field))),{}},cellkey:h(),cell(e,t){let n=this.value[e];return n?0===n.num&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const e=this._measures,t=e.length;n.agg=Array(t);for(let i=0;i<t;++i)n.agg[i]=new e[i](n)}return n.store&&(n.data=new D),n},newtuple(e,t){const n=this._dnames,i=this._dims,a=i.length,o={};for(let t=0;t<a;++t)o[n[t]]=i[t](e);return t?(0,r.gx)(t.tuple,o):(0,r.ax)(o)},clean(){const e=this.value;for(const t in e)0===e[t].num&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const i=n.agg;for(let t=0,n=i.length;t<n;++t)i[t].add(i[t].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const i=n.agg;for(let t=0,n=i.length;t<n;++t)i[t].rem(i[t].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let i=0,r=n.length;i<r;++i)t[n[i]]=e.num;if(!this._countOnly){const n=e.agg;for(let e=0,i=n.length;e<i;++e)n[e].set(t)}return t},changes(e){const t=this._adds,n=this._mods,i=this._prev,r=this._drop,a=e.add,o=e.rem,s=e.mod;let u,l,f,c;if(i)for(l in i)u=i[l],r&&!u.num||o.push(u.tuple);for(f=0,c=this._alen;f<c;++f)a.push(this.celltuple(t[f])),t[f]=null;for(f=0,c=this._mlen;f<c;++f)u=n[f],(0===u.num&&r?o:s).push(this.celltuple(u)),n[f]=null;return this._alen=this._mlen=0,this._prev=null,e}}),$.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]},(0,i.XW)($,r.wx,{transform(e,t){const n=!1!==e.interval,r=this._bins(e),a=r.start,o=r.step,s=e.as||["bin0","bin1"],u=s[0],l=s[1];let f;return f=e.modified()?(t=t.reflow(!0)).SOURCE:t.modified((0,i.Oj)(e.field))?t.ADD_MOD:t.ADD,t.visit(f,n?e=>{const t=r(e);e[u]=t,e[l]=null==t?null:a+o*(1+(t-a)/o)}:e=>e[u]=r(e)),t.modifies(n?s:u)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=(0,a.Ly)(e),r=n.step;let o,s,u=n.start,l=u+Math.ceil((n.stop-u)/r)*r;null!=(o=e.anchor)&&(s=o-(u+r*Math.floor((o-u)/r)),u+=s,l+=s);const f=function(e){let n=(0,i.He)(t(e));return null==n?null:n<u?-1/0:n>l?1/0:(n=Math.max(u,Math.min(n,l-r)),u+r*Math.floor(1e-14+(n-u)/r))};return f.start=u,f.stop=n.stop,f.step=r,this.value=(0,i.ZE)(f,(0,i.Oj)(t),e.name||"bin_"+(0,i.el)(t))}}),M.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]},(0,i.XW)(M,r.wx,{transform(e,t){const n=t.fork(t.ALL),i=C(r.ai,this.value,n.materialize(n.ADD).add),a=e.sort,o=t.changed()||a&&(e.modified("sort")||t.modified(a.fields));return n.visit(n.REM,i.remove),this.modified(o),this.value=n.source=i.data((0,r.vo)(a),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}}),(0,i.XW)(R,r.EF),B.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]},(0,i.XW)(B,r.wx,{transform(e,t){const n=t=>n=>{for(var i,r=function(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase()}return e.match(n)}(s(n),e.case,a)||[],u=0,l=r.length;u<l;++u)o.test(i=r[u])||t(i)},i=this._parameterCheck(e,t),r=this._counts,a=this._match,o=this._stop,s=e.field,u=e.as||["text","count"],l=n((e=>r[e]=1+(r[e]||0))),f=n((e=>r[e]-=1));return i?t.visit(t.SOURCE,l):(t.visit(t.ADD,l),t.visit(t.REM,f)),this._finish(t,u)},_parameterCheck(e,t){let n=!1;return!e.modified("stopwords")&&this._stop||(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),!e.modified("pattern")&&this._match||(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,i=this._tuples||(this._tuples={}),a=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let u,l,f;for(u in n)l=i[u],f=n[u]||0,!l&&f?(i[u]=l=(0,r.ax)({}),l[a]=u,l[o]=f,s.add.push(l)):0===f?(l&&s.rem.push(l),n[u]=null,i[u]=null):l[o]!==f&&(l[o]=f,s.mod.push(l));return s.modifies(t)}}),Z.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]},(0,i.XW)(Z,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE),a=e.as||["a","b"],o=a[0],s=a[1],u=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let l=this.value;return u?(l&&(n.rem=l),l=t.materialize(t.SOURCE).source,n.add=this.value=function(e,t,n,i){for(var a,o,s=[],u={},l=e.length,f=0;f<l;++f)for(u[t]=o=e[f],a=0;a<l;++a)u[n]=e[a],i(u)&&(s.push((0,r.ax)(u)),(u={})[t]=o);return s}(l,o,s,e.filter||i.yb)):n.mod=l,n.source=this.value,n.modifies(a)}});const T={kde:a.l0,mixture:a.wz,normal:a.nG,lognormal:a.bw,uniform:a.LG};function P(e,t){const n=e.function;(0,i.nr)(T,n)||(0,i.vU)("Unknown distribution function: "+n);const r=T[n]();for(const n in e)"field"===n?r.data((e.from||t()).map(e[n])):"distributions"===n?r[n](e[n].map((e=>P(e,t)))):"function"==typeof r[n]&&r[n](e[n]);return r}function j(e){r.wx.call(this,null,e)}const z=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],q={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:z},{name:"weights",type:"number",array:!0}]};function N(e,t){return e?e.map(((e,n)=>t[n]||(0,i.el)(e))):null}function U(e,t,n){const i=[],r=e=>e(u);let a,o,s,u,l,f;if(null==t)i.push(e.map(n));else for(a={},o=0,s=e.length;o<s;++o)u=e[o],l=t.map(r),f=a[l],f||(a[l]=f=[],f.dims=l,i.push(f)),f.push(n(u));return i}function L(e){r.wx.call(this,null,e)}function I(e){r.EF.call(this,null,W,e),this.modified(!0)}function W(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:(0,i.ZE)((n=>t(n,e)),(0,i.Oj)(t),(0,i.el)(t))}function X(e){r.wx.call(this,[void 0,void 0],e)}function V(e,t){r.EF.call(this,e),this.parent=t,this.count=0}function H(e){r.wx.call(this,{},e),this._keys=(0,i.Xr)();const t=this._targets=[];t.active=0,t.forEach=e=>{for(let n=0,i=t.active;n<i;++n)e(t[n],n,t)}}function J(e){r.EF.call(this,null,Y,e)}function Y(e){return this.value&&!e.modified()?this.value:(0,i.kJ)(e.name)?(0,i.IX)(e.name).map((e=>(0,i.EP)(e))):(0,i.EP)(e.name,e.as)}function G(e){r.wx.call(this,(0,i.Xr)(),e)}function K(e){r.wx.call(this,[],e)}function Q(e){r.wx.call(this,[],e)}function ee(e){r.wx.call(this,null,e)}function te(e){r.wx.call(this,[],e)}j.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:z.concat(q)},{name:"as",type:"string",array:!0,default:["value","density"]}]},(0,i.XW)(j,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const o=P(e.distribution,function(e){return()=>e.materialize(e.SOURCE).source}(t)),s=e.steps||e.minsteps||25,u=e.steps||e.maxsteps||200;let l=e.method||"pdf";"pdf"!==l&&"cdf"!==l&&(0,i.vU)("Invalid density method: "+l),e.extent||o.data||(0,i.vU)("Missing density extent parameter."),l=o[l];const f=e.as||["value","density"],c=e.extent||(0,i.We)(o.data()),d=(0,a.sR)(l,c,s,u).map((e=>{const t={};return t[f[0]]=e[0],t[f[1]]=e[1],(0,r.ax)(t)}));this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}}),L.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:"bin"}]},(0,i.XW)(L,r.wx,{transform(e,t){if(this.value&&!e.modified()&&!t.changed())return t;const n=t.materialize(t.SOURCE).source,o=U(t.source,e.groupby,i.yR),s=e.smooth||!1,u=e.field,l=e.step||((e,t)=>(0,i.yP)((0,i.We)(e,t))/30)(n,u),f=(0,r.vo)(((e,t)=>u(e)-u(t))),c=e.as||"bin",d=o.length;let h,p=1/0,m=-1/0,g=0;for(;g<d;++g){const e=o[g].sort(f);h=-1;for(const t of(0,a.Hk)(e,l,s,u))t<p&&(p=t),t>m&&(m=t),e[++h][c]=t}return this.value={start:p,stop:m,step:l},t.reflow(!0).modifies(c)}}),(0,i.XW)(I,r.EF),X.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]},(0,i.XW)(X,r.wx,{transform(e,t){const n=this.value,r=e.field,a=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((a||null==o)&&(o=1/0,s=-1/0),t.visit(a?t.SOURCE:t.ADD,(e=>{const t=(0,i.He)(r(e));null!=t&&(t<o&&(o=t),t>s&&(s=t))})),!Number.isFinite(o)||!Number.isFinite(s)){let e=(0,i.el)(r);e&&(e=` for field "${e}"`),t.dataflow.warn(`Infinite extent${e}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}}),(0,i.XW)(V,r.EF,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}}),(0,i.XW)(H,r.wx,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const a=this.value;let o,s,u=(0,i.nr)(a,e)&&a[e];return u?u.value.stamp<n.stamp&&(u.init(n),this.activate(u)):(s=r||(s=this._group[e])&&s.tuple,o=n.dataflow,u=new V(n.fork(n.NO_SOURCE),this),o.add(u).connect(t(o,e,s)),a[e]=u,this.activate(u)),u},clean(){const e=this.value;let t=0;for(const n in e)if(0===e[n].count){const i=e[n].detachSubflow;i&&i(),delete e[n],++t}if(t){const e=this._targets.filter((e=>e&&e.count>0));this.initTargets(e)}},initTargets(e){const t=this._targets,n=t.length,i=e?e.length:0;let r=0;for(;r<i;++r)t[r]=e[r];for(;r<n&&null!=t[r];++r)t[r]=null;t.active=i},transform(e,t){const n=t.dataflow,i=e.key,a=e.subflow,o=this._keys,s=e.modified("key"),u=e=>this.subflow(e,a,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,(e=>{const t=(0,r.ai)(e),n=o.get(t);void 0!==n&&(o.delete(t),u(n).rem(e))})),t.visit(t.ADD,(e=>{const t=i(e);o.set((0,r.ai)(e),t),u(t).add(e)})),s||t.modified(i.fields)?t.visit(t.MOD,(e=>{const t=(0,r.ai)(e),n=o.get(t),a=i(e);n===a?u(a).mod(e):(o.set(t,a),u(n).rem(e),u(a).add(e))})):t.changed(t.MOD)&&t.visit(t.MOD,(e=>{u(o.get((0,r.ai)(e))).mod(e)})),s&&t.visit(t.REFLOW,(e=>{const t=(0,r.ai)(e),n=o.get(t),a=i(e);n!==a&&(o.set(t,a),u(n).rem(e),u(a).add(e))})),t.clean()?n.runAfter((()=>{this.clean(),o.clean()})):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}}),(0,i.XW)(J,r.EF),G.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]},(0,i.XW)(G,r.wx,{transform(e,t){const n=t.dataflow,i=this.value,a=t.fork(),o=a.add,s=a.rem,u=a.mod,l=e.expr;let f=!0;function c(t){const n=(0,r.ai)(t),a=l(t,e),c=i.get(n);a&&c?(i.delete(n),o.push(t)):a||c?f&&a&&!c&&u.push(t):(i.set(n,1),s.push(t))}return t.visit(t.REM,(e=>{const t=(0,r.ai)(e);i.has(t)?i.delete(t):s.push(e)})),t.visit(t.ADD,(t=>{l(t,e)?o.push(t):i.set((0,r.ai)(t),1)})),t.visit(t.MOD,c),e.modified()&&(f=!1,t.visit(t.REFLOW,c)),i.empty>n.cleanThreshold&&n.runAfter(i.clean),a}}),K.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]},(0,i.XW)(K,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,a=N(i,e.as||[]),o=e.index||null,s=a.length;return n.rem=this.value,t.visit(t.SOURCE,(e=>{const t=i.map((t=>t(e))),u=t.reduce(((e,t)=>Math.max(e,t.length)),0);let l,f,c,d=0;for(;d<u;++d){for(f=(0,r.sY)(e),l=0;l<s;++l)f[a[l]]=null==(c=t[l][d])?null:c;o&&(f[o]=d),n.add.push(f)}})),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(a)}}),Q.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]},(0,i.XW)(Q,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE),a=e.fields,o=a.map(i.el),s=e.as||["key","value"],u=s[0],l=s[1],f=a.length;return n.rem=this.value,t.visit(t.SOURCE,(e=>{for(let t,i=0;i<f;++i)t=(0,r.sY)(e),t[u]=o[i],t[l]=a[i](e),n.add.push(t)})),this.value=n.source=n.add,n.modifies(s)}}),ee.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]},(0,i.XW)(ee,r.wx,{transform(e,t){const n=e.expr,i=e.as,r=e.modified(),a=e.initonly?t.ADD:r?t.SOURCE:t.modified(n.fields)||t.modified(i)?t.ADD_MOD:t.ADD;return r&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(i),t.visit(a,(t=>t[i]=n(t,e)))}}),(0,i.XW)(te,r.wx,{transform(e,t){const n=t.fork(t.ALL),i=e.generator;let a,o,s,u=this.value,l=e.size-u.length;if(l>0){for(a=[];--l>=0;)a.push(s=(0,r.ax)(i(e))),u.push(s);n.add=n.add.length?n.materialize(n.ADD).add.concat(a):a}else o=u.slice(0,-l),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(o):o,u=u.slice(-l);return n.source=this.value=u,n}});const ne={value:"value",median:o.Z,mean:s.Z,min:u.Z,max:l.Z},ie=[];function re(e){r.wx.call(this,[],e)}function ae(e){F.call(this,e)}function oe(e){r.wx.call(this,null,e)}function se(e){r.EF.call(this,null,ue,e)}function ue(e){return this.value&&!e.modified()?this.value:(0,i.Jy)(e.fields,e.flat)}function le(e){r.wx.call(this,[],e),this._pending=null}function fe(e,t,n){n.forEach(r.ax);const i=t.fork(t.NO_FIELDS&t.NO_SOURCE);return i.rem=e.value,e.value=i.source=i.add=n,e._pending=null,i.rem.length&&i.clean(!0),i}function ce(e){r.wx.call(this,{},e)}function de(e){r.EF.call(this,null,he,e)}function he(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let i,r,a=1/0,o=-1/0;for(i=0;i<n;++i)r=t[i],r[0]<a&&(a=r[0]),r[1]>o&&(o=r[1]);return[a,o]}function pe(e){r.EF.call(this,null,me,e)}function me(e){return this.value&&!e.modified()?this.value:e.values.reduce(((e,t)=>e.concat(t)),[])}function ge(e){r.wx.call(this,null,e)}function ye(e){F.call(this,e)}function be(e){H.call(this,e)}function ve(e){r.wx.call(this,null,e)}function xe(e){r.wx.call(this,null,e)}function _e(e){r.wx.call(this,null,e)}function we(e){r.wx.call(this,null,e)}function Ae(e){r.wx.call(this,[],e),this.count=0}function ke(e){r.wx.call(this,null,e)}function Oe(e){r.wx.call(this,null,e),this.modified(!0)}function De(e){r.wx.call(this,null,e)}re.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]},(0,i.XW)(re,r.wx,{transform(e,t){var n,a,o,s,u,l,f,c,d,h,p=t.fork(t.ALL),m=function(e){var t,n=e.method||ne.value;if(null!=ne[n])return n===ne.value?(t=void 0!==e.value?e.value:0,()=>t):ne[n];(0,i.vU)("Unrecognized imputation method: "+n)}(e),g=function(e){const t=e.field;return e=>e?t(e):NaN}(e),y=(0,i.el)(e.field),b=(0,i.el)(e.key),v=(e.groupby||[]).map(i.el),x=function(e,t,n,i){var r,a,o,s,u,l,f,c,d=e=>e(c),h=[],p=i?i.slice():[],m={},g={};for(p.forEach(((e,t)=>m[e]=t+1)),s=0,f=e.length;s<f;++s)l=n(c=e[s]),u=m[l]||(m[l]=p.push(l)),(o=g[a=(r=t?t.map(d):ie)+""])||(o=g[a]=[],h.push(o),o.values=r),o[u-1]=c;return h.domain=p,h}(t.source,e.groupby,e.key,e.keyvals),_=[],w=this.value,A=x.domain.length;for(u=0,c=x.length;u<c;++u)for(o=(n=x[u]).values,a=NaN,f=0;f<A;++f)if(null==n[f]){for(s=x.domain[f],h={_impute:!0},l=0,d=o.length;l<d;++l)h[v[l]]=o[l];h[b]=s,h[y]=Number.isNaN(a)?a=m(n,g):a,_.push((0,r.ax)(h))}return _.length&&(p.add=p.materialize(p.ADD).add.concat(_)),w.length&&(p.rem=p.materialize(p.REM).rem.concat(w)),this.value=_,p}}),ae.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:b},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]},(0,i.XW)(ae,F,{transform(e,t){const n=this,r=e.modified();let a;return n.value&&(r||t.modified(n._inputs,!0))?(a=n.value=r?n.init(e):{},t.visit(t.SOURCE,(e=>n.add(e)))):(a=n.value=n.value||this.init(e),t.visit(t.REM,(e=>n.rem(e))),t.visit(t.ADD,(e=>n.add(e)))),n.changes(),t.visit(t.SOURCE,(e=>{(0,i.l7)(e,a[n.cellkey(e)].tuple)})),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,i;for(n=0,i=this._alen;n<i;++n)this.celltuple(e[n]),e[n]=null;for(n=0,i=this._mlen;n<i;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}}),oe.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]},(0,i.XW)(oe,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const o=t.materialize(t.SOURCE).source,s=U(o,e.groupby,e.field),u=(e.groupby||[]).map(i.el),l=e.bandwidth,f=e.cumulative?"cdf":"pdf",c=e.as||["value","density"],d=[];let h=e.extent,p=e.steps||e.minsteps||25,m=e.steps||e.maxsteps||200;"pdf"!==f&&"cdf"!==f&&(0,i.vU)("Invalid density method: "+f),"shared"===e.resolve&&(h||(h=(0,i.We)(o,e.field)),p=m=e.steps||m),s.forEach((t=>{const n=(0,a.l0)(t,l)[f],o=e.counts?t.length:1,s=h||(0,i.We)(t);(0,a.sR)(n,s,p,m).forEach((e=>{const n={};for(let e=0;e<u.length;++e)n[u[e]]=t.dims[e];n[c[0]]=e[0],n[c[1]]=e[1]*o,d.push((0,r.ax)(n))}))})),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}}),(0,i.XW)(se,r.EF),(0,i.XW)(le,r.wx,{transform(e,t){const n=t.dataflow;if(this._pending)return fe(this,t,this._pending);if(function(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}(e))return t.StopPropagation;if(e.values)return fe(this,t,n.parse(e.values,e.format));if(e.async){const t=n.request(e.url,e.format).then((e=>(this._pending=(0,i.IX)(e.data),e=>e.touch(this))));return{async:t}}return n.request(e.url,e.format).then((e=>fe(this,t,(0,i.IX)(e.data))))}}),ce.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]},(0,i.XW)(ce,r.wx,{transform(e,t){const n=e.fields,r=e.index,a=e.values,o=null==e.default?null:e.default,s=e.modified(),u=n.length;let l,f,c,d=s?t.SOURCE:t.ADD,h=t,p=e.as;return a?(f=a.length,u>1&&!p&&(0,i.vU)('Multi-field lookup requires explicit "as" parameter.'),p&&p.length!==u*f&&(0,i.vU)('The "as" parameter has too few output field names.'),p=p||a.map(i.el),l=function(e){for(var t,i,s=0,l=0;s<u;++s)if(null==(i=r.get(n[s](e))))for(t=0;t<f;++t,++l)e[p[l]]=o;else for(t=0;t<f;++t,++l)e[p[l]]=a[t](i)}):(p||(0,i.vU)("Missing output field names."),l=function(e){for(var t,i=0;i<u;++i)t=r.get(n[i](e)),e[p[i]]=null==t?o:t}),s?h=t.reflow(!0):(c=n.some((e=>t.modified(e.fields))),d|=c?t.MOD:0),t.visit(d,l),h.modifies(p)}}),(0,i.XW)(de,r.EF),(0,i.XW)(pe,r.EF),(0,i.XW)(ge,r.wx,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}}),ye.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:b,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]},(0,i.XW)(ye,F,{_transform:F.prototype.transform,transform(e,t){return this._transform(function(e,t){const n=e.field,r=e.value,a=("count"===e.op?"__count__":e.op)||"sum",o=(0,i.Oj)(n).concat((0,i.Oj)(r)),s=function(e,t,n){const r={},a=[];return n.visit(n.SOURCE,(t=>{const n=e(t);r[n]||(r[n]=1,a.push(n))})),a.sort(i.j2),t?a.slice(0,t):a}(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map((()=>a)),fields:s.map((e=>function(e,t,n,r){return(0,i.ZE)((i=>t(i)===e?n(i):NaN),r,e+"")}(e,n,r,o))),as:s.map((e=>e+"")),modified:e.modified.bind(e)}}(e,t),t)}}),(0,i.XW)(be,H,{transform(e,t){const n=e.subflow,a=e.field,o=e=>this.subflow((0,r.ai)(e),n,t,e);return(e.modified("field")||a&&t.modified((0,i.Oj)(a)))&&(0,i.vU)("PreFacet does not support field modification."),this.initTargets(),a?(t.visit(t.MOD,(e=>{const t=o(e);a(e).forEach((e=>t.mod(e)))})),t.visit(t.ADD,(e=>{const t=o(e);a(e).forEach((e=>t.add((0,r.ax)(e))))})),t.visit(t.REM,(e=>{const t=o(e);a(e).forEach((e=>t.rem(e)))}))):(t.visit(t.MOD,(e=>o(e).mod(e))),t.visit(t.ADD,(e=>o(e).add(e))),t.visit(t.REM,(e=>o(e).rem(e)))),t.clean()&&t.runAfter((()=>this.clean())),t}}),ve.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]},(0,i.XW)(ve,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.fields,a=N(e.fields,e.as||[]),o=i?(e,t)=>function(e,t,n,i){for(let r=0,a=n.length;r<a;++r)t[i[r]]=n[r](e);return t}(e,t,i,a):r.BW;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,(e=>{const t=(0,r.ai)(e);n.rem.push(s[t]),s[t]=null})),t.visit(t.ADD,(e=>{const t=o(e,(0,r.ax)({}));s[(0,r.ai)(e)]=t,n.add.push(t)})),t.visit(t.MOD,(e=>{n.mod.push(o(e,s[(0,r.ai)(e)]))})),n}}),(0,i.XW)(xe,r.wx,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}}),_e.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]},(0,i.XW)(_e,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),o=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const s=U(t.materialize(t.SOURCE).source,e.groupby,e.field),u=(e.groupby||[]).map(i.el),l=[],c=e.step||.01,d=e.probs||(0,f.Z)(c/2,1-1e-14,c),h=d.length;return s.forEach((e=>{const t=(0,a.cW)(e,d);for(let n=0;n<h;++n){const i={};for(let t=0;t<u.length;++t)i[u[t]]=e.dims[t];i[o[0]]=d[n],i[o[1]]=t[n],l.push((0,r.ax)(i))}})),this.value&&(n.rem=this.value),this.value=n.add=n.source=l,n}}),(0,i.XW)(we,r.wx,{transform(e,t){let n,i;return this.value?i=this.value:(n=t=t.addAll(),i=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,(e=>{const t=(0,r.ai)(e);n.rem.push(i[t]),i[t]=null})),t.visit(t.ADD,(e=>{const t=(0,r.sY)(e);i[(0,r.ai)(e)]=t,n.add.push(t)})),t.visit(t.MOD,(e=>{const t=i[(0,r.ai)(e)];for(const i in e)t[i]=e[i],n.modifies(i);n.mod.push(t)}))),n}}),Ae.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]},(0,i.XW)(Ae,r.wx,{transform(e,t){const n=t.fork(t.NO_SOURCE),i=e.modified("size"),o=e.size,s=this.value.reduce(((e,t)=>(e[(0,r.ai)(t)]=1,e)),{});let u=this.value,l=this.count,f=0;function c(e){let t,i;u.length<o?u.push(e):(i=~~((l+1)*(0,a.MX)()),i<u.length&&i>=f&&(t=u[i],s[(0,r.ai)(t)]&&n.rem.push(t),u[i]=e)),++l}if(t.rem.length&&(t.visit(t.REM,(e=>{const t=(0,r.ai)(e);s[t]&&(s[t]=-1,n.rem.push(e)),--l})),u=u.filter((e=>-1!==s[(0,r.ai)(e)]))),(t.rem.length||i)&&u.length<o&&t.source&&(f=l=u.length,t.visit(t.SOURCE,(e=>{s[(0,r.ai)(e)]||c(e)})),f=-1),i&&u.length>o){const e=u.length-o;for(let t=0;t<e;++t)s[(0,r.ai)(u[t])]=-1,n.rem.push(u[t]);u=u.slice(e)}return t.mod.length&&t.visit(t.MOD,(e=>{s[(0,r.ai)(e)]&&n.mod.push(e)})),t.add.length&&t.visit(t.ADD,c),(t.add.length||f<0)&&(n.add=u.filter((e=>!s[(0,r.ai)(e)]))),this.count=l,this.value=n.source=u,n}}),ke.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]},(0,i.XW)(ke,r.wx,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),i=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=(0,f.Z)(e.start,e.stop,e.step||1).map((e=>{const t={};return t[i]=e,(0,r.ax)(t)})),n.add=t.add.concat(this.value),n}}),(0,i.XW)(Oe,r.wx,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});const Ee=["unit0","unit1"];function Fe(e){r.wx.call(this,(0,i.Xr)(),e)}function $e(e){r.wx.call(this,null,e)}De.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:d.LO,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:Ee}]},(0,i.XW)(De,r.wx,{transform(e,t){const n=e.field,r=!1!==e.interval,a="utc"===e.timezone,o=this._floor(e,t),s=(a?d.zr:d.JZ)(o.unit).offset,u=e.as||Ee,l=u[0],f=u[1],c=o.step;let h=o.start||1/0,p=o.stop||-1/0,m=t.ADD;return(e.modified()||t.modified((0,i.Oj)(n)))&&(m=(t=t.reflow(!0)).SOURCE,h=1/0,p=-1/0),t.visit(m,(e=>{const t=n(e);let i,a;null==t?(e[l]=null,r&&(e[f]=null)):(e[l]=i=a=o(t),r&&(e[f]=a=s(i,c)),i<h&&(h=i),a>p&&(p=a))})),o.start=h,o.stop=p,t.modifies(r?u:l)},_floor(e,t){const n="utc"===e.timezone,{units:r,step:a}=e.units?{units:e.units,step:e.step||1}:(0,d.pt)({extent:e.extent||(0,i.We)(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=(0,d.FW)(r),s=this.value||{},u=(n?d.pd:d.BR)(o,a);return u.unit=(0,i.fj)(o),u.units=o,u.step=a,u.start=s.start,u.stop=s.stop,this.value=u}}),(0,i.XW)(Fe,r.wx,{transform(e,t){const n=t.dataflow,i=e.field,r=this.value,a=e=>r.set(i(e),e);let o=!0;return e.modified("field")||t.modified(i.fields)?(r.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,(e=>r.delete(i(e)))),t.visit(t.ADD,a)):o=!1,this.modified(o),r.empty>n.cleanThreshold&&n.runAfter(r.clean),t.fork()}}),(0,i.XW)($e,r.wx,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort((0,r.vo)(e.sort)):t.source).map(e.field))}});const Ce={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,i=t.data;return n&&t.compare(i[n-1],i[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,i=t.data;return n&&t.compare(i[n-1],i[n])?++e:e}}},percent_rank:function(){const e=Ce.rank(),t=e.next;return{init:e.init,next:e=>(t(e)-1)/(e.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,i=t.compare;let r=t.index;if(e<r){for(;r+1<n.length&&!i(n[r],n[r+1]);)++r;e=r}return(1+e)/n.length}}},ntile:function(e,t){(t=+t)>0||(0,i.vU)("ntile num must be greater than zero.");const n=Ce.cume_dist(),r=n.next;return{init:n.init,next:e=>Math.ceil(t*r(e))}},lag:function(e,t){return t=+t||1,{next:n=>{const i=n.index-t;return i>=0?e(n.data[i]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const i=n.index+t,r=n.data;return i<r.length?e(r[i]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return(t=+t)>0||(0,i.vU)("nth_value nth must be greater than zero."),{next:n=>{const i=n.i0+(t-1);return i<n.i1?e(n.data[i]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const i=e(n.data[n.index]);return null!=i?t=i:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:i=>{const r=i.data;return i.index<=n?t:(n=function(e,t,n){for(let i=t.length;n<i;++n)if(null!=e(t[n]))return n;return-1}(e,r,i.index))<0?(n=r.length,t=null):t=e(r[n])}}}},Me=Object.keys(Ce);function Re(e){const t=(0,i.IX)(e.ops),n=(0,i.IX)(e.fields),r=(0,i.IX)(e.params),a=(0,i.IX)(e.as),o=this.outputs=[],s=this.windows=[],u={},l={},f=[],c=[];let d=!0;function h(e){(0,i.IX)((0,i.Oj)(e)).forEach((e=>u[e]=1))}h(e.sort),t.forEach(((e,t)=>{const u=n[t],m=(0,i.el)(u),g=p(e,m,a[t]);if(h(u),o.push(g),(0,i.nr)(Ce,e))s.push(function(e,t,n,r){const a=Ce[e](t,n);return{init:a.init||i.bM,update:function(e,t){t[r]=a.next(e)}}}(e,n[t],r[t],g));else{if(null==u&&"count"!==e&&(0,i.vU)("Null aggregate field specified."),"count"===e)return void f.push(g);d=!1;let t=l[m];t||(t=l[m]=[],t.field=u,c.push(t)),t.push(v(e,g))}})),(f.length||c.length)&&(this.cell=function(e,t,n){e=e.map((e=>O(e,e.field)));const i={num:0,agg:null,store:!1,count:t};if(!n)for(var r=e.length,a=i.agg=Array(r),o=0;o<r;++o)a[o]=new e[o](i);if(i.store)var s=i.data=new D;return i.add=function(e){if(i.num+=1,!n){s&&s.add(e);for(let t=0;t<r;++t)a[t].add(a[t].get(e),e)}},i.rem=function(e){if(i.num-=1,!n){s&&s.rem(e);for(let t=0;t<r;++t)a[t].rem(a[t].get(e),e)}},i.set=function(e){let r,o;for(s&&s.values(),r=0,o=t.length;r<o;++r)e[t[r]]=i.num;if(!n)for(r=0,o=a.length;r<o;++r)a[r].set(e)},i.init=function(){i.num=0,s&&s.reset();for(let e=0;e<r;++e)a[e].init()},i}(c,f,d)),this.inputs=Object.keys(u)}const Se=Re.prototype;function Be(e){r.wx.call(this,{},e),this._mlen=0,this._mods=[]}function Ze(e,t,n,r){const a=r.sort,o=a&&!r.ignorePeers,s=r.frame||[null,0],u=e.data(n),l=u.length,f=o?(0,c.Z)(a):null,d={i0:0,i1:0,p0:0,p1:0,index:0,data:u,compare:a||(0,i.a9)(-1)};t.init();for(let e=0;e<l;++e)Te(d,s,e,l),o&&Pe(d,f),t.update(d,u[e])}function Te(e,t,n,i){e.p0=e.i0,e.p1=e.i1,e.i0=null==t[0]?0:Math.max(0,n-Math.abs(t[0])),e.i1=null==t[1]?i:Math.min(i,n+Math.abs(t[1])+1),e.index=n}function Pe(e,t){const n=e.i0,i=e.i1-1,r=e.compare,a=e.data,o=a.length-1;n>0&&!r(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),i<o&&!r(a[i],a[i+1])&&(e.i1=t.right(a,a[i]))}Se.init=function(){this.windows.forEach((e=>e.init())),this.cell&&this.cell.init()},Se.update=function(e,t){const n=this.cell,i=this.windows,r=e.data,a=i&&i.length;let o;if(n){for(o=e.p0;o<e.i0;++o)n.rem(r[o]);for(o=e.p1;o<e.i1;++o)n.add(r[o]);n.set(t)}for(o=0;o<a;++o)i[o].update(e,t)},Be.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Me.concat(b)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]},(0,i.XW)(Be,r.wx,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),i=(0,r.vo)(e.sort),a=h(e.groupby),o=e=>this.group(a(e));let s=this.state;s&&!n||(s=this.state=new Re(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,(e=>o(e).add(e)))):(t.visit(t.REM,(e=>o(e).remove(e))),t.visit(t.ADD,(e=>o(e).add(e))));for(let t=0,n=this._mlen;t<n;++t)Ze(this._mods[t],s,i,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=C(r.ai),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}})},54374:(e,t,n)=>{"use strict";function i(e,t,n){return e.fields=t||[],e.fname=n,e}function r(e){return null==e?null:e.fname}function a(e){return null==e?null:e.fields}function o(e){return 1===e.length?s(e[0]):u(e)}n.d(t,{jj:()=>v,uU:()=>x,ZE:()=>i,Oj:()=>a,el:()=>r,IX:()=>V,j2:()=>G,l$:()=>H,qu:()=>Y,a9:()=>te,Ds:()=>ne,vU:()=>l,l7:()=>ie,We:()=>re,dI:()=>ae,k:()=>y,Xr:()=>le,EP:()=>c,yl:()=>fe,nr:()=>se,id:()=>d,yR:()=>h,XW:()=>ce,u5:()=>de,kJ:()=>w,jn:()=>he,J_:()=>pe,mf:()=>J,TW:()=>me,hj:()=>ge,Kn:()=>A,Kj:()=>ye,HD:()=>be,Jy:()=>ve,t7:()=>xe,kg:()=>_,$m:()=>_e,TS:()=>we,fE:()=>O,kX:()=>m,vk:()=>ke,Dw:()=>T,mJ:()=>P,QA:()=>j,Zw:()=>z,fj:()=>F,mS:()=>W,yP:()=>Oe,_k:()=>f,m8:()=>De,sw:()=>Ee,ZU:()=>$e,He:()=>$,Rg:()=>Me,BB:()=>Ce,$G:()=>Re,yb:()=>g,N3:()=>X,FP:()=>Se,iL:()=>D,bM:()=>p,ay:()=>N,dH:()=>U,mK:()=>L,bV:()=>I});const s=e=>function(t){return t[e]},u=e=>{const t=e.length;return function(n){for(let i=0;i<t;++i)n=n[e[i]];return n}};function l(e){throw Error(e)}function f(e){const t=[],n=e.length;let i,r,a,o=null,s=0,u="";function f(){t.push(u+e.substring(i,r)),u="",i=r+1}for(e+="",i=r=0;r<n;++r)if(a=e[r],"\\"===a)u+=e.substring(i,r),u+=e.substring(++r,++r),i=r;else if(a===o)f(),o=null,s=-1;else{if(o)continue;i===s&&'"'===a||i===s&&"'"===a?(i=r+1,o=a):"."!==a||s?"["===a?(r>i&&f(),s=i=r+1):"]"===a&&(s||l("Access path missing open bracket: "+e),s>0&&f(),s=0,i=r+1):r>i?f():i=r+1}return s&&l("Access path missing closing bracket: "+e),o&&l("Access path missing closing quote: "+e),r>i&&(r++,f()),t}function c(e,t,n){const r=f(e);return e=1===r.length?r[0]:e,i((n&&n.get||o)(r),[e],t||e)}const d=c("id"),h=i((e=>e),[],"identity"),p=i((()=>0),[],"zero"),m=i((()=>1),[],"one"),g=i((()=>!0),[],"true"),y=i((()=>!1),[],"false");function b(e,t,n){const i=[t].concat([].slice.call(n));console[e].apply(console,i)}const v=1,x=2;function _(e,t,n=b){let i=e||0;return{level(e){return arguments.length?(i=+e,this):i},error(){return i>=v&&n(t||"error","ERROR",arguments),this},warn(){return i>=x&&n(t||"warn","WARN",arguments),this},info(){return i>=3&&n(t||"log","INFO",arguments),this},debug(){return i>=4&&n(t||"log","DEBUG",arguments),this}}}var w=Array.isArray;function A(e){return e===Object(e)}const k=e=>"__proto__"!==e;function O(...e){return e.reduce(((e,t)=>{for(const n in t)if("signals"===n)e.signals=E(e.signals,t.signals);else{const i="legend"===n?{layout:1}:"style"===n||null;D(e,n,t[n],i)}return e}),{})}function D(e,t,n,i){if(!k(t))return;let r,a;if(A(n)&&!w(n))for(r in a=A(e[t])?e[t]:e[t]={},n)i&&(!0===i||i[r])?D(a,r,n[r]):k(r)&&(a[r]=n[r]);else e[t]=n}function E(e,t){if(null==e)return t;const n={},i=[];function r(e){n[e.name]||(n[e.name]=1,i.push(e))}return t.forEach(r),e.forEach(r),i}function F(e){return e[e.length-1]}function $(e){return null==e||""===e?null:+e}const C=e=>t=>e*Math.exp(t),M=e=>t=>Math.log(e*t),R=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),S=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,B=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function Z(e,t,n,i){const r=n(e[0]),a=n(F(e)),o=(a-r)*t;return[i(r-o),i(a-o)]}function T(e,t){return Z(e,t,$,h)}function P(e,t){var n=Math.sign(e[0]);return Z(e,t,M(n),C(n))}function j(e,t,n){return Z(e,t,B(n),B(1/n))}function z(e,t,n){return Z(e,t,R(n),S(n))}function q(e,t,n,i,r){const a=i(e[0]),o=i(F(e)),s=null!=t?i(t):(a+o)/2;return[r(s+(a-s)*n),r(s+(o-s)*n)]}function N(e,t,n){return q(e,t,n,$,h)}function U(e,t,n){const i=Math.sign(e[0]);return q(e,t,n,M(i),C(i))}function L(e,t,n,i){return q(e,t,n,B(i),B(1/i))}function I(e,t,n,i){return q(e,t,n,R(i),S(i))}function W(e){return 1+~~(new Date(e).getMonth()/3)}function X(e){return 1+~~(new Date(e).getUTCMonth()/3)}function V(e){return null!=e?w(e)?e:[e]:[]}function H(e,t,n){let i,r=e[0],a=e[1];return a<r&&(i=a,a=r,r=i),i=a-r,i>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-i),r+i]}function J(e){return"function"==typeof e}function Y(e,t,n){n=n||{},t=V(t)||[];const r=[],o=[],s={},u=n.comparator||K;return V(e).forEach(((e,i)=>{null!=e&&(r.push("descending"===t[i]?-1:1),o.push(e=J(e)?e:c(e,null,n)),(a(e)||[]).forEach((e=>s[e]=1)))})),0===o.length?null:i(u(o,r),Object.keys(s))}const G=(e,t)=>(e<t||null==e)&&null!=t?-1:(e>t||null==t)&&null!=e?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t==t?-1:t!=t&&e==e?1:0),K=(e,t)=>1===e.length?Q(e[0],t[0]):ee(e,t,e.length),Q=(e,t)=>function(n,i){return G(e(n),e(i))*t},ee=(e,t,n)=>(t.push(0),function(i,r){let a,o=0,s=-1;for(;0===o&&++s<n;)a=e[s],o=G(a(i),a(r));return o*t[s]});function te(e){return J(e)?e:()=>e}function ne(e,t){let n;return i=>{n&&clearTimeout(n),n=setTimeout((()=>(t(i),n=null)),e)}}function ie(e){for(let t,n,i=1,r=arguments.length;i<r;++i)for(n in t=arguments[i],t)e[n]=t[n];return e}function re(e,t){let n,i,r,a,o=0;if(e&&(n=e.length))if(null==t){for(i=e[o];o<n&&(null==i||i!=i);i=e[++o]);for(r=a=i;o<n;++o)i=e[o],null!=i&&(i<r&&(r=i),i>a&&(a=i))}else{for(i=t(e[o]);o<n&&(null==i||i!=i);i=t(e[++o]));for(r=a=i;o<n;++o)i=t(e[o]),null!=i&&(i<r&&(r=i),i>a&&(a=i))}return[r,a]}function ae(e,t){const n=e.length;let i,r,a,o,s,u=-1;if(null==t){for(;++u<n;)if(r=e[u],null!=r&&r>=r){i=a=r;break}if(u===n)return[-1,-1];for(o=s=u;++u<n;)r=e[u],null!=r&&(i>r&&(i=r,o=u),a<r&&(a=r,s=u))}else{for(;++u<n;)if(r=t(e[u],u,e),null!=r&&r>=r){i=a=r;break}if(u===n)return[-1,-1];for(o=s=u;++u<n;)r=t(e[u],u,e),null!=r&&(i>r&&(i=r,o=u),a<r&&(a=r,s=u))}return[o,s]}const oe=Object.prototype.hasOwnProperty;function se(e,t){return oe.call(e,t)}const ue={};function le(e){let t,n={};function i(e){return se(n,e)&&n[e]!==ue}const r={size:0,empty:0,object:n,has:i,get:e=>i(e)?n[e]:void 0,set(e,t){return i(e)||(++r.size,n[e]===ue&&--r.empty),n[e]=t,this},delete(e){return i(e)&&(--r.size,++r.empty,n[e]=ue),this},clear(){r.size=r.empty=0,r.object=n={}},test(e){return arguments.length?(t=e,r):t},clean(){const e={};let i=0;for(const r in n){const a=n[r];a===ue||t&&t(a)||(e[r]=a,++i)}r.size=i,r.empty=0,r.object=n=e}};return e&&Object.keys(e).forEach((t=>{r.set(t,e[t])})),r}function fe(e,t,n,i,r,a){if(!n&&0!==n)return a;const o=+n;let s,u=e[0],l=F(e);l<u&&(s=u,u=l,l=s),s=Math.abs(t-u);const f=Math.abs(l-t);return s<f&&s<=o?i:f<=o?r:a}function ce(e,t,n){const i=e.prototype=Object.create(t.prototype);return Object.defineProperty(i,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),ie(i,n)}function de(e,t,n,i){let r,a=t[0],o=t[t.length-1];return a>o&&(r=a,a=o,o=r),i=void 0===i||i,((n=void 0===n||n)?a<=e:a<e)&&(i?e<=o:e<o)}function he(e){return"boolean"==typeof e}function pe(e){return"[object Date]"===Object.prototype.toString.call(e)}function me(e){return e&&J(e[Symbol.iterator])}function ge(e){return"number"==typeof e}function ye(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function be(e){return"string"==typeof e}function ve(e,t,n){e&&(e=t?V(e).map((e=>e.replace(/\\(.)/g,"$1"))):V(e));const r=e&&e.length,a=n&&n.get||o,s=e=>a(t?[e]:f(e));let u;if(r)if(1===r){const t=s(e[0]);u=function(e){return""+t(e)}}else{const t=e.map(s);u=function(e){let n=""+t[0](e),i=0;for(;++i<r;)n+="|"+t[i](e);return n}}else u=function(){return""};return i(u,e,"key")}function xe(e,t){const n=e[0],i=F(e),r=+t;return r?1===r?i:n+r*(i-n):n}function _e(e){let t,n,i;e=+e||1e4;const r=()=>{t={},n={},i=0},a=(r,a)=>(++i>e&&(n=t,t={},i=1),t[r]=a);return r(),{clear:r,has:e=>se(t,e)||se(n,e),get:e=>se(t,e)?t[e]:se(n,e)?a(e,n[e]):void 0,set:(e,n)=>se(t,e)?t[e]=n:a(e,n)}}function we(e,t,n,i){const r=t.length,a=n.length;if(!a)return t;if(!r)return n;const o=i||new t.constructor(r+a);let s=0,u=0,l=0;for(;s<r&&u<a;++l)o[l]=e(t[s],n[u])>0?n[u++]:t[s++];for(;s<r;++s,++l)o[l]=t[s];for(;u<a;++u,++l)o[l]=n[u];return o}function Ae(e,t){let n="";for(;--t>=0;)n+=e;return n}function ke(e,t,n,i){const r=n||" ",a=e+"",o=t-a.length;return o<=0?a:"left"===i?Ae(r,o)+a:"center"===i?Ae(r,~~(o/2))+a+Ae(r,Math.ceil(o/2)):a+Ae(r,o)}function Oe(e){return e&&F(e)-e[0]||0}function De(e){return w(e)?"["+e.map(De)+"]":A(e)||be(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Ee(e){return null==e||""===e?null:!(!e||"false"===e||"0"===e||!e)}const Fe=e=>ge(e)||pe(e)?e:Date.parse(e);function $e(e,t){return t=t||Fe,null==e||""===e?null:t(e)}function Ce(e){return null==e||""===e?null:e+""}function Me(e){const t={},n=e.length;for(let i=0;i<n;++i)t[e[i]]=!0;return t}function Re(e,t,n,i){const r=null!=i?i:"…",a=e+"",o=a.length,s=Math.max(0,t-r.length);return o<=t?a:"left"===n?r+a.slice(o-s):"center"===n?a.slice(0,Math.ceil(s/2))+r+a.slice(o-~~(s/2)):a.slice(0,s)+r}function Se(e,t,n){if(e)if(t){const i=e.length;for(let r=0;r<i;++r){const i=t(e[r]);i&&n(i,r,e)}}else e.forEach(n)}},34496:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bound:()=>$,identifier:()=>R,mark:()=>S,overlap:()=>B,render:()=>N,viewlayout:()=>ue});var i=n(1015),r=n(40801),a=n(54374);const o="top",s="left",u="right",l="bottom",f="start",c="middle",d="end",h="group",p="axis",m="title",g="legend",y="row-header",b="row-footer",v="row-title",x="column-header",_="column-footer",w="column-title",A="none",k="all",O="each",D="flush",E="column",F="row";function $(e){i.wx.call(this,null,e)}function C(e,t,n){return t(e.bounds.clear(),e,n)}(0,a.XW)($,i.wx,{transform(e,t){const n=t.dataflow,i=e.mark,a=i.marktype,o=r.zT[a],s=o.bound;let u,l=i.bounds;if(o.nested)i.items.length&&n.dirty(i.items[0]),l=C(i,s),i.items.forEach((e=>{e.bounds.clear().union(l)}));else if(a===h||e.modified())switch(t.visit(t.MOD,(e=>n.dirty(e))),l.clear(),i.items.forEach((e=>l.union(C(e,s)))),i.role){case p:case g:case m:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,(e=>{l.union(C(e,s))})),t.visit(t.MOD,(e=>{u=u||l.alignsWith(e.bounds),n.dirty(e),l.union(C(e,s))})),u&&(l.clear(),i.items.forEach((e=>l.union(e.bounds))));return(0,r.bs)(i),t.modifies("bounds")}});const M=":vega_identifier:";function R(e){i.wx.call(this,0,e)}function S(e){i.wx.call(this,null,e)}function B(e){i.wx.call(this,null,e)}R.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]},(0,a.XW)(R,i.wx,{transform(e,t){const n=(r=t.dataflow)._signals[M]||(r._signals[M]=r.add(0)),i=e.as;var r;let a=n.value;return t.visit(t.ADD,(e=>e[i]=e[i]||++a)),n.set(this.value=a),t}}),(0,a.XW)(S,i.wx,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,function(e){const t=e.groups,n=e.parent;return t&&1===t.size?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const i=n.marktype===h?r.MN:r.ck;return t.visit(t.ADD,(e=>i.call(e,n))),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});const Z={parity:e=>e.filter(((e,t)=>t%2?e.opacity=0:1)),greedy:(e,t)=>{let n;return e.filter(((e,i)=>i&&T(n.bounds,e.bounds,t)?e.opacity=0:(n=e,1)))}},T=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),P=(e,t)=>{for(var n,i=1,r=e.length,a=e[0].bounds;i<r;a=n,++i)if(T(a,n=e[i].bounds,t))return!0},j=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},z=e=>(e.forEach((e=>e.opacity=1)),e),q=(e,t)=>e.reflow(t.modified()).modifies("opacity");function N(e){i.wx.call(this,null,e)}(0,a.XW)(B,i.wx,{transform(e,t){const n=Z[e.method]||Z.parity,i=e.separation||0;let s,u,f=t.materialize(t.SOURCE).source;if(!f||!f.length)return;if(!e.method)return e.modified("method")&&(z(f),t=q(t,e)),t;if(f=f.filter(j),!f.length)return;if(e.sort&&(f=f.slice().sort(e.sort)),s=z(f),t=q(t,e),s.length>=3&&P(s,i)){do{s=n(s,i)}while(s.length>=3&&P(s,i));s.length<3&&!(0,a.fj)(f).opacity&&(s.length>1&&((0,a.fj)(s).opacity=0),(0,a.fj)(f).opacity=1)}var c,d,h,p,m;e.boundScale&&e.boundTolerance>=0&&(c=e.boundScale,d=e.boundOrient,h=+e.boundTolerance,p=c.range(),m=new r.YZ,d===o||d===l?m.set(p[0],-1/0,p[1],1/0):m.set(-1/0,p[0],1/0,p[1]),m.expand(h||1),u=e=>m.encloses(e.bounds),f.forEach((e=>{u(e)||(e.opacity=0)})));const g=s[0].mark.bounds.clear();return f.forEach((e=>{e.opacity&&g.union(e.bounds)})),t}}),(0,a.XW)(N,i.wx,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,(e=>n.dirty(e))),t.fields&&t.fields.zindex){const e=t.source&&t.source[0];e&&(e.mark.zdirty=!0)}}});const U=new r.YZ;function L(e,t,n){return e[t]===n?0:(e[t]=n,1)}function I(e){var t=e.items[0].orient;return t===s||t===u}function W(e,t,n,i){var a,f,c=t.items[0],d=c.datum,h=null!=c.translate?c.translate:.5,p=c.orient,m=function(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}(d),g=c.range,y=c.offset,b=c.position,v=c.minExtent,x=c.maxExtent,_=d.title&&c.items[m[2]].items[0],w=c.titlePadding,A=c.bounds,k=_&&(0,r.N_)(_),O=0,D=0;switch(U.clear().union(A),A.clear(),(a=m[0])>-1&&A.union(c.items[a].bounds),(a=m[1])>-1&&A.union(c.items[a].bounds),p){case o:O=b||0,D=-y,f=Math.max(v,Math.min(x,-A.y1)),A.add(0,-f).add(g,0),_&&X(e,_,f,w,k,0,-1,A);break;case s:O=-y,D=b||0,f=Math.max(v,Math.min(x,-A.x1)),A.add(-f,0).add(0,g),_&&X(e,_,f,w,k,1,-1,A);break;case u:O=n+y,D=b||0,f=Math.max(v,Math.min(x,A.x2)),A.add(0,0).add(f,g),_&&X(e,_,f,w,k,1,1,A);break;case l:O=b||0,D=i+y,f=Math.max(v,Math.min(x,A.y2)),A.add(0,0).add(g,f),_&&X(e,_,f,w,0,0,1,A);break;default:O=c.x,D=c.y}return(0,r.Hz)(A.translate(O,D),c),L(c,"x",O+h)|L(c,"y",D+h)&&(c.bounds=U,e.dirty(c),c.bounds=A,e.dirty(c)),c.mark.bounds.clear().union(A)}function X(e,t,n,i,r,a,o,s){const u=t.bounds;if(t.auto){const s=o*(n+r+i);let l=0,f=0;e.dirty(t),a?l=(t.x||0)-(t.x=s):f=(t.y||0)-(t.y=s),t.mark.bounds.clear().union(u.translate(-l,-f)),e.dirty(t)}s.union(u)}const V=(e,t)=>Math.floor(Math.min(e,t)),H=(e,t)=>Math.ceil(Math.max(e,t));function J(e){return(new r.YZ).set(0,0,e.width||0,e.height||0)}function Y(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function G(e,t,n){const i=(0,a.Kn)(e)?e[t]:e;return null!=i?i:void 0!==n?n:0}function K(e){return e<0?Math.ceil(-e):0}function Q(e,t,n){var i,r,a,o,s,u,l,f,h,p,m,g=!n.nodirty,y=n.bounds===D?J:Y,b=U.set(0,0,0,0),v=G(n.align,E),x=G(n.align,F),_=G(n.padding,E),w=G(n.padding,F),A=n.columns||t.length,$=A<=0?1:Math.ceil(t.length/A),C=t.length,M=Array(C),R=Array(A),S=0,B=Array(C),Z=Array($),T=0,P=Array(C),j=Array(C),z=Array(C);for(r=0;r<A;++r)R[r]=0;for(r=0;r<$;++r)Z[r]=0;for(r=0;r<C;++r)u=t[r],s=z[r]=y(u),u.x=u.x||0,P[r]=0,u.y=u.y||0,j[r]=0,a=r%A,o=~~(r/A),S=Math.max(S,l=Math.ceil(s.x2)),T=Math.max(T,f=Math.ceil(s.y2)),R[a]=Math.max(R[a],l),Z[o]=Math.max(Z[o],f),M[r]=_+K(s.x1),B[r]=w+K(s.y1),g&&e.dirty(t[r]);for(r=0;r<C;++r)r%A==0&&(M[r]=0),r<A&&(B[r]=0);if(v===O)for(a=1;a<A;++a){for(m=0,r=a;r<C;r+=A)m<M[r]&&(m=M[r]);for(r=a;r<C;r+=A)M[r]=m+R[a-1]}else if(v===k){for(m=0,r=0;r<C;++r)r%A&&m<M[r]&&(m=M[r]);for(r=0;r<C;++r)r%A&&(M[r]=m+S)}else for(v=!1,a=1;a<A;++a)for(r=a;r<C;r+=A)M[r]+=R[a-1];if(x===O)for(o=1;o<$;++o){for(m=0,i=(r=o*A)+A;r<i;++r)m<B[r]&&(m=B[r]);for(r=o*A;r<i;++r)B[r]=m+Z[o-1]}else if(x===k){for(m=0,r=A;r<C;++r)m<B[r]&&(m=B[r]);for(r=A;r<C;++r)B[r]=m+T}else for(x=!1,o=1;o<$;++o)for(i=(r=o*A)+A;r<i;++r)B[r]+=Z[o-1];for(h=0,r=0;r<C;++r)h=M[r]+(r%A?h:0),P[r]+=h-t[r].x;for(a=0;a<A;++a)for(p=0,r=a;r<C;r+=A)p+=B[r],j[r]+=p-t[r].y;if(v&&G(n.center,E)&&$>1)for(r=0;r<C;++r)(h=(s=v===k?S:R[r%A])-z[r].x2-t[r].x-P[r])>0&&(P[r]+=h/2);if(x&&G(n.center,F)&&1!==A)for(r=0;r<C;++r)(p=(s=x===k?T:Z[~~(r/A)])-z[r].y2-t[r].y-j[r])>0&&(j[r]+=p/2);for(r=0;r<C;++r)b.union(z[r].translate(P[r],j[r]));switch(h=G(n.anchor,"x"),p=G(n.anchor,"y"),G(n.anchor,E)){case d:h-=b.width();break;case c:h-=b.width()/2}switch(G(n.anchor,F)){case d:p-=b.height();break;case c:p-=b.height()/2}for(h=Math.round(h),p=Math.round(p),b.clear(),r=0;r<C;++r)t[r].mark.bounds.clear();for(r=0;r<C;++r)(u=t[r]).x+=P[r]+=h,u.y+=j[r]+=p,b.union(u.mark.bounds.union(u.bounds.translate(P[r],j[r]))),g&&e.dirty(u);return b}function ee(e,t){return"x1"===t?e.x||0:"y1"===t?e.y||0:"x2"===t?(e.x||0)+(e.width||0):"y2"===t?(e.y||0)+(e.height||0):void 0}function te(e,t){return e.bounds[t]}function ne(e,t,n,i,r,a,o,s,u,l,f,c,d,h){var p,m,g,y,b,v,x,_,w,A=n.length,k=0,O=0;if(!A)return k;for(p=f;p<A;p+=c)n[p]&&(k=o(k,u(n[p],l)));if(!t.length)return k;for(t.length>r&&(e.warn("Grid headers exceed limit: "+r),t=t.slice(0,r)),k+=a,m=0,y=t.length;m<y;++m)e.dirty(t[m]),t[m].mark.bounds.clear();for(p=f,m=0,y=t.length;m<y;++m,p+=c){for(b=(v=t[m]).mark.bounds,g=p;g>=0&&null==(x=n[g]);g-=d);s?(_=null==h?x.x:Math.round(x.bounds.x1+h*x.bounds.width()),w=k):(_=k,w=null==h?x.y:Math.round(x.bounds.y1+h*x.bounds.height())),b.union(v.bounds.translate(_-(v.x||0),w-(v.y||0))),v.x=_,v.y=w,e.dirty(v),O=o(O,b[l])}return O}function ie(e,t,n,i,r,a){if(t){e.dirty(t);var o=n,s=n;i?o=Math.round(r.x1+a*r.width()):s=Math.round(r.y1+a*r.height()),t.bounds.translate(o-(t.x||0),s-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=o,t.y=s,e.dirty(t)}}function re(e,t,n,i,r,a,h){const p=function(e,t){const n=e[t]||{};return(t,i)=>null!=n[t]?n[t]:null!=e[t]?e[t]:i}(n,t),m=function(e,t){let n=-1/0;return e.forEach((e=>{null!=e.offset&&(n=Math.max(n,e.offset))})),n>-1/0?n:t}(e,p("offset",0)),g=p("anchor",f),y=g===d?1:g===c?.5:0,b={align:O,bounds:p("bounds",D),columns:"vertical"===p("direction")?1:e.length,padding:p("margin",8),center:p("center"),nodirty:!0};switch(t){case s:b.anchor={x:Math.floor(i.x1)-m,column:d,y:y*(h||i.height()+2*i.y1),row:g};break;case u:b.anchor={x:Math.ceil(i.x2)+m,y:y*(h||i.height()+2*i.y1),row:g};break;case o:b.anchor={y:Math.floor(r.y1)-m,row:d,x:y*(a||r.width()+2*r.x1),column:g};break;case l:b.anchor={y:Math.ceil(r.y2)+m,x:y*(a||r.width()+2*r.x1),column:g};break;case"top-left":b.anchor={x:m,y:m};break;case"top-right":b.anchor={x:a-m,y:m,column:d};break;case"bottom-left":b.anchor={x:m,y:h-m,row:d};break;case"bottom-right":b.anchor={x:a-m,y:h-m,column:d,row:d}}return b}function ae(e,t){var n,i,a=t.items[0],o=a.datum,f=a.orient,c=a.bounds,h=a.x,p=a.y;return a._bounds?a._bounds.clear().union(c):a._bounds=c.clone(),c.clear(),function(e,t,n){var i=t.padding,r=i-n.x,a=i-n.y;if(t.datum.title){var o=t.items[1].items[0],f=o.anchor,c=t.titlePadding||0,h=i-o.x,p=i-o.y;switch(o.orient){case s:r+=Math.ceil(o.bounds.width())+c;break;case u:case l:break;default:a+=o.bounds.height()+c}switch((r||a)&&se(e,n,r,a),o.orient){case s:p+=oe(t,n,o,f,1,1);break;case u:h+=oe(t,n,o,d,0,0)+c,p+=oe(t,n,o,f,1,1);break;case l:h+=oe(t,n,o,f,0,0),p+=oe(t,n,o,d,-1,0,1)+c;break;default:h+=oe(t,n,o,f,0,0)}(h||p)&&se(e,o,h,p),(h=Math.round(o.bounds.x1-i))<0&&(se(e,n,-h,0),se(e,o,-h,0))}else(r||a)&&se(e,n,r,a)}(e,a,a.items[0].items[0]),c=function(e,t){return e.items.forEach((e=>t.union(e.bounds))),t.x1=e.padding,t.y1=e.padding,t}(a,c),n=2*a.padding,i=2*a.padding,c.empty()||(n=Math.ceil(c.width()+n),i=Math.ceil(c.height()+i)),"symbol"===o.type&&function(e){const t=e.reduce(((e,t)=>(e[t.column]=Math.max(t.bounds.x2-t.x,e[t.column]||0),e)),{});e.forEach((e=>{e.width=t[e.column],e.height=e.bounds.y2-e.y}))}(a.items[0].items[0].items[0].items),f!==A&&(a.x=h=0,a.y=p=0),a.width=n,a.height=i,(0,r.Hz)(c.set(h,p,h+n,p+i),a),a.mark.bounds.clear().union(c),a}function oe(e,t,n,i,a,o,s){const u="symbol"!==e.datum.type,l=n.datum.vgrad,c=(!u||!o&&l||s?t:t.items[0]).bounds[a?"y2":"x2"]-e.padding,h=l&&o?c:0,p=l&&o?0:c,m=a<=0?0:(0,r.N_)(n);return Math.round(i===f?h:i===d?p-m:.5*(c-m))}function se(e,t,n,i){t.x+=n,t.y+=i,t.bounds.translate(n,i),t.mark.bounds.translate(n,i),e.dirty(t)}function ue(e){i.wx.call(this,null,e)}(0,a.XW)(ue,i.wx,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach((t=>{e.layout&&function(e,t,n){var i,r,a,o,s,u,l,f=function(e){var t,n,i=e.items,r=i.length,a=0;const o={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;a<r;++a)if(n=(t=i[a]).items,t.marktype===h)switch(t.role){case p:case g:case m:break;case y:o.rowheaders.push(...n);break;case b:o.rowfooters.push(...n);break;case x:o.colheaders.push(...n);break;case _:o.colfooters.push(...n);break;case v:o.rowtitle=n[0];break;case w:o.coltitle=n[0];break;default:o.marks.push(...n)}return o}(t),c=f.marks,A=n.bounds===D?ee:te,k=n.offset,O=n.columns||c.length,$=O<=0?1:Math.ceil(c.length/O),C=$*O;const M=Q(e,c,n);M.empty()&&M.set(0,0,0,0),f.rowheaders&&(u=G(n.headerBand,F,null),i=ne(e,f.rowheaders,c,0,$,-G(k,"rowHeader"),V,0,A,"x1",0,O,1,u)),f.colheaders&&(u=G(n.headerBand,E,null),r=ne(e,f.colheaders,c,0,O,-G(k,"columnHeader"),V,1,A,"y1",0,1,O,u)),f.rowfooters&&(u=G(n.footerBand,F,null),a=ne(e,f.rowfooters,c,0,$,G(k,"rowFooter"),H,0,A,"x2",O-1,O,1,u)),f.colfooters&&(u=G(n.footerBand,E,null),o=ne(e,f.colfooters,c,0,O,G(k,"columnFooter"),H,1,A,"y2",C-O,1,O,u)),f.rowtitle&&(s=G(n.titleAnchor,F),l=G(k,"rowTitle"),l=s===d?a+l:i-l,u=G(n.titleBand,F,.5),ie(e,f.rowtitle,l,0,M,u)),f.coltitle&&(s=G(n.titleAnchor,E),l=G(k,"columnTitle"),l=s===d?o+l:r-l,u=G(n.titleBand,E,.5),ie(e,f.coltitle,l,1,M,u))}(n,t,e.layout),function(e,t,n){var i,a,c,k,O,D=t.items,E=Math.max(0,t.width||0),F=Math.max(0,t.height||0),$=(new r.YZ).set(0,0,E,F),C=$.clone(),M=$.clone(),R=[];for(k=0,O=D.length;k<O;++k)switch((a=D[k]).role){case p:(I(a)?C:M).union(W(e,a,E,F));break;case m:i=a;break;case g:R.push(ae(e,a));break;case"frame":case"scope":case y:case b:case v:case x:case _:case w:C.union(a.bounds),M.union(a.bounds);break;default:$.union(a.bounds)}if(R.length){const t={};R.forEach((e=>{(c=e.orient||u)!==A&&(t[c]||(t[c]=[])).push(e)}));for(const i in t){const r=t[i];Q(e,r,re(r,i,n.legends,C,M,E,F))}R.forEach((t=>{const i=t.bounds;if(i.equals(t._bounds)||(t.bounds=t._bounds,e.dirty(t),t.bounds=i,e.dirty(t)),n.autosize&&"fit"===n.autosize.type)switch(t.orient){case s:case u:$.add(i.x1,0).add(i.x2,0);break;case o:case l:$.add(0,i.y1).add(0,i.y2)}else $.union(i)}))}$.union(C).union(M),i&&$.union(function(e,t,n,i,r){var a,c=t.items[0],p=c.frame,m=c.orient,g=c.anchor,y=c.offset,b=c.padding,v=c.items[0].items[0],x=c.items[1]&&c.items[1].items[0],_=m===s||m===u?i:n,w=0,A=0,k=0,O=0,D=0;if(p!==h?m===s?(w=r.y2,_=r.y1):m===u?(w=r.y1,_=r.y2):(w=r.x1,_=r.x2):m===s&&(w=i,_=0),a=g===f?w:g===d?_:(w+_)/2,x&&x.text){switch(m){case o:case l:D=v.bounds.height()+b;break;case s:O=v.bounds.width()+b;break;case u:O=-v.bounds.width()-b}U.clear().union(x.bounds),U.translate(O-(x.x||0),D-(x.y||0)),L(x,"x",O)|L(x,"y",D)&&(e.dirty(x),x.bounds.clear().union(U),x.mark.bounds.clear().union(U),e.dirty(x)),U.clear().union(x.bounds)}else U.clear();switch(U.union(v.bounds),m){case o:A=a,k=r.y1-U.height()-y;break;case s:A=r.x1-U.width()-y,k=a;break;case u:A=r.x2+U.width()+y,k=a;break;case l:A=a,k=r.y2+y;break;default:A=c.x,k=c.y}return L(c,"x",A)|L(c,"y",k)&&(U.translate(A,k),e.dirty(c),c.bounds.clear().union(U),t.bounds.clear().union(U),e.dirty(c)),c.bounds}(e,i,E,F,$)),t.clip&&$.set(0,0,t.width||0,t.height||0),function(e,t,n,i){const r=i.autosize||{},a=r.type;if(e._autosize<1||!a)return;let o=e._width,s=e._height,u=Math.max(0,t.width||0),l=Math.max(0,Math.ceil(-n.x1)),f=Math.max(0,t.height||0),c=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-u)),h=Math.max(0,Math.ceil(n.y2-f));if("padding"===r.contains){const t=e.padding();o-=t.left+t.right,s-=t.top+t.bottom}a===A?(l=0,c=0,u=o,f=s):"fit"===a?(u=Math.max(0,o-l-d),f=Math.max(0,s-c-h)):"fit-x"===a?(u=Math.max(0,o-l-d),s=f+c+h):"fit-y"===a?(o=u+l+d,f=Math.max(0,s-c-h)):"pad"===a&&(o=u+l+d,s=f+c+h),e._resizeView(o,s,u,f,[l,c],r.resize)}(e,t,$,n)}(n,t,e)})),(i=e.mark.group)&&"legend-entry"!==i.mark.role?t.reflow():t;var i}})},6771:(e,t,n)=>{"use strict";var i=n(54374),r=n(1015),a=n(40801),o=n(6380),s=n(40013),u=n(58168),l=n(96106),f=n(57326);function c(e,t){e&&(null==t?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}const d="default";function h(e,t){const n=e.globalCursor()?"undefined"!=typeof document&&document.body:e.container();if(n)return null==t?n.style.removeProperty("cursor"):n.style.cursor=t}function p(e,t){var n=e._runtime.data;return(0,i.nr)(n,t)||(0,i.vU)("Unrecognized data set: "+t),n[t]}function m(e,t){(0,r.my)(t)||(0,i.vU)("Second argument to changes must be a changeset.");const n=p(this,e);return n.modified=!0,this.pulse(n.input,t)}function g(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function y(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function b(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}const v="view",x={trap:!1};function _(e,t,n,r){e._eventListeners.push({type:n,sources:(0,i.IX)(t),handler:r})}function w(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return!(!1===r||(0,i.Kn)(r)&&!r[n])||(e.warn(`Blocked ${t} ${n} event listener.`),!1)}function A(e){return e.item}function k(e){return e.item.mark.source}function O(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function D(e,t,n){const i=document.createElement(e);for(const e in t)i.setAttribute(e,t[e]);return null!=n&&(i.textContent=n),i}function E(e,t,n,i){const r=n.event||"input",a=()=>e.update(t.value);i.signal(n.signal,t.value),t.addEventListener(r,a),_(i,t,r,a),e.set=e=>{t.value=e,t.dispatchEvent(function(e){return"undefined"!=typeof Event?new Event(e):{type:e}}(r))}}function F(e,t,n,i){const r=i.signal(n.signal),a=D("div",{class:"vega-bind"}),o="radio"===n.input?a:a.appendChild(D("label"));o.appendChild(D("span",{class:"vega-bind-name"},n.name||n.signal)),t.appendChild(a);let s=$;switch(n.input){case"checkbox":s=C;break;case"select":s=M;break;case"radio":s=R;break;case"range":s=S}s(e,o,n,r)}function $(e,t,n,i){const r=D("input");for(const e in n)"signal"!==e&&"element"!==e&&r.setAttribute("input"===e?"type":e,n[e]);r.setAttribute("name",n.signal),r.value=i,t.appendChild(r),r.addEventListener("input",(()=>e.update(r.value))),e.elements=[r],e.set=e=>r.value=e}function C(e,t,n,i){const r={type:"checkbox",name:n.signal};i&&(r.checked=!0);const a=D("input",r);t.appendChild(a),a.addEventListener("change",(()=>e.update(a.checked))),e.elements=[a],e.set=e=>a.checked=!!e||null}function M(e,t,n,i){const r=D("select",{name:n.signal}),a=n.labels||[];n.options.forEach(((e,t)=>{const n={value:e};B(e,i)&&(n.selected=!0),r.appendChild(D("option",n,(a[t]||e)+""))})),t.appendChild(r),r.addEventListener("change",(()=>{e.update(n.options[r.selectedIndex])})),e.elements=[r],e.set=e=>{for(let t=0,i=n.options.length;t<i;++t)if(B(n.options[t],e))return void(r.selectedIndex=t)}}function R(e,t,n,i){const r=D("span",{class:"vega-bind-radio"}),a=n.labels||[];t.appendChild(r),e.elements=n.options.map(((t,o)=>{const s={type:"radio",name:n.signal,value:t};B(t,i)&&(s.checked=!0);const u=D("input",s);u.addEventListener("change",(()=>e.update(t)));const l=D("label",{},(a[o]||t)+"");return l.prepend(u),r.appendChild(l),u})),e.set=t=>{const n=e.elements,i=n.length;for(let e=0;e<i;++e)B(n[e].value,t)&&(n[e].checked=!0)}}function S(e,t,n,i){i=void 0!==i?i:(+n.max+ +n.min)/2;const r=null!=n.max?n.max:Math.max(100,+i)||100,a=n.min||Math.min(0,r,+i)||0,s=n.step||(0,o.ly)(a,r,100),u=D("input",{type:"range",name:n.signal,min:a,max:r,step:s});u.value=i;const l=D("span",{},+i);t.appendChild(u),t.appendChild(l);const f=()=>{l.textContent=u.value,e.update(+u.value)};u.addEventListener("input",f),u.addEventListener("change",f),e.elements=[u],e.set=e=>{u.value=e,l.textContent=e}}function B(e,t){return e===t||e+""==t+""}function Z(e,t,n,i,r,a){return(t=t||new i(e.loader())).initialize(n,g(e),y(e),b(e),r,a).background(e.background())}function T(e,t){return t?function(){try{t.apply(this,arguments)}catch(t){e.error(t)}}:null}function P(e,t,n){if("string"==typeof t){if("undefined"==typeof document)return e.error("DOM document instance not found."),null;if(!(t=document.querySelector(t)))return e.error("Signal bind element not found: "+t),null}if(t&&n)try{t.innerHTML=""}catch(n){t=null,e.error(n)}return t}const j=e=>+e||0;function z(e){return(0,i.Kn)(e)?{top:j(e.top),bottom:j(e.bottom),left:j(e.left),right:j(e.right)}:(e=>({top:e,bottom:e,left:e,right:e}))(j(e))}async function q(e,t,n,r){const o=(0,a.fS)(t),s=o&&o.headless;return s||(0,i.vU)("Unrecognized renderer type: "+t),await e.runAsync(),Z(e,null,null,s,n,r).renderAsync(e._scenegraph.root)}var N="padding",U={skip:!0};function L(e,t){var n=e.autosize(),i=e.padding();return t-(n&&n.contains===N?i.left+i.right:0)}function I(e,t){var n=e.autosize(),i=e.padding();return t-(n&&n.contains===N?i.top+i.bottom:0)}function W(e,t){return t.modified&&(0,i.kJ)(t.input.value)&&e.indexOf("_:vega:_")}function X(e,t){return!("parent"===e||t instanceof r.Lo.proxy)}function V(e,t,n,r){const a=e.element();a&&a.setAttribute("title",function(e){return null==e?"":(0,i.kJ)(e)?H(e):(0,i.Kn)(e)&&!(0,i.J_)(e)?(t=e,Object.keys(t).map((e=>{const n=t[e];return e+": "+((0,i.kJ)(n)?H(n):J(n))})).join("\n")):e+"";var t}(r))}function H(e){return"["+e.map(J).join(", ")+"]"}function J(e){return(0,i.kJ)(e)?"[…]":(0,i.Kn)(e)&&!(0,i.J_)(e)?"{…}":e}function Y(e,t){return(0,i.nr)(e._signals,t)?e._signals[t]:(0,i.vU)("Unrecognized signal name: "+(0,i.m8)(t))}function G(e,t){const n=(e._targets||[]).filter((e=>e._update&&e._update.handler===t));return n.length?n[0]:null}function K(e,t,n,i){let r=G(n,i);return r||(r=T(e,(()=>i(t,n.value))),r.handler=i,e.on(n,null,r)),e}function Q(e,t,n){const i=G(t,n);return i&&t._targets.remove(i),e}(0,i.XW)((function(e,t){const n=this;if(t=t||{},r.h1.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),null!=t.logLevel&&n.logLevel(t.logLevel),t.locale||e.locale){const r=(0,i.l7)({},e.locale,t.locale);n.locale((0,f.SP)(r.number,r.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||a.y2.Canvas,n._scenegraph=new a.Yo;const o=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||V,n._redraw=!0,n._handler=(new a.fd).scene(o),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=function(e){const t=(0,i.l7)({defaults:{}},e),n=(e,t)=>{t.forEach((t=>{(0,i.kJ)(e[t])&&(e[t]=(0,i.Rg)(e[t]))}))};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const l=function(e,t,n){return(0,u.D)(e,r.Lo,s.b5,n).parse(t)}(n,e,t.expr);n._runtime=l,n._signals=l.signals,n._bind=(e.bindings||[]).map((e=>({state:null,param:(0,i.l7)({},e)}))),l.root&&l.root.set(o),o.source=l.data.root.input,n.pulse(l.data.root.input,n.changeset().insert(o.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=L(n,n._width),n._viewHeight=I(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,function(e){var t=e._signals,n=t.width,i=t.height,r=t.padding;function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,(t=>{e._width=t.size,e._viewWidth=L(e,t.size),a()}),{size:n}),e._resizeHeight=e.add(null,(t=>{e._height=t.size,e._viewHeight=I(e,t.size),a()}),{size:i});const o=e.add(null,a,{pad:r});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=i.rank+1,o.rank=r.rank+1}(n),function(e){e.add(null,(t=>(e._background=t.bg,e._resize=1,t.bg)),{bg:e._signals.background})}(n),function(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:d,item:null}));e.on(e.events("view","mousemove"),t,((e,n)=>{const r=t.value,a=r?(0,i.HD)(r)?r:r.user:d,o=n.item&&n.item.cursor||null;return r&&a===r.user&&o==r.item?r:{user:a,item:o}})),e.add(null,(function(t){let n=t.cursor,r=this.value;return(0,i.HD)(n)||(r=n.item,n=n.user),h(e,n&&n!==d?n:r||n),r}),{cursor:t})}(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}),r.h1,{async evaluate(e,t,n){if(await r.h1.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,a=b(i=this),o=g(i),s=y(i),i._renderer.background(i.background()),i._renderer.resize(o,s,a),i._handler.origin(a),i._resizeListeners.forEach((e=>{try{e(o,s)}catch(e){i.error(e)}}))),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(e){this.error(e)}var i,a,o,s;return n&&(0,r.MY)(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=null!=e?e+"":null;return t!==this._desc&&c(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const i=Y(this,e);return 1===arguments.length?i.value:this.update(i,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",z(e)):z(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?((0,a.fS)(e)||(0,i.vU)("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(r.h1.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(Y(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:function(e,t,n,i,r,a){this.runAfter((o=>{let s=0;o._autosize=0,o.width()!==n&&(s=1,o.signal("width",n,U),o._resizeWidth.skip(!0)),o.height()!==i&&(s=1,o.signal("height",i,U),o._resizeHeight.skip(!0)),o._viewWidth!==e&&(o._resize=1,o._viewWidth=e),o._viewHeight!==t&&(o._resize=1,o._viewHeight=t),o._origin[0]===r[0]&&o._origin[1]===r[1]||(o._resize=1,o._origin=r),s&&o.run("enter"),a&&o.runAfter((e=>e.resize()))}),!1,1)},addEventListener(e,t,n){let i=t;return n&&!1===n.trap||(i=T(this,t),i.raw=t),this._handler.on(e,i),this},removeEventListener(e,t){for(var n,i,r=this._handler.handlers(e),a=r.length;--a>=0;)if(i=r[a].type,n=r[a].handler,e===i&&(t===n||t===n.raw)){this._handler.off(i,n);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return K(this,e,Y(this,e),t)},removeSignalListener(e,t){return Q(this,Y(this,e),t)},addDataListener(e,t){return K(this,e,p(this,e).values,t)},removeDataListener(e,t){return Q(this,p(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=h(this,null);this._globalCursor=!!e,t&&h(this,t)}return this}return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:function(e,t){this._timers.push((0,l.Z)((function(t){e({timestamp:Date.now(),elapsed:t})}),t))},events:function(e,t,n){var o,s=this,u=new r.MF(n),l=function(n,r){s.runAsync(null,(()=>{e===v&&function(e,t){var n=e._eventConfig.defaults,i=n.prevent,r=n.allow;return!1!==i&&!0!==r&&(!0===i||!1===r||(i?i[t]:r?!r[t]:e.preventDefault()))}(s,t)&&n.preventDefault(),u.receive(function(e,t,n){var r,o,s,u=e._renderer,l=u&&u.canvas();return l&&(s=b(e),o=t.changedTouches?t.changedTouches[0]:t,(r=(0,a.xm)(o,l))[0]-=s[0],r[1]-=s[1]),t.dataflow=e,t.item=n,t.vega=function(e,t,n){const r=t?"group"===t.mark.marktype?t:t.mark.group:null;function a(e){var n,i=r;if(e)for(n=t;n;n=n.mark.group)if(n.mark.name===e){i=n;break}return i&&i.mark&&i.mark.interactive?i:{}}function o(e){if(!e)return n;(0,i.HD)(e)&&(e=a(e));const t=n.slice();for(;e;)t[0]-=e.x||0,t[1]-=e.y||0,e=e.mark&&e.mark.group;return t}return{view:(0,i.a9)(e),item:(0,i.a9)(t||{}),group:a,xy:o,x:e=>o(e)[0],y:e=>o(e)[1]}}(e,n,r),t}(s,n,r))}))};if("timer"===e)w(s,"timer",t)&&s.timer(l,t);else if(e===v)w(s,"view",t)&&s.addEventListener(t,l,x);else if("window"===e?w(s,"window",t)&&"undefined"!=typeof window&&(o=[window]):"undefined"!=typeof document&&w(s,"selector",t)&&(o=document.querySelectorAll(e)),o){for(var f=0,c=o.length;f<c;++f)o[f].addEventListener(t,l);_(s,o,t,l)}else s.warn("Can not resolve event source: "+e);return u},finalize:function(){var e,t,n,i=this._tooltip,r=this._timers,a=this._eventListeners;for(e=r.length;--e>=0;)r[e].stop();for(e=a.length;--e>=0;)for(t=(n=a[e]).sources.length;--t>=0;)n.sources[t].removeEventListener(n.type,n.handler);return i&&i.call(this,this._handler,null,null,null),this},hover:function(e,t){return t=[t||"update",(e=[e||"hover"])[0]],this.on(this.events("view","mouseover",A),k,O(e)),this.on(this.events("view","mouseout",A),k,O(t)),this},data:function(e,t){return arguments.length<2?p(this,e).values.value:m.call(this,e,(0,r._K)().remove(i.yb).insert(t))},change:m,insert:function(e,t){return m.call(this,e,(0,r._K)().insert(t))},remove:function(e,t){return m.call(this,e,(0,r._K)().remove(t))},scale:function(e){var t=this._runtime.scales;return(0,i.nr)(t,e)||(0,i.vU)("Unrecognized scale or projection: "+e),t[e].value},initialize:function(e,t){const n=this,r=n._renderType,o=n._eventConfig.bind,s=(0,a.fS)(r);e=n._el=e?P(n,e,!0):null,function(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),c(t,e.description()))}(n),s||n.error("Unrecognized renderer type: "+r);const u=s.handler||a.fd,l=e?s.renderer:s.headless;return n._renderer=l?Z(n,n._renderer,e,l):null,n._handler=function(e,t,n,i){const r=new i(e.loader(),T(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,b(e),e);return t&&t.handlers().forEach((e=>{r.on(e.type,e.handler)})),r}(n,n._handler,e,u),n._redraw=!0,e&&"none"!==o&&(t=t?n._elBind=P(n,t,!0):e.appendChild(D("form",{class:"vega-bindings"})),n._bind.forEach((e=>{e.param.element&&"container"!==o&&(e.element=P(n,e.param.element,!!e.param.input))})),n._bind.forEach((e=>{!function(e,t,n){if(!t)return;const r=n.param;let a=n.state;a||(a=n.state={elements:null,active:!1,set:null,update:t=>{t!=e.signal(r.signal)&&e.runAsync(null,(()=>{a.source=!0,e.signal(r.signal,t)}))}},r.debounce&&(a.update=(0,i.Ds)(r.debounce,a.update))),(null==r.input&&r.element?E:F)(a,t,r,e),a.active||(e.on(e._signals[r.signal],null,(()=>{a.source?a.source=!1:a.set(e.signal(r.signal))})),a.active=!0)}(n,e.element||t,e)}))),n},toImageURL:async function(e,t){e!==a.y2.Canvas&&e!==a.y2.SVG&&e!==a.y2.PNG&&(0,i.vU)("Unrecognized image type: "+e);const n=await q(this,e,t);return e===a.y2.SVG?function(e,t){const n=new Blob([e],{type:"image/svg+xml"});return window.URL.createObjectURL(n)}(n.svg()):n.canvas().toDataURL("image/png")},toCanvas:async function(e,t){return(await q(this,a.y2.Canvas,e,t)).canvas()},toSVG:async function(e){return(await q(this,a.y2.SVG,e)).svg()},getState:function(e){return this._runtime.getState(e||{data:W,signals:X,recurse:!0})},setState:function(e){return this.runAsync(null,(t=>{t._trigger=!1,t._runtime.setState(e)}),(e=>{e._trigger=!0})),this}})},77130:(e,t,n)=>{"use strict";n.r(t),n.d(t,{voronoi:()=>o});var i=n(1015),r=n(54374),a=n(57936);function o(e){i.wx.call(this,null,e)}o.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const s=[-1e5,-1e5,1e5,1e5];function u(e){const t=e[0][0],n=e[0][1];let i=e.length-1;for(;e[i][0]===t&&e[i][1]===n;--i);return"M"+e.slice(0,i+1).join("L")+"Z"}(0,r.XW)(o,i.wx,{transform(e,t){const n=e.as||"path",i=t.source;if(!i||!i.length)return t;let r=e.size;r=r?[0,0,r[0],r[1]]:(r=e.extent)?[r[0][0],r[0][1],r[1][0],r[1][1]]:s;const o=this.value=a.Z.from(i,e.x,e.y).voronoi(r);for(let e=0,t=i.length;e<t;++e){const t=o.cellPolygon(e);i[e][n]=t?u(t):null}return t.reflow(e.modified()).modifies(n)}})},4742:(e,t,n)=>{"use strict";n.r(t),n.d(t,{wordcloud:()=>b});var i=n(12360),r=n(1015),a=n(54374),o=n(2891),s=n(92589),u=Math.PI/180,l=2048;function f(e,t,n,i){if(!t.sprite){var r=e.context,a=e.ratio;r.clearRect(0,0,2048/a,l/a);var o,s,f,c,d,h=0,p=0,m=0,g=n.length;for(--i;++i<g;){if(t=n[i],r.save(),r.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,o=r.measureText(t.text+"m").width*a,f=t.size<<1,t.rotate){var y=Math.sin(t.rotate*u),b=Math.cos(t.rotate*u),v=o*b,x=o*y,_=f*b,w=f*y;o=Math.max(Math.abs(v+w),Math.abs(v-w))+31>>5<<5,f=~~Math.max(Math.abs(x+_),Math.abs(x-_))}else o=o+31>>5<<5;if(f>m&&(m=f),h+o>=2048&&(h=0,p+=m,m=0),p+f>=l)break;r.translate((h+(o>>1))/a,(p+(f>>1))/a),t.rotate&&r.rotate(t.rotate*u),r.fillText(t.text,0,0),t.padding&&(r.lineWidth=2*t.padding,r.strokeText(t.text,0,0)),r.restore(),t.width=o,t.height=f,t.xoff=h,t.yoff=p,t.x1=o>>1,t.y1=f>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,h+=o}for(var A=r.getImageData(0,0,2048/a,l/a).data,k=[];--i>=0;)if((t=n[i]).hasText){for(s=(o=t.width)>>5,f=t.y1-t.y0,c=0;c<f*s;c++)k[c]=0;if(null==(h=t.xoff))return;p=t.yoff;var O=0,D=-1;for(d=0;d<f;d++){for(c=0;c<o;c++){var E=s*d+(c>>5),F=A[2048*(p+d)+(h+c)<<2]?1<<31-c%32:0;k[E]|=F,O|=F}O?D=d:(t.y0++,f--,d--,p++)}t.y1=t.y0+D,t.sprite=k.slice(0,(t.y1-t.y0)*s)}}}function c(e,t,n){n>>=5;for(var i,r=e.sprite,a=e.width>>5,o=e.x-(a<<4),s=127&o,u=32-s,l=e.y1-e.y0,f=(e.y+e.y0)*n+(o>>5),c=0;c<l;c++){i=0;for(var d=0;d<=a;d++)if((i<<u|(d<a?(i=r[c*a+d])>>>s:0))&t[f+d])return!0;f+=n}return!1}function d(e,t){var n=e[0],i=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>i.x&&(i.x=t.x+t.x1),t.y+t.y1>i.y&&(i.y=t.y+t.y1)}function h(e){var t=e[0]/e[1];return function(e){return[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]}}function p(e){return"function"==typeof e?e:function(){return e}}var m={archimedean:h,rectangular:function(e){var t=4*e[0]/e[1],n=0,i=0;return function(e){var r=e<0?-1:1;switch(Math.sqrt(1+4*r*e)-r&3){case 0:n+=t;break;case 1:i+=4;break;case 2:n-=t;break;default:i-=4}return[n,i]}}};const g=["x","y","font","fontSize","fontStyle","fontWeight","angle"],y=["text","font","rotate","fontSize","fontStyle","fontWeight"];function b(e){r.wx.call(this,function(){var e,t,n,r,a,o,s,u=[256,256],g=h,y=[],b=Math.random,v={};function x(e,t,n){for(var i,r,a,o,s,l=t.x,f=t.y,d=Math.sqrt(u[0]*u[0]+u[1]*u[1]),h=g(u),p=b()<.5?1:-1,m=-p;(i=h(m+=p))&&(r=~~i[0],a=~~i[1],!(Math.min(Math.abs(r),Math.abs(a))>=d));)if(t.x=l+r,t.y=f+a,!(t.x+t.x0<0||t.y+t.y0<0||t.x+t.x1>u[0]||t.y+t.y1>u[1]||n&&c(t,e,u[0])||n&&(s=n,!((o=t).x+o.x1>s[0].x&&o.x+o.x0<s[1].x&&o.y+o.y1>s[0].y&&o.y+o.y0<s[1].y)))){for(var y,v=t.sprite,x=t.width>>5,_=u[0]>>5,w=t.x-(x<<4),A=127&w,k=32-A,O=t.y1-t.y0,D=(t.y+t.y0)*_+(w>>5),E=0;E<O;E++){y=0;for(var F=0;F<=x;F++)e[D+F]|=y<<k|(F<x?(y=v[E*x+F])>>>A:0);D+=_}return t.sprite=null,!0}return!1}return v.layout=function(){for(var c=function(e){e.width=e.height=1;var t=Math.sqrt(e.getContext("2d").getImageData(0,0,1,1).data.length>>2);e.width=2048/t,e.height=l/t;var n=e.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:t}}((0,i.v)()),h=function(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}((u[0]>>5)*u[1]),p=null,m=y.length,g=-1,v=[],_=y.map((i=>({text:e(i),font:t(i),style:r(i),weight:a(i),rotate:o(i),size:~~(n(i)+1e-14),padding:s(i),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:i}))).sort(((e,t)=>t.size-e.size));++g<m;){var w=_[g];w.x=u[0]*(b()+.5)>>1,w.y=u[1]*(b()+.5)>>1,f(c,w,_,g),w.hasText&&x(h,w,p)&&(v.push(w),p?d(p,w):p=[{x:w.x+w.x0,y:w.y+w.y0},{x:w.x+w.x1,y:w.y+w.y1}],w.x-=u[0]>>1,w.y-=u[1]>>1)}return v},v.words=function(e){return arguments.length?(y=e,v):y},v.size=function(e){return arguments.length?(u=[+e[0],+e[1]],v):u},v.font=function(e){return arguments.length?(t=p(e),v):t},v.fontStyle=function(e){return arguments.length?(r=p(e),v):r},v.fontWeight=function(e){return arguments.length?(a=p(e),v):a},v.rotate=function(e){return arguments.length?(o=p(e),v):o},v.text=function(t){return arguments.length?(e=p(t),v):e},v.spiral=function(e){return arguments.length?(g=m[e]||e,v):g},v.fontSize=function(e){return arguments.length?(n=p(e),v):n},v.padding=function(e){return arguments.length?(s=p(e),v):s},v.random=function(e){return arguments.length?(b=e,v):b},v}(),e)}b.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:g}]},(0,a.XW)(b,r.wx,{transform(e,t){!e.size||e.size[0]&&e.size[1]||(0,a.vU)("Wordcloud size dimensions must be non-zero.");const n=e.modified();if(!(n||t.changed(t.ADD_REM)||y.some((function(n){const i=e[n];return(0,a.mf)(i)&&t.modified(i.fields)}))))return;const i=t.materialize(t.SOURCE).source,r=this.value,u=e.as||g;let l,f=e.fontSize||14;if((0,a.mf)(f)?l=e.fontSizeRange:f=(0,a.a9)(f),l){const e=f,t=(0,o.bA)("sqrt")().domain((0,a.We)(i,e)).range(l);f=n=>t(e(n))}i.forEach((e=>{e[u[0]]=NaN,e[u[1]]=NaN,e[u[3]]=0}));const c=r.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(f).random(s.MX).layout(),d=r.size(),h=d[0]>>1,p=d[1]>>1,m=c.length;for(let e,t,n=0;n<m;++n)e=c[n],t=e.datum,t[u[0]]=e.x+h,t[u[1]]=e.y+p,t[u[2]]=e.font,t[u[3]]=e.size,t[u[4]]=e.style,t[u[5]]=e.weight,t[u[6]]=e.rotate;return t.reflow(n).modifies(u)}})},96240:(e,t,n)=>{"use strict";n.d(t,{kJL:()=>i.kJ,Kn2:()=>i.Kn,HD0:()=>i.HD,iLE:()=>i.iL});var i=n(54374),r=n(1015),a=n(95273),o=n(34496),s=n(18622),u=n(63816),l=n(37738),f=n(99863),c=n(26925),d=n(37653),h=n(77130),p=n(4742),m=n(58906);n(92589),n(46283),n(65516),n(40801),n(2891),n(63792),n(6771),n(57326),n(40013),n(11673),n(58168),n(52865),n(13775),(0,i.l7)(r.Lo,a,o,s,u,l,c,f,d,h,p,m)},91595:(e,t,n)=>{"use strict";n.d(t,{h9:()=>r,gJ:()=>a,yD:()=>o});var i=7.5625;function r(e){return 1-a(1-e)}function a(e){return(e=+e)<.36363636363636365?i*e*e:e<.7272727272727273?i*(e-=.5454545454545454)*e+.75:e<.9090909090909091?i*(e-=.8181818181818182)*e+.9375:i*(e-=.9545454545454546)*e+.984375}function o(e){return((e*=2)<=1?1-a(1-e):a(e-1)+1)/2}},8081:(e,t,n)=>{"use strict";function i(e){return 1-Math.sqrt(1-e*e)}function r(e){return Math.sqrt(1- --e*e)}function a(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}n.d(t,{rf:()=>i,v2:()=>r,WE:()=>a})},62165:(e,t,n)=>{"use strict";function i(e){return e*e*e}function r(e){return--e*e*e+1}function a(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}n.d(t,{yD:()=>i,_e:()=>r,tw:()=>a})},99851:(e,t,n)=>{"use strict";n.d(t,{oP:()=>r,M4:()=>a,Oo:()=>o});var i=n(45837);function r(e){return(0,i.N)(1-+e)}function a(e){return 1-(0,i.N)(e)}function o(e){return((e*=2)<=1?(0,i.N)(1-e):2-(0,i.N)(e-1))/2}},51103:(e,t,n)=>{"use strict";n.d(t,{G:()=>i});const i=e=>+e},45837:(e,t,n)=>{"use strict";function i(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}n.d(t,{N:()=>i})},30732:(e,t,n)=>{"use strict";function i(e){return e*e}function r(e){return e*(2-e)}function a(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}n.d(t,{Kl:()=>i,u4:()=>r,U2:()=>a})},78081:(e,t,n)=>{"use strict";n.d(t,{yx:()=>a,Dh:()=>o,xU:()=>s});var i=Math.PI,r=i/2;function a(e){return 1==+e?1:1-Math.cos(e*r)}function o(e){return Math.sin(e*r)}function s(e){return(1-Math.cos(i*e))/2}},93743:e=>{"use strict";e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","title":"Vega Visualization Specification Language","definitions":{"autosize":{"oneOf":[{"enum":["pad","fit","fit-x","fit-y","none"],"default":"pad"},{"type":"object","properties":{"type":{"enum":["pad","fit","fit-x","fit-y","none"],"default":"pad"},"resize":{"type":"boolean"},"contains":{"enum":["content","padding"]}},"required":["type"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"axis":{"type":"object","properties":{"orient":{"oneOf":[{"enum":["top","bottom","left","right"]},{"$ref":"#/definitions/signalRef"}]},"scale":{"type":"string"},"format":{"oneOf":[{"type":"string"},{"type":"object","properties":{"year":{"type":"string"},"quarter":{"type":"string"},"month":{"type":"string"},"date":{"type":"string"},"week":{"type":"string"},"day":{"type":"string"},"hours":{"type":"string"},"minutes":{"type":"string"},"seconds":{"type":"string"},"milliseconds":{"type":"string"}},"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"formatType":{"oneOf":[{"enum":["number","time","utc"]},{"$ref":"#/definitions/signalRef"}]},"minExtent":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"maxExtent":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"position":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"bandPosition":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"translate":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"values":{"$ref":"#/definitions/arrayOrSignal"},"zindex":{"type":"number"},"aria":{"type":"boolean"},"description":{"type":"string"},"title":{"$ref":"#/definitions/textOrSignal"},"titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"titleAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/definitions/alignValue"}]},"titleAnchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/definitions/anchorValue"}]},"titleAngle":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"titleX":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"titleY":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"titleBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/definitions/baselineValue"}]},"titleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"titleFont":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"titleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"titleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"titleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/definitions/fontWeightValue"}]},"titleLimit":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"titleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"titleOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"domain":{"type":"boolean"},"domainCap":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"domainColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"domainDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/definitions/arrayValue"}]},"domainDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"domainOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"domainWidth":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"ticks":{"type":"boolean"},"tickBand":{"$ref":"#/definitions/tickBand"},"tickCap":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"tickColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"tickDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/definitions/arrayValue"}]},"tickDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"tickOffset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"tickOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"tickRound":{"oneOf":[{"type":"boolean"},{"$ref":"#/definitions/booleanValue"}]},"tickSize":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"tickWidth":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"tickCount":{"$ref":"#/definitions/tickCount"},"tickExtra":{"$ref":"#/definitions/booleanOrSignal"},"tickMinStep":{"$ref":"#/definitions/numberOrSignal"},"grid":{"type":"boolean"},"gridScale":{"type":"string"},"gridCap":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"gridColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"gridDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/definitions/arrayValue"}]},"gridDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"gridOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"gridWidth":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labels":{"type":"boolean"},"labelAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/definitions/alignValue"}]},"labelBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/definitions/baselineValue"}]},"labelBound":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"labelFlush":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"labelFlushOffset":{"$ref":"#/definitions/numberOrSignal"},"labelOverlap":{"$ref":"#/definitions/labelOverlap"},"labelAngle":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labelColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"labelFont":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"labelFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labelFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/definitions/fontWeightValue"}]},"labelFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"labelLimit":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labelLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labelOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labelOffset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labelPadding":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labelSeparation":{"$ref":"#/definitions/numberOrSignal"},"encode":{"type":"object","properties":{"axis":{"$ref":"#/definitions/guideEncode"},"ticks":{"$ref":"#/definitions/guideEncode"},"labels":{"$ref":"#/definitions/guideEncode"},"title":{"$ref":"#/definitions/guideEncode"},"grid":{"$ref":"#/definitions/guideEncode"},"domain":{"$ref":"#/definitions/guideEncode"}},"additionalProperties":false}},"required":["orient","scale"],"additionalProperties":false},"labelOverlap":{"oneOf":[{"type":"boolean"},{"enum":["parity","greedy"]},{"$ref":"#/definitions/signalRef"}]},"tickBand":{"oneOf":[{"enum":["center","extent"]},{"$ref":"#/definitions/signalRef"}]},"tickCount":{"oneOf":[{"type":"number"},{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"interval":{"oneOf":[{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#/definitions/signalRef"}]},"step":{"$ref":"#/definitions/numberOrSignal"}},"required":["interval"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"background":{"$ref":"#/definitions/stringOrSignal"},"bind":{"oneOf":[{"type":"object","properties":{"input":{"enum":["checkbox"]},"element":{"$ref":"#/definitions/element"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":false},{"type":"object","properties":{"input":{"enum":["radio","select"]},"element":{"$ref":"#/definitions/element"},"options":{"type":"array"},"labels":{"type":"array","items":{"type":"string"}},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input","options"],"additionalProperties":false},{"type":"object","properties":{"input":{"enum":["range"]},"element":{"$ref":"#/definitions/element"},"min":{"type":"number"},"max":{"type":"number"},"step":{"type":"number"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":false},{"type":"object","properties":{"input":{"not":{"enum":["checkbox","radio","range","select"]}},"element":{"$ref":"#/definitions/element"},"debounce":{"type":"number"},"name":{"type":"string"}},"required":["input"],"additionalProperties":true},{"type":"object","properties":{"element":{"$ref":"#/definitions/element"},"event":{"type":"string"},"debounce":{"type":"number"}},"required":["element"],"additionalProperties":false}]},"element":{"type":"string"},"data":{"oneOf":[{"type":"object","properties":{"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/definitions/transform"}},"on":{"$ref":"#/definitions/onTrigger"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"source":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"},"minItems":1}]},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/definitions/transform"}},"on":{"$ref":"#/definitions/onTrigger"}},"required":["source","name"],"additionalProperties":false},{"type":"object","properties":{"url":{"$ref":"#/definitions/stringOrSignal"},"format":{"oneOf":[{"anyOf":[{"type":"object","properties":{"type":{"$ref":"#/definitions/stringOrSignal"},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/definitions/signalRef"}]}}},{"type":"object","properties":{"type":{"enum":["json"]},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/definitions/signalRef"}]},"property":{"$ref":"#/definitions/stringOrSignal"},"copy":{"$ref":"#/definitions/booleanOrSignal"}},"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["csv","tsv"]},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/definitions/signalRef"}]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["dsv"]},"delimiter":{"type":"string"},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/definitions/signalRef"}]}},"required":["type","delimiter"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"type":{"enum":["topojson"]},"feature":{"$ref":"#/definitions/stringOrSignal"},"property":{"$ref":"#/definitions/stringOrSignal"}},"required":["type","feature"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["topojson"]},"mesh":{"$ref":"#/definitions/stringOrSignal"},"property":{"$ref":"#/definitions/stringOrSignal"},"filter":{"enum":["interior","exterior",null]}},"required":["type","mesh"],"additionalProperties":false}]}]},{"$ref":"#/definitions/signalRef"}]},"async":{"$ref":"#/definitions/booleanOrSignal"},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/definitions/transform"}},"on":{"$ref":"#/definitions/onTrigger"}},"required":["url","name"],"additionalProperties":false},{"type":"object","properties":{"values":{"oneOf":[{},{"$ref":"#/definitions/signalRef"}]},"format":{"oneOf":[{"anyOf":[{"type":"object","properties":{"type":{"$ref":"#/definitions/stringOrSignal"},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/definitions/signalRef"}]}}},{"type":"object","properties":{"type":{"enum":["json"]},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/definitions/signalRef"}]},"property":{"$ref":"#/definitions/stringOrSignal"},"copy":{"$ref":"#/definitions/booleanOrSignal"}},"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["csv","tsv"]},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/definitions/signalRef"}]}},"required":["type"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["dsv"]},"delimiter":{"type":"string"},"header":{"type":"array","items":{"type":"string"}},"parse":{"oneOf":[{"enum":["auto"]},{"type":"object","properties":{},"additionalProperties":{"oneOf":[{"enum":["boolean","number","date","string"]},{"type":"string","pattern":"^(date|utc):.*$"}]}},{"$ref":"#/definitions/signalRef"}]}},"required":["type","delimiter"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"type":{"enum":["topojson"]},"feature":{"$ref":"#/definitions/stringOrSignal"},"property":{"$ref":"#/definitions/stringOrSignal"}},"required":["type","feature"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["topojson"]},"mesh":{"$ref":"#/definitions/stringOrSignal"},"property":{"$ref":"#/definitions/stringOrSignal"},"filter":{"enum":["interior","exterior",null]}},"required":["type","mesh"],"additionalProperties":false}]}]},{"$ref":"#/definitions/signalRef"}]},"async":{"$ref":"#/definitions/booleanOrSignal"},"name":{"type":"string"},"transform":{"type":"array","items":{"$ref":"#/definitions/transform"}},"on":{"$ref":"#/definitions/onTrigger"}},"required":["values","name"],"additionalProperties":false}]},"paramField":{"type":"object","properties":{"field":{"type":"string"},"as":{"type":"string"}},"required":["field"],"additionalProperties":false},"rule":{"type":"object","properties":{"test":{"type":"string"}}},"encodeEntry":{"type":"object","properties":{"x":{"$ref":"#/definitions/numberValue"},"x2":{"$ref":"#/definitions/numberValue"},"xc":{"$ref":"#/definitions/numberValue"},"width":{"$ref":"#/definitions/numberValue"},"y":{"$ref":"#/definitions/numberValue"},"y2":{"$ref":"#/definitions/numberValue"},"yc":{"$ref":"#/definitions/numberValue"},"height":{"$ref":"#/definitions/numberValue"},"opacity":{"$ref":"#/definitions/numberValue"},"fill":{"$ref":"#/definitions/colorValue"},"fillOpacity":{"$ref":"#/definitions/numberValue"},"stroke":{"$ref":"#/definitions/colorValue"},"strokeOpacity":{"$ref":"#/definitions/numberValue"},"strokeWidth":{"$ref":"#/definitions/numberValue"},"strokeCap":{"$ref":"#/definitions/strokeCapValue"},"strokeDash":{"$ref":"#/definitions/arrayValue"},"strokeDashOffset":{"$ref":"#/definitions/numberValue"},"strokeJoin":{"$ref":"#/definitions/strokeJoinValue"},"strokeMiterLimit":{"$ref":"#/definitions/numberValue"},"blend":{"$ref":"#/definitions/blendValue"},"cursor":{"$ref":"#/definitions/stringValue"},"tooltip":{"$ref":"#/definitions/anyValue"},"zindex":{"$ref":"#/definitions/numberValue"},"description":{"$ref":"#/definitions/stringValue"},"aria":{"$ref":"#/definitions/booleanValue"},"ariaRole":{"$ref":"#/definitions/stringValue"},"ariaRoleDescription":{"$ref":"#/definitions/stringValue"},"clip":{"$ref":"#/definitions/booleanValue"},"strokeForeground":{"$ref":"#/definitions/booleanValue"},"strokeOffset":{"$ref":"#/definitions/numberValue"},"cornerRadius":{"$ref":"#/definitions/numberValue"},"cornerRadiusTopLeft":{"$ref":"#/definitions/numberValue"},"cornerRadiusTopRight":{"$ref":"#/definitions/numberValue"},"cornerRadiusBottomRight":{"$ref":"#/definitions/numberValue"},"cornerRadiusBottomLeft":{"$ref":"#/definitions/numberValue"},"angle":{"$ref":"#/definitions/numberValue"},"size":{"$ref":"#/definitions/numberValue"},"shape":{"$ref":"#/definitions/stringValue"},"path":{"$ref":"#/definitions/stringValue"},"scaleX":{"$ref":"#/definitions/numberValue"},"scaleY":{"$ref":"#/definitions/numberValue"},"innerRadius":{"$ref":"#/definitions/numberValue"},"outerRadius":{"$ref":"#/definitions/numberValue"},"startAngle":{"$ref":"#/definitions/numberValue"},"endAngle":{"$ref":"#/definitions/numberValue"},"padAngle":{"$ref":"#/definitions/numberValue"},"interpolate":{"$ref":"#/definitions/stringValue"},"tension":{"$ref":"#/definitions/numberValue"},"orient":{"$ref":"#/definitions/directionValue"},"defined":{"$ref":"#/definitions/booleanValue"},"url":{"$ref":"#/definitions/stringValue"},"align":{"$ref":"#/definitions/alignValue"},"baseline":{"$ref":"#/definitions/baselineValue"},"aspect":{"$ref":"#/definitions/booleanValue"},"smooth":{"$ref":"#/definitions/booleanValue"},"text":{"$ref":"#/definitions/textValue"},"dir":{"$ref":"#/definitions/stringValue"},"ellipsis":{"$ref":"#/definitions/stringValue"},"limit":{"$ref":"#/definitions/numberValue"},"lineBreak":{"$ref":"#/definitions/stringValue"},"lineHeight":{"$ref":"#/definitions/numberValue"},"dx":{"$ref":"#/definitions/numberValue"},"dy":{"$ref":"#/definitions/numberValue"},"radius":{"$ref":"#/definitions/numberValue"},"theta":{"$ref":"#/definitions/numberValue"},"font":{"$ref":"#/definitions/stringValue"},"fontSize":{"$ref":"#/definitions/numberValue"},"fontWeight":{"$ref":"#/definitions/fontWeightValue"},"fontStyle":{"$ref":"#/definitions/stringValue"}},"additionalProperties":true},"encode":{"type":"object","additionalProperties":false,"patternProperties":{"^.+$":{"$ref":"#/definitions/encodeEntry"}}},"field":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"datum":{"$ref":"#/definitions/field"}},"required":["datum"],"additionalProperties":false},{"type":"object","properties":{"group":{"$ref":"#/definitions/field"},"level":{"type":"number"}},"required":["group"],"additionalProperties":false},{"type":"object","properties":{"parent":{"$ref":"#/definitions/field"},"level":{"type":"number"}},"required":["parent"],"additionalProperties":false}]},"stringModifiers":{"type":"object","properties":{"scale":{"$ref":"#/definitions/field"}}},"numberModifiers":{"type":"object","properties":{"exponent":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"mult":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"round":{"type":"boolean","default":false},"scale":{"$ref":"#/definitions/field"},"band":{"oneOf":[{"type":"number"},{"type":"boolean"}]},"extra":{"type":"boolean"}}},"anyValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"blendValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":[null,"multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":[null,"multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"numberValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"type":"number"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/numberModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"type":"number"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"stringValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"type":"string"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"textValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"booleanValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"type":"boolean"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"type":"boolean"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"arrayValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"type":"array"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"type":"array"}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"fontWeightValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"anchorValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["start","middle","end"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["start","middle","end"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"alignValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["left","right","center"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["left","right","center"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"baselineValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["top","middle","bottom","alphabetic"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"directionValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["horizontal","vertical"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"orientValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["left","right","top","bottom"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["left","right","top","bottom"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"strokeCapValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["butt","round","square"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["butt","round","square"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"strokeJoinValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["miter","round","bevel"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]}},{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"enum":["miter","round","bevel"]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]}]},"baseColorValue":{"oneOf":[{"allOf":[{"$ref":"#/definitions/stringModifiers"},{"anyOf":[{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{"oneOf":[{"type":"string"},{"type":"null"}]}},"required":["value"]},{"type":"object","properties":{"field":{"$ref":"#/definitions/field"}},"required":["field"]},{"type":"object","properties":{"range":{"oneOf":[{"type":"number"},{"type":"boolean"}]}},"required":["range"]}]},{"type":"object","required":["scale","value"]},{"type":"object","required":["scale","band"]},{"type":"object","required":["offset"]}]}]},{"type":"object","properties":{"value":{"$ref":"#/definitions/linearGradient"}},"required":["value"],"additionalProperties":false},{"type":"object","properties":{"value":{"$ref":"#/definitions/radialGradient"}},"required":["value"],"additionalProperties":false},{"type":"object","properties":{"gradient":{"$ref":"#/definitions/field"},"start":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"stop":{"type":"array","items":{"type":"number"},"minItems":2,"maxItems":2},"count":{"type":"number"}},"required":["gradient"],"additionalProperties":false},{"type":"object","properties":{"color":{"oneOf":[{"$ref":"#/definitions/colorRGB"},{"$ref":"#/definitions/colorHSL"},{"$ref":"#/definitions/colorLAB"},{"$ref":"#/definitions/colorHCL"}]}},"required":["color"],"additionalProperties":false}]},"colorRGB":{"type":"object","properties":{"r":{"$ref":"#/definitions/numberValue"},"g":{"$ref":"#/definitions/numberValue"},"b":{"$ref":"#/definitions/numberValue"}},"required":["r","g","b"]},"colorHSL":{"type":"object","properties":{"h":{"$ref":"#/definitions/numberValue"},"s":{"$ref":"#/definitions/numberValue"},"l":{"$ref":"#/definitions/numberValue"}},"required":["h","s","l"]},"colorLAB":{"type":"object","properties":{"l":{"$ref":"#/definitions/numberValue"},"a":{"$ref":"#/definitions/numberValue"},"b":{"$ref":"#/definitions/numberValue"}},"required":["l","a","b"]},"colorHCL":{"type":"object","properties":{"h":{"$ref":"#/definitions/numberValue"},"c":{"$ref":"#/definitions/numberValue"},"l":{"$ref":"#/definitions/numberValue"}},"required":["h","c","l"]},"colorValue":{"oneOf":[{"type":"array","items":{"allOf":[{"$ref":"#/definitions/rule"},{"$ref":"#/definitions/baseColorValue"}]}},{"$ref":"#/definitions/baseColorValue"}]},"gradientStops":{"type":"array","items":{"type":"object","properties":{"offset":{"type":"number"},"color":{"type":"string"}},"required":["offset","color"],"additionalProperties":false}},"linearGradient":{"type":"object","properties":{"gradient":{"enum":["linear"]},"id":{"type":"string"},"x1":{"type":"number"},"y1":{"type":"number"},"x2":{"type":"number"},"y2":{"type":"number"},"stops":{"$ref":"#/definitions/gradientStops"}},"required":["gradient","stops"],"additionalProperties":false},"radialGradient":{"type":"object","properties":{"gradient":{"enum":["radial"]},"id":{"type":"string"},"x1":{"type":"number"},"y1":{"type":"number"},"r1":{"type":"number"},"x2":{"type":"number"},"y2":{"type":"number"},"r2":{"type":"number"},"stops":{"$ref":"#/definitions/gradientStops"}},"required":["gradient","stops"],"additionalProperties":false},"expr":{"type":"object","properties":{"expr":{"type":"string"},"as":{"type":"string"}},"required":["expr"]},"exprString":{"type":"string"},"layout":{"oneOf":[{"type":"object","properties":{"align":{"oneOf":[{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/definitions/signalRef"}]},{"type":"object","properties":{"row":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/definitions/signalRef"}]},"column":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/definitions/signalRef"}]}},"additionalProperties":false}]},"bounds":{"oneOf":[{"enum":["full","flush"]},{"$ref":"#/definitions/signalRef"}]},"center":{"oneOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"row":{"$ref":"#/definitions/booleanOrSignal"},"column":{"$ref":"#/definitions/booleanOrSignal"}},"additionalProperties":false}]},"columns":{"$ref":"#/definitions/numberOrSignal"},"padding":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"row":{"$ref":"#/definitions/numberOrSignal"},"column":{"$ref":"#/definitions/numberOrSignal"}},"additionalProperties":false}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"rowHeader":{"$ref":"#/definitions/numberOrSignal"},"rowFooter":{"$ref":"#/definitions/numberOrSignal"},"rowTitle":{"$ref":"#/definitions/numberOrSignal"},"columnHeader":{"$ref":"#/definitions/numberOrSignal"},"columnFooter":{"$ref":"#/definitions/numberOrSignal"},"columnTitle":{"$ref":"#/definitions/numberOrSignal"}},"additionalProperties":false}]},"headerBand":{"oneOf":[{"$ref":"#/definitions/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/definitions/numberOrSignal"},"column":{"$ref":"#/definitions/numberOrSignal"}},"additionalProperties":false}]},"footerBand":{"oneOf":[{"$ref":"#/definitions/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/definitions/numberOrSignal"},"column":{"$ref":"#/definitions/numberOrSignal"}},"additionalProperties":false}]},"titleBand":{"oneOf":[{"$ref":"#/definitions/numberOrSignal"},{"type":"null"},{"type":"object","properties":{"row":{"$ref":"#/definitions/numberOrSignal"},"column":{"$ref":"#/definitions/numberOrSignal"}},"additionalProperties":false}]},"titleAnchor":{"oneOf":[{"oneOf":[{"enum":["start","end"]},{"$ref":"#/definitions/signalRef"}]},{"type":"object","properties":{"row":{"oneOf":[{"enum":["start","end"]},{"$ref":"#/definitions/signalRef"}]},"column":{"oneOf":[{"enum":["start","end"]},{"$ref":"#/definitions/signalRef"}]}},"additionalProperties":false}]}},"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"guideEncode":{"type":"object","properties":{"name":{"type":"string"},"interactive":{"type":"boolean","default":false},"style":{"$ref":"#/definitions/style"}},"additionalProperties":false,"patternProperties":{"^(?!interactive|name|style).+$":{"$ref":"#/definitions/encodeEntry"}}},"legend":{"allOf":[{"type":"object","properties":{"size":{"type":"string"},"shape":{"type":"string"},"fill":{"type":"string"},"stroke":{"type":"string"},"opacity":{"type":"string"},"strokeDash":{"type":"string"},"strokeWidth":{"type":"string"},"type":{"enum":["gradient","symbol"]},"direction":{"enum":["vertical","horizontal"]},"orient":{"oneOf":[{"enum":["none","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],"default":"right"},{"$ref":"#/definitions/signalRef"}]},"tickCount":{"$ref":"#/definitions/tickCount"},"tickMinStep":{"$ref":"#/definitions/numberOrSignal"},"symbolLimit":{"$ref":"#/definitions/numberOrSignal"},"values":{"$ref":"#/definitions/arrayOrSignal"},"zindex":{"type":"number"},"aria":{"type":"boolean"},"description":{"type":"string"},"cornerRadius":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"fillColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"padding":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"strokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"legendX":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"legendY":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"title":{"$ref":"#/definitions/textOrSignal"},"titleAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/definitions/alignValue"}]},"titleAnchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/definitions/anchorValue"}]},"titleBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/definitions/baselineValue"}]},"titleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"titleFont":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"titleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"titleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"titleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/definitions/fontWeightValue"}]},"titleLimit":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"titleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"titleOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"titleOrient":{"oneOf":[{"enum":["left","right","top","bottom"]},{"$ref":"#/definitions/orientValue"}]},"titlePadding":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"gradientLength":{"$ref":"#/definitions/numberOrSignal"},"gradientOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"gradientStrokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"gradientStrokeWidth":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"gradientThickness":{"$ref":"#/definitions/numberOrSignal"},"clipHeight":{"$ref":"#/definitions/numberOrSignal"},"columns":{"$ref":"#/definitions/numberOrSignal"},"columnPadding":{"$ref":"#/definitions/numberOrSignal"},"rowPadding":{"$ref":"#/definitions/numberOrSignal"},"gridAlign":{"oneOf":[{"enum":["all","each","none"]},{"$ref":"#/definitions/signalRef"}]},"symbolDash":{"oneOf":[{"type":"array","items":{"type":"number"}},{"$ref":"#/definitions/arrayValue"}]},"symbolDashOffset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"symbolFillColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"symbolOffset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"symbolOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"symbolSize":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"symbolStrokeColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"symbolStrokeWidth":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"symbolType":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"format":{"oneOf":[{"type":"string"},{"type":"object","properties":{"year":{"type":"string"},"quarter":{"type":"string"},"month":{"type":"string"},"date":{"type":"string"},"week":{"type":"string"},"day":{"type":"string"},"hours":{"type":"string"},"minutes":{"type":"string"},"seconds":{"type":"string"},"milliseconds":{"type":"string"}},"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"formatType":{"oneOf":[{"enum":["number","time","utc"]},{"$ref":"#/definitions/signalRef"}]},"labelAlign":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/definitions/alignValue"}]},"labelBaseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/definitions/baselineValue"}]},"labelColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"labelFont":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"labelFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labelFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"labelFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/definitions/fontWeightValue"}]},"labelLimit":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labelOffset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labelOpacity":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"labelOverlap":{"$ref":"#/definitions/labelOverlap"},"labelSeparation":{"$ref":"#/definitions/numberOrSignal"},"encode":{"type":"object","properties":{"title":{"$ref":"#/definitions/guideEncode"},"labels":{"$ref":"#/definitions/guideEncode"},"legend":{"$ref":"#/definitions/guideEncode"},"entries":{"$ref":"#/definitions/guideEncode"},"symbols":{"$ref":"#/definitions/guideEncode"},"gradient":{"$ref":"#/definitions/guideEncode"}},"additionalProperties":false}},"additionalProperties":false},{"anyOf":[{"type":"object","required":["size"]},{"type":"object","required":["shape"]},{"type":"object","required":["fill"]},{"type":"object","required":["stroke"]},{"type":"object","required":["opacity"]},{"type":"object","required":["strokeDash"]},{"type":"object","required":["strokeWidth"]}]}]},"compare":{"oneOf":[{"type":"object","properties":{"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/expr"}]},"order":{"$ref":"#/definitions/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/expr"}]}},"order":{"type":"array","items":{"$ref":"#/definitions/sortOrder"}}},"additionalProperties":false}]},"from":{"type":"object","properties":{"data":{"type":"string"}},"additionalProperties":false},"facet":{"type":"object","properties":{"data":{"type":"string"},"facet":{"oneOf":[{"type":"object","properties":{"name":{"type":"string"},"data":{"type":"string"},"field":{"type":"string"}},"required":["name","data","field"],"additionalProperties":false},{"type":"object","properties":{"name":{"type":"string"},"data":{"type":"string"},"groupby":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"aggregate":{"type":"object","properties":{"cross":{"type":"boolean"},"fields":{"type":"array","items":{"type":"string"}},"ops":{"type":"array","items":{"type":"string"}},"as":{"type":"array","items":{"type":"string"}}},"additionalProperties":false}},"required":["name","data","groupby"],"additionalProperties":false}]}},"required":["facet"],"additionalProperties":false},"mark":{"type":"object","properties":{"type":{"$ref":"#/definitions/marktype"},"role":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"aria":{"type":"boolean"},"style":{"$ref":"#/definitions/style"},"key":{"type":"string"},"clip":{"$ref":"#/definitions/markclip"},"sort":{"$ref":"#/definitions/compare"},"interactive":{"$ref":"#/definitions/booleanOrSignal"},"encode":{"$ref":"#/definitions/encode"},"transform":{"type":"array","items":{"$ref":"#/definitions/transformMark"}},"on":{"$ref":"#/definitions/onMarkTrigger"}},"required":["type"]},"markclip":{"oneOf":[{"$ref":"#/definitions/booleanOrSignal"},{"type":"object","properties":{"path":{"$ref":"#/definitions/stringOrSignal"}},"required":["path"],"additionalProperties":false},{"type":"object","properties":{"sphere":{"$ref":"#/definitions/stringOrSignal"}},"required":["sphere"],"additionalProperties":false}]},"markGroup":{"allOf":[{"type":"object","properties":{"type":{"enum":["group"]},"from":{"oneOf":[{"$ref":"#/definitions/from"},{"$ref":"#/definitions/facet"}]}},"required":["type"]},{"$ref":"#/definitions/mark"},{"$ref":"#/definitions/scope"}]},"markVisual":{"allOf":[{"type":"object","properties":{"type":{"not":{"enum":["group"]}},"from":{"$ref":"#/definitions/from"}}},{"$ref":"#/definitions/mark"}]},"style":{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},"marktype":{"type":"string"},"listener":{"oneOf":[{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"scale":{"type":"string"}},"required":["scale"]},{"$ref":"#/definitions/stream"}]},"onEvents":{"type":"array","items":{"allOf":[{"type":"object","properties":{"events":{"oneOf":[{"$ref":"#/definitions/selector"},{"$ref":"#/definitions/listener"},{"type":"array","items":{"$ref":"#/definitions/listener"},"minItems":1}]},"force":{"type":"boolean"}},"required":["events"]},{"oneOf":[{"type":"object","properties":{"encode":{"type":"string"}},"required":["encode"]},{"type":"object","properties":{"update":{"oneOf":[{"$ref":"#/definitions/exprString"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"value":{}},"required":["value"]}]}},"required":["update"]}]}]}},"onTrigger":{"type":"array","items":{"type":"object","properties":{"trigger":{"$ref":"#/definitions/exprString"},"insert":{"$ref":"#/definitions/exprString"},"remove":{"oneOf":[{"type":"boolean"},{"$ref":"#/definitions/exprString"}]},"toggle":{"$ref":"#/definitions/exprString"},"modify":{"$ref":"#/definitions/exprString"},"values":{"$ref":"#/definitions/exprString"}},"required":["trigger"],"additionalProperties":false}},"onMarkTrigger":{"type":"array","items":{"type":"object","properties":{"trigger":{"$ref":"#/definitions/exprString"},"modify":{"$ref":"#/definitions/exprString"},"values":{"$ref":"#/definitions/exprString"}},"required":["trigger"],"additionalProperties":false}},"padding":{"oneOf":[{"type":"number"},{"type":"object","properties":{"top":{"type":"number"},"bottom":{"type":"number"},"left":{"type":"number"},"right":{"type":"number"}},"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"projection":{"type":"object","properties":{"name":{"type":"string"},"type":{"$ref":"#/definitions/stringOrSignal"},"clipAngle":{"$ref":"#/definitions/numberOrSignal"},"clipExtent":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]},"scale":{"$ref":"#/definitions/numberOrSignal"},"translate":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]},"center":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]},"rotate":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":3},{"$ref":"#/definitions/signalRef"}]},"parallels":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]},"precision":{"$ref":"#/definitions/numberOrSignal"},"pointRadius":{"$ref":"#/definitions/numberOrSignal"},"fit":{"oneOf":[{"type":"object"},{"type":"array"}]},"extent":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]},"size":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]}},"required":["name"],"additionalProperties":true},"scale":{"oneOf":[{"type":"object","properties":{"type":{"enum":["identity"]},"nice":{"$ref":"#/definitions/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["ordinal"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"count":{"$ref":"#/definitions/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]}},"required":["scheme"],"additionalProperties":false},{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/definitions/stringOrSignal"},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"field":{"$ref":"#/definitions/stringOrSignal"},"op":{"$ref":"#/definitions/stringOrSignal"},"order":{"$ref":"#/definitions/sortOrder"}},"additionalProperties":false}]}},"required":["data","field"],"additionalProperties":false},{"type":"object","properties":{"data":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/definitions/stringOrSignal"},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/definitions/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/definitions/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/definitions/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["data","fields"],"additionalProperties":false},{"type":"object","properties":{"fields":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/definitions/stringOrSignal"}},"required":["data","field"],"additionalProperties":false},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#/definitions/signalRef"}]},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/definitions/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/definitions/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/definitions/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["fields"],"additionalProperties":false}]},{"$ref":"#/definitions/signalRef"}]},"interpolate":{"$ref":"#/definitions/scaleInterpolate"},"domainImplicit":{"$ref":"#/definitions/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["band"]},"paddingInner":{"$ref":"#/definitions/numberOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"type":"object","properties":{"step":{"$ref":"#/definitions/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"padding":{"$ref":"#/definitions/numberOrSignal"},"paddingOuter":{"$ref":"#/definitions/numberOrSignal"},"align":{"$ref":"#/definitions/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["point"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"type":"object","properties":{"step":{"$ref":"#/definitions/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"padding":{"$ref":"#/definitions/numberOrSignal"},"paddingOuter":{"$ref":"#/definitions/numberOrSignal"},"align":{"$ref":"#/definitions/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["quantize","threshold"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"count":{"$ref":"#/definitions/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"interpolate":{"$ref":"#/definitions/scaleInterpolate"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"zero":{"$ref":"#/definitions/booleanOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["quantile"]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"count":{"$ref":"#/definitions/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"interpolate":{"$ref":"#/definitions/scaleInterpolate"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["bin-ordinal"]},"bins":{"$ref":"#/definitions/scaleBins"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"count":{"$ref":"#/definitions/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"interpolate":{"$ref":"#/definitions/scaleInterpolate"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["time","utc"]},"nice":{"oneOf":[{"type":"boolean"},{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"type":"object","properties":{"interval":{"oneOf":[{"enum":["millisecond","second","minute","hour","day","week","month","year"]},{"$ref":"#/definitions/signalRef"}]},"step":{"$ref":"#/definitions/numberOrSignal"}},"required":["interval"],"additionalProperties":false}]},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"count":{"$ref":"#/definitions/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"bins":{"$ref":"#/definitions/scaleBins"},"interpolate":{"$ref":"#/definitions/scaleInterpolate"},"clamp":{"$ref":"#/definitions/booleanOrSignal"},"padding":{"$ref":"#/definitions/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["linear","sqrt","sequential"]},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"zero":{"$ref":"#/definitions/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"count":{"$ref":"#/definitions/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"bins":{"$ref":"#/definitions/scaleBins"},"interpolate":{"$ref":"#/definitions/scaleInterpolate"},"clamp":{"$ref":"#/definitions/booleanOrSignal"},"padding":{"$ref":"#/definitions/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["log"]},"base":{"$ref":"#/definitions/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"zero":{"$ref":"#/definitions/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"count":{"$ref":"#/definitions/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"bins":{"$ref":"#/definitions/scaleBins"},"interpolate":{"$ref":"#/definitions/scaleInterpolate"},"clamp":{"$ref":"#/definitions/booleanOrSignal"},"padding":{"$ref":"#/definitions/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["pow"]},"exponent":{"$ref":"#/definitions/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"zero":{"$ref":"#/definitions/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"count":{"$ref":"#/definitions/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"bins":{"$ref":"#/definitions/scaleBins"},"interpolate":{"$ref":"#/definitions/scaleInterpolate"},"clamp":{"$ref":"#/definitions/booleanOrSignal"},"padding":{"$ref":"#/definitions/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false},{"type":"object","properties":{"type":{"enum":["symlog"]},"constant":{"$ref":"#/definitions/numberOrSignal"},"nice":{"oneOf":[{"type":"boolean"},{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"zero":{"$ref":"#/definitions/booleanOrSignal"},"range":{"oneOf":[{"enum":["width","height","symbol","category","ordinal","ramp","diverging","heatmap"]},{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"type":"object","properties":{"scheme":{"oneOf":[{"type":"string"},{"type":"array","items":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"count":{"$ref":"#/definitions/numberOrSignal"},"extent":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"},"minItems":2,"maxItems":2},{"$ref":"#/definitions/signalRef"}]}},"required":["scheme"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"bins":{"$ref":"#/definitions/scaleBins"},"interpolate":{"$ref":"#/definitions/scaleInterpolate"},"clamp":{"$ref":"#/definitions/booleanOrSignal"},"padding":{"$ref":"#/definitions/numberOrSignal"},"name":{"type":"string"},"domain":{"oneOf":[{"type":"array","items":{"oneOf":[{"type":"null"},{"type":"boolean"},{"type":"string"},{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}}]}},{"$ref":"#/definitions/scaleData"},{"$ref":"#/definitions/signalRef"}]},"domainMin":{"$ref":"#/definitions/numberOrSignal"},"domainMax":{"$ref":"#/definitions/numberOrSignal"},"domainMid":{"$ref":"#/definitions/numberOrSignal"},"domainRaw":{"oneOf":[{"type":"null"},{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"reverse":{"$ref":"#/definitions/booleanOrSignal"},"round":{"$ref":"#/definitions/booleanOrSignal"}},"required":["type","name"],"additionalProperties":false}]},"scaleField":{"$ref":"#/definitions/stringOrSignal"},"sortOrder":{"oneOf":[{"enum":["ascending","descending"]},{"$ref":"#/definitions/signalRef"}]},"scaleBins":{"oneOf":[{"type":"array","items":{"$ref":"#/definitions/numberOrSignal"}},{"type":"object","properties":{"step":{"$ref":"#/definitions/numberOrSignal"},"start":{"$ref":"#/definitions/numberOrSignal"},"stop":{"$ref":"#/definitions/numberOrSignal"}},"required":["step"],"additionalProperties":false},{"$ref":"#/definitions/signalRef"}]},"scaleInterpolate":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"},{"type":"object","properties":{"type":{"$ref":"#/definitions/stringOrSignal"},"gamma":{"$ref":"#/definitions/numberOrSignal"}},"required":["type"],"additionalProperties":false}]},"scaleData":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/definitions/stringOrSignal"},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"field":{"$ref":"#/definitions/stringOrSignal"},"op":{"$ref":"#/definitions/stringOrSignal"},"order":{"$ref":"#/definitions/sortOrder"}},"additionalProperties":false}]}},"required":["data","field"],"additionalProperties":false},{"type":"object","properties":{"data":{"type":"string"},"fields":{"type":"array","items":{"$ref":"#/definitions/stringOrSignal"},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/definitions/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/definitions/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/definitions/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["data","fields"],"additionalProperties":false},{"type":"object","properties":{"fields":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"data":{"type":"string"},"field":{"$ref":"#/definitions/stringOrSignal"}},"required":["data","field"],"additionalProperties":false},{"type":"array","items":{"oneOf":[{"type":"string"},{"type":"number"},{"type":"boolean"}]}},{"$ref":"#/definitions/signalRef"}]},"minItems":1},"sort":{"oneOf":[{"type":"boolean"},{"type":"object","properties":{"op":{"enum":["count"]},"order":{"$ref":"#/definitions/sortOrder"}},"additionalProperties":false},{"type":"object","properties":{"field":{"$ref":"#/definitions/stringOrSignal"},"op":{"enum":["count","min","max"]},"order":{"$ref":"#/definitions/sortOrder"}},"required":["field","op"],"additionalProperties":false}]}},"required":["fields"],"additionalProperties":false}]},"scope":{"type":"object","properties":{"encode":{"$ref":"#/definitions/encode"},"layout":{"$ref":"#/definitions/layout"},"signals":{"type":"array","items":{"$ref":"#/definitions/signal"}},"data":{"type":"array","items":{"$ref":"#/definitions/data"}},"scales":{"type":"array","items":{"$ref":"#/definitions/scale"}},"projections":{"type":"array","items":{"$ref":"#/definitions/projection"}},"axes":{"type":"array","items":{"$ref":"#/definitions/axis"}},"legends":{"type":"array","items":{"$ref":"#/definitions/legend"}},"title":{"$ref":"#/definitions/title"},"marks":{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/markGroup"},{"$ref":"#/definitions/markVisual"}]}},"usermeta":{"type":"object"}}},"selector":{"type":"string"},"signal":{"oneOf":[{"type":"object","properties":{"name":{"$ref":"#/definitions/signalName"},"description":{"type":"string"},"push":{"enum":["outer"]},"on":{"$ref":"#/definitions/onEvents"}},"required":["name","push"],"additionalProperties":false},{"type":"object","properties":{"name":{"$ref":"#/definitions/signalName"},"description":{"type":"string"},"value":{},"react":{"type":"boolean","default":true},"update":{"$ref":"#/definitions/exprString"},"on":{"$ref":"#/definitions/onEvents"},"bind":{"$ref":"#/definitions/bind"}},"required":["name"],"additionalProperties":false},{"type":"object","properties":{"name":{"$ref":"#/definitions/signalName"},"description":{"type":"string"},"value":{},"init":{"$ref":"#/definitions/exprString"},"on":{"$ref":"#/definitions/onEvents"},"bind":{"$ref":"#/definitions/bind"}},"required":["name","init"],"additionalProperties":false}]},"signalName":{"type":"string","not":{"enum":["parent","datum","event","item"]}},"signalRef":{"type":"object","properties":{"signal":{"type":"string"}},"required":["signal"]},"arrayOrSignal":{"oneOf":[{"type":"array"},{"$ref":"#/definitions/signalRef"}]},"booleanOrSignal":{"oneOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"numberOrSignal":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"stringOrSignal":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"textOrSignal":{"oneOf":[{"oneOf":[{"type":"string"},{"type":"array","items":{"type":"string"}}]},{"$ref":"#/definitions/signalRef"}]},"stream":{"allOf":[{"type":"object","properties":{"between":{"type":"array","items":{"$ref":"#/definitions/stream"},"minItems":2,"maxItems":2},"marktype":{"type":"string"},"markname":{"type":"string"},"filter":{"oneOf":[{"$ref":"#/definitions/exprString"},{"type":"array","items":{"$ref":"#/definitions/exprString"},"minItems":1}]},"throttle":{"type":"number"},"debounce":{"type":"number"},"consume":{"type":"boolean"}}},{"oneOf":[{"type":"object","properties":{"type":{"type":"string"},"source":{"type":"string"}},"required":["type"]},{"type":"object","properties":{"stream":{"$ref":"#/definitions/stream"}},"required":["stream"]},{"type":"object","properties":{"merge":{"type":"array","items":{"$ref":"#/definitions/stream"},"minItems":1}},"required":["merge"]}]}]},"title":{"oneOf":[{"type":"string"},{"type":"object","properties":{"orient":{"oneOf":[{"enum":["none","left","right","top","bottom"],"default":"top"},{"$ref":"#/definitions/signalRef"}]},"anchor":{"oneOf":[{"enum":[null,"start","middle","end"]},{"$ref":"#/definitions/anchorValue"}]},"frame":{"oneOf":[{"enum":["group","bounds"]},{"$ref":"#/definitions/stringValue"}]},"offset":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"aria":{"type":"boolean"},"limit":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"zindex":{"type":"number"},"align":{"oneOf":[{"enum":["left","right","center"]},{"$ref":"#/definitions/alignValue"}]},"angle":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"baseline":{"oneOf":[{"enum":["top","middle","bottom","alphabetic","line-top","line-bottom"]},{"$ref":"#/definitions/baselineValue"}]},"dx":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"dy":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"text":{"$ref":"#/definitions/textOrSignal"},"color":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"font":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"fontSize":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"fontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"fontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/definitions/fontWeightValue"}]},"lineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"subtitle":{"$ref":"#/definitions/textOrSignal"},"subtitleColor":{"oneOf":[{"type":"null"},{"type":"string"},{"$ref":"#/definitions/colorValue"}]},"subtitleFont":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"subtitleFontSize":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"subtitleFontStyle":{"oneOf":[{"type":"string"},{"$ref":"#/definitions/stringValue"}]},"subtitleFontWeight":{"oneOf":[{"enum":[null,"normal","bold","lighter","bolder","100","200","300","400","500","600","700","800","900",100,200,300,400,500,600,700,800,900]},{"$ref":"#/definitions/fontWeightValue"}]},"subtitleLineHeight":{"oneOf":[{"type":"number"},{"$ref":"#/definitions/numberValue"}]},"subtitlePadding":{"$ref":"#/definitions/numberOrSignal"},"encode":{"anyOf":[{"type":"object","additionalProperties":false,"patternProperties":{"^(?!interactive|name|style).+$":{"$ref":"#/definitions/encodeEntry"}}},{"type":"object","properties":{"group":{"$ref":"#/definitions/guideEncode"},"title":{"$ref":"#/definitions/guideEncode"},"subtitle":{"$ref":"#/definitions/guideEncode"}},"additionalProperties":false}]},"name":{"type":"string"},"interactive":{"type":"boolean"},"style":{"$ref":"#/definitions/style"}},"additionalProperties":false}]},"transform":{"oneOf":[{"$ref":"#/definitions/crossfilterTransform"},{"$ref":"#/definitions/resolvefilterTransform"},{"$ref":"#/definitions/linkpathTransform"},{"$ref":"#/definitions/pieTransform"},{"$ref":"#/definitions/stackTransform"},{"$ref":"#/definitions/forceTransform"},{"$ref":"#/definitions/contourTransform"},{"$ref":"#/definitions/geojsonTransform"},{"$ref":"#/definitions/geopathTransform"},{"$ref":"#/definitions/geopointTransform"},{"$ref":"#/definitions/geoshapeTransform"},{"$ref":"#/definitions/graticuleTransform"},{"$ref":"#/definitions/heatmapTransform"},{"$ref":"#/definitions/isocontourTransform"},{"$ref":"#/definitions/kde2dTransform"},{"$ref":"#/definitions/nestTransform"},{"$ref":"#/definitions/packTransform"},{"$ref":"#/definitions/partitionTransform"},{"$ref":"#/definitions/stratifyTransform"},{"$ref":"#/definitions/treeTransform"},{"$ref":"#/definitions/treelinksTransform"},{"$ref":"#/definitions/treemapTransform"},{"$ref":"#/definitions/labelTransform"},{"$ref":"#/definitions/loessTransform"},{"$ref":"#/definitions/regressionTransform"},{"$ref":"#/definitions/aggregateTransform"},{"$ref":"#/definitions/binTransform"},{"$ref":"#/definitions/collectTransform"},{"$ref":"#/definitions/countpatternTransform"},{"$ref":"#/definitions/crossTransform"},{"$ref":"#/definitions/densityTransform"},{"$ref":"#/definitions/dotbinTransform"},{"$ref":"#/definitions/extentTransform"},{"$ref":"#/definitions/filterTransform"},{"$ref":"#/definitions/flattenTransform"},{"$ref":"#/definitions/foldTransform"},{"$ref":"#/definitions/formulaTransform"},{"$ref":"#/definitions/imputeTransform"},{"$ref":"#/definitions/joinaggregateTransform"},{"$ref":"#/definitions/kdeTransform"},{"$ref":"#/definitions/lookupTransform"},{"$ref":"#/definitions/pivotTransform"},{"$ref":"#/definitions/projectTransform"},{"$ref":"#/definitions/quantileTransform"},{"$ref":"#/definitions/sampleTransform"},{"$ref":"#/definitions/sequenceTransform"},{"$ref":"#/definitions/timeunitTransform"},{"$ref":"#/definitions/windowTransform"},{"$ref":"#/definitions/identifierTransform"},{"$ref":"#/definitions/voronoiTransform"},{"$ref":"#/definitions/wordcloudTransform"}]},"transformMark":{"oneOf":[{"$ref":"#/definitions/crossfilterTransform"},{"$ref":"#/definitions/resolvefilterTransform"},{"$ref":"#/definitions/linkpathTransform"},{"$ref":"#/definitions/pieTransform"},{"$ref":"#/definitions/stackTransform"},{"$ref":"#/definitions/forceTransform"},{"$ref":"#/definitions/geojsonTransform"},{"$ref":"#/definitions/geopathTransform"},{"$ref":"#/definitions/geopointTransform"},{"$ref":"#/definitions/geoshapeTransform"},{"$ref":"#/definitions/heatmapTransform"},{"$ref":"#/definitions/packTransform"},{"$ref":"#/definitions/partitionTransform"},{"$ref":"#/definitions/stratifyTransform"},{"$ref":"#/definitions/treeTransform"},{"$ref":"#/definitions/treemapTransform"},{"$ref":"#/definitions/labelTransform"},{"$ref":"#/definitions/binTransform"},{"$ref":"#/definitions/collectTransform"},{"$ref":"#/definitions/dotbinTransform"},{"$ref":"#/definitions/extentTransform"},{"$ref":"#/definitions/formulaTransform"},{"$ref":"#/definitions/joinaggregateTransform"},{"$ref":"#/definitions/lookupTransform"},{"$ref":"#/definitions/sampleTransform"},{"$ref":"#/definitions/timeunitTransform"},{"$ref":"#/definitions/windowTransform"},{"$ref":"#/definitions/identifierTransform"},{"$ref":"#/definitions/voronoiTransform"},{"$ref":"#/definitions/wordcloudTransform"}]},"crossfilterTransform":{"type":"object","properties":{"type":{"enum":["crossfilter"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"query":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/definitions/signalRef"}]}},"required":["type","fields","query"],"additionalProperties":false},"resolvefilterTransform":{"type":"object","properties":{"type":{"enum":["resolvefilter"]},"signal":{"type":"string"},"ignore":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"filter":{}},"required":["type","ignore","filter"],"additionalProperties":false},"linkpathTransform":{"type":"object","properties":{"type":{"enum":["linkpath"]},"signal":{"type":"string"},"sourceX":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}],"default":"source.x"},"sourceY":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}],"default":"source.y"},"targetX":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}],"default":"target.x"},"targetY":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}],"default":"target.y"},"orient":{"anyOf":[{"enum":["horizontal","vertical","radial"]},{"$ref":"#/definitions/signalRef"}],"default":"vertical"},"shape":{"anyOf":[{"enum":["line","arc","curve","diagonal","orthogonal"]},{"$ref":"#/definitions/signalRef"}],"default":"line"},"require":{"$ref":"#/definitions/signalRef"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"path"}},"required":["type"],"additionalProperties":false},"pieTransform":{"type":"object","properties":{"type":{"enum":["pie"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"startAngle":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"endAngle":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":6.283185307179586},"sort":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":["startAngle","endAngle"]}},"required":["type"],"additionalProperties":false},"stackTransform":{"type":"object","properties":{"type":{"enum":["stack"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"sort":{"$ref":"#/definitions/compare"},"offset":{"anyOf":[{"enum":["zero","center","normalize"]},{"$ref":"#/definitions/signalRef"}],"default":"zero"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":["y0","y1"]}},"required":["type"],"additionalProperties":false},"forceTransform":{"type":"object","properties":{"type":{"enum":["force"]},"signal":{"type":"string"},"static":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"restart":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":300},"alpha":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":1},"alphaMin":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":0.001},"alphaTarget":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"velocityDecay":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":0.4},"forces":{"type":"array","items":{"oneOf":[{"type":"object","properties":{"force":{"enum":["center"]},"x":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"y":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["collide"]},"radius":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":0.7},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":1}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["nbody"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":-30},"theta":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":0.9},"distanceMin":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":1},"distanceMax":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["link"]},"links":{"type":"string"},"id":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"distance":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}],"default":30},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}]},"iterations":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":1}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["x"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":0.1},"x":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},"required":["force"],"additionalProperties":false},{"type":"object","properties":{"force":{"enum":["y"]},"strength":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":0.1},"y":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},"required":["force"],"additionalProperties":false}]}},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}],"default":["x","y","vx","vy"]}},"required":["type"],"additionalProperties":false},"contourTransform":{"type":"object","properties":{"type":{"enum":["contour"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"values":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"x":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"y":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"weight":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"cellSize":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"count":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"thresholds":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}],"default":true}},"required":["type","size"],"additionalProperties":false},"geojsonTransform":{"type":"object","properties":{"type":{"enum":["geojson"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"geojson":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},"required":["type"],"additionalProperties":false},"geopathTransform":{"type":"object","properties":{"type":{"enum":["geopath"]},"signal":{"type":"string"},"projection":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"path"}},"required":["type"],"additionalProperties":false},"geopointTransform":{"type":"object","properties":{"type":{"enum":["geopoint"]},"signal":{"type":"string"},"projection":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":["x","y"]}},"required":["type","projection","fields"],"additionalProperties":false},"geoshapeTransform":{"type":"object","properties":{"type":{"enum":["geoshape"]},"signal":{"type":"string"},"projection":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}],"default":"datum"},"pointRadius":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"shape"}},"required":["type"],"additionalProperties":false},"graticuleTransform":{"type":"object","properties":{"type":{"enum":["graticule"]},"signal":{"type":"string"},"extent":{"oneOf":[{"type":"array","items":{},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"extentMajor":{"oneOf":[{"type":"array","items":{},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"extentMinor":{"oneOf":[{"type":"array","items":{},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"step":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"stepMajor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":[90,360]},"stepMinor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":[10,10]},"precision":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":2.5}},"required":["type"],"additionalProperties":false},"heatmapTransform":{"type":"object","properties":{"type":{"enum":["heatmap"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"color":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}]},"opacity":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}]},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/definitions/signalRef"}],"default":"independent"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"image"}},"required":["type"],"additionalProperties":false},"isocontourTransform":{"type":"object","properties":{"type":{"enum":["isocontour"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"thresholds":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"levels":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/definitions/signalRef"}],"default":"independent"},"zero":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}],"default":true},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}],"default":true},"scale":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}]},"translate":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}]}},{"$ref":"#/definitions/signalRef"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"},{"type":"null"}],"default":"contour"}},"required":["type"],"additionalProperties":false},"kde2dTransform":{"type":"object","properties":{"type":{"enum":["kde2d"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"x":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"y":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"weight":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"cellSize":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"bandwidth":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"counts":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"grid"}},"required":["type","size","x","y"],"additionalProperties":false},"nestTransform":{"type":"object","properties":{"type":{"enum":["nest"]},"signal":{"type":"string"},"keys":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"generate":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]}},"required":["type"],"additionalProperties":false},"packTransform":{"type":"object","properties":{"type":{"enum":["pack"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"sort":{"$ref":"#/definitions/compare"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"radius":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":5,"minItems":5},{"$ref":"#/definitions/signalRef"}],"default":["x","y","r","depth","children"]}},"required":["type"],"additionalProperties":false},"partitionTransform":{"type":"object","properties":{"type":{"enum":["partition"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"sort":{"$ref":"#/definitions/compare"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"round":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":6,"minItems":6},{"$ref":"#/definitions/signalRef"}],"default":["x0","y0","x1","y1","depth","children"]}},"required":["type"],"additionalProperties":false},"stratifyTransform":{"type":"object","properties":{"type":{"enum":["stratify"]},"signal":{"type":"string"},"key":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"parentKey":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},"required":["type","key","parentKey"],"additionalProperties":false},"treeTransform":{"type":"object","properties":{"type":{"enum":["tree"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"sort":{"$ref":"#/definitions/compare"},"method":{"anyOf":[{"enum":["tidy","cluster"]},{"$ref":"#/definitions/signalRef"}],"default":"tidy"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"nodeSize":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"separation":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}],"default":true},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":4,"minItems":4},{"$ref":"#/definitions/signalRef"}],"default":["x","y","depth","children"]}},"required":["type"],"additionalProperties":false},"treelinksTransform":{"type":"object","properties":{"type":{"enum":["treelinks"]},"signal":{"type":"string"}},"required":["type"],"additionalProperties":false},"treemapTransform":{"type":"object","properties":{"type":{"enum":["treemap"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"sort":{"$ref":"#/definitions/compare"},"method":{"anyOf":[{"enum":["squarify","resquarify","binary","dice","slice","slicedice"]},{"$ref":"#/definitions/signalRef"}],"default":"squarify"},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"paddingInner":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"paddingOuter":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"paddingTop":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"paddingRight":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"paddingBottom":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"paddingLeft":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"ratio":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":1.618033988749895},"round":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":6,"minItems":6},{"$ref":"#/definitions/signalRef"}],"default":["x0","y0","x1","y1","depth","children"]}},"required":["type"],"additionalProperties":false},"labelTransform":{"type":"object","properties":{"type":{"enum":["label"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"sort":{"$ref":"#/definitions/compare"},"anchor":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}],"default":["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"]},"offset":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}],"default":[1]},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"null"}]},"lineAnchor":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"end"},"markIndex":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"avoidBaseMark":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}],"default":true},"avoidMarks":{"oneOf":[{"type":"array","items":{"type":"string"}},{"$ref":"#/definitions/signalRef"}]},"method":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"naive"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":5,"minItems":5},{"$ref":"#/definitions/signalRef"}],"default":["x","y","opacity","align","baseline"]}},"required":["type","size"],"additionalProperties":false},"loessTransform":{"type":"object","properties":{"type":{"enum":["loess"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"y":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":0.3},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]}},"required":["type","x","y"],"additionalProperties":false},"regressionTransform":{"type":"object","properties":{"type":{"enum":["regression"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"y":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"method":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"linear"},"order":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":3},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"params":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]}},"required":["type","x","y"],"additionalProperties":false},"aggregateTransform":{"type":"object","properties":{"type":{"enum":["aggregate"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"},{"type":"null"}]}},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"},{"type":"null"}]}},{"$ref":"#/definitions/signalRef"}]},"drop":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}],"default":true},"cross":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"key":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},"required":["type"],"additionalProperties":false},"binTransform":{"type":"object","properties":{"type":{"enum":["bin"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"interval":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}],"default":true},"anchor":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxbins":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":20},"base":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":10},"divide":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}],"default":[5,2]},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"span":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"steps":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"minstep":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"nice":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}],"default":true},"name":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":["bin0","bin1"]}},"required":["type","field","extent"],"additionalProperties":false},"collectTransform":{"type":"object","properties":{"type":{"enum":["collect"]},"signal":{"type":"string"},"sort":{"$ref":"#/definitions/compare"}},"required":["type"],"additionalProperties":false},"countpatternTransform":{"type":"object","properties":{"type":{"enum":["countpattern"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"case":{"anyOf":[{"enum":["upper","lower","mixed"]},{"$ref":"#/definitions/signalRef"}],"default":"mixed"},"pattern":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"[\\\\w\\"]+"},"stopwords":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":["text","count"]}},"required":["type","field"],"additionalProperties":false},"crossTransform":{"type":"object","properties":{"type":{"enum":["cross"]},"signal":{"type":"string"},"filter":{"$ref":"#/definitions/exprString"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":["a","b"]}},"required":["type"],"additionalProperties":false},"densityTransform":{"type":"object","properties":{"type":{"enum":["density"]},"signal":{"type":"string"},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"steps":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"minsteps":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":25},"maxsteps":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":200},"method":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"pdf"},"distribution":{"oneOf":[{"type":"object","properties":{"function":{"enum":["normal"]},"mean":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"stdev":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["lognormal"]},"mean":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"stdev":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["uniform"]},"min":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"max":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":1}},"required":["function"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["kde"]},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"from":{"type":"string"},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},"required":["function","field"],"additionalProperties":false},{"type":"object","properties":{"function":{"enum":["mixture"]},"distributions":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/definitions/signalRef"}]},"weights":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]}},"required":["function"],"additionalProperties":false}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}],"default":["value","density"]}},"required":["type"],"additionalProperties":false},"dotbinTransform":{"type":"object","properties":{"type":{"enum":["dotbin"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"smooth":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"bin"}},"required":["type","field"],"additionalProperties":false},"extentTransform":{"type":"object","properties":{"type":{"enum":["extent"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},"required":["type","field"],"additionalProperties":false},"filterTransform":{"type":"object","properties":{"type":{"enum":["filter"]},"signal":{"type":"string"},"expr":{"$ref":"#/definitions/exprString"}},"required":["type","expr"],"additionalProperties":false},"flattenTransform":{"type":"object","properties":{"type":{"enum":["flatten"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"index":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]}},"required":["type","fields"],"additionalProperties":false},"foldTransform":{"type":"object","properties":{"type":{"enum":["fold"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":["key","value"]}},"required":["type","fields"],"additionalProperties":false},"formulaTransform":{"type":"object","properties":{"type":{"enum":["formula"]},"signal":{"type":"string"},"expr":{"$ref":"#/definitions/exprString"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"initonly":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]}},"required":["type","expr","as"],"additionalProperties":false},"imputeTransform":{"type":"object","properties":{"type":{"enum":["impute"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"key":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"keyvals":{"oneOf":[{"type":"array","items":{}},{"$ref":"#/definitions/signalRef"}]},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"method":{"anyOf":[{"enum":["value","mean","median","max","min"]},{"$ref":"#/definitions/signalRef"}],"default":"value"},"value":{}},"required":["type","field","key"],"additionalProperties":false},"joinaggregateTransform":{"type":"object","properties":{"type":{"enum":["joinaggregate"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"},{"type":"null"}]}},{"$ref":"#/definitions/signalRef"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"},{"type":"null"}]}},{"$ref":"#/definitions/signalRef"}]},"key":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},"required":["type"],"additionalProperties":false},"kdeTransform":{"type":"object","properties":{"type":{"enum":["kde"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"cumulative":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"counts":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]},"bandwidth":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"resolve":{"anyOf":[{"enum":["shared","independent"]},{"$ref":"#/definitions/signalRef"}],"default":"independent"},"steps":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"minsteps":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":25},"maxsteps":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":200},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}],"default":["value","density"]}},"required":["type","field"],"additionalProperties":false},"lookupTransform":{"type":"object","properties":{"type":{"enum":["lookup"]},"signal":{"type":"string"},"from":{"type":"string"},"key":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"values":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"default":{}},"required":["type","from","key","fields"],"additionalProperties":false},"pivotTransform":{"type":"object","properties":{"type":{"enum":["pivot"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"value":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"op":{"anyOf":[{"enum":["values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/definitions/signalRef"}],"default":"sum"},"limit":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"key":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},"required":["type","field","value"],"additionalProperties":false},"projectTransform":{"type":"object","properties":{"type":{"enum":["project"]},"signal":{"type":"string"},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"},{"type":"null"}]}},{"$ref":"#/definitions/signalRef"}]}},"required":["type"],"additionalProperties":false},"quantileTransform":{"type":"object","properties":{"type":{"enum":["quantile"]},"signal":{"type":"string"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"probs":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":0.01},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}],"default":["prob","value"]}},"required":["type","field"],"additionalProperties":false},"sampleTransform":{"type":"object","properties":{"type":{"enum":["sample"]},"signal":{"type":"string"},"size":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":1000}},"required":["type"],"additionalProperties":false},"sequenceTransform":{"type":"object","properties":{"type":{"enum":["sequence"]},"signal":{"type":"string"},"start":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"stop":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":1},"as":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"data"}},"required":["type","start","stop"],"additionalProperties":false},"timeunitTransform":{"type":"object","properties":{"type":{"enum":["timeunit"]},"signal":{"type":"string"},"field":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"interval":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}],"default":true},"units":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["year","quarter","month","week","date","day","dayofyear","hours","minutes","seconds","milliseconds"]},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"step":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":1},"maxbins":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}],"default":40},"extent":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"timezone":{"anyOf":[{"enum":["local","utc"]},{"$ref":"#/definitions/signalRef"}],"default":"local"},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":["unit0","unit1"]}},"required":["type","field"],"additionalProperties":false},"windowTransform":{"type":"object","properties":{"type":{"enum":["window"]},"signal":{"type":"string"},"sort":{"$ref":"#/definitions/compare"},"groupby":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]}},{"$ref":"#/definitions/signalRef"}]},"ops":{"oneOf":[{"type":"array","items":{"anyOf":[{"enum":["row_number","rank","dense_rank","percent_rank","cume_dist","ntile","lag","lead","first_value","last_value","nth_value","prev_value","next_value","values","count","__count__","missing","valid","sum","product","mean","average","variance","variancep","stdev","stdevp","stderr","distinct","ci0","ci1","median","q1","q3","min","max","argmin","argmax"]},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"}]},"params":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"null"}]}},{"$ref":"#/definitions/signalRef"}]},"fields":{"oneOf":[{"type":"array","items":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"},{"type":"null"}]}},{"$ref":"#/definitions/signalRef"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"},{"type":"null"}]}},{"$ref":"#/definitions/signalRef"}]},"frame":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"type":"null"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":[null,0]},"ignorePeers":{"anyOf":[{"type":"boolean"},{"$ref":"#/definitions/signalRef"}]}},"required":["type"],"additionalProperties":false},"identifierTransform":{"type":"object","properties":{"type":{"enum":["identifier"]},"signal":{"type":"string"},"as":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]}},"required":["type","as"],"additionalProperties":false},"voronoiTransform":{"type":"object","properties":{"type":{"enum":["voronoi"]},"signal":{"type":"string"},"x":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"y":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"extent":{"oneOf":[{"type":"array","items":{},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}],"default":[[-100000,-100000],[100000,100000]]},"as":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}],"default":"path"}},"required":["type","x","y"],"additionalProperties":false},"wordcloudTransform":{"type":"object","properties":{"type":{"enum":["wordcloud"]},"signal":{"type":"string"},"size":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]},"maxItems":2,"minItems":2},{"$ref":"#/definitions/signalRef"}]},"font":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}],"default":"sans-serif"},"fontStyle":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}],"default":"normal"},"fontWeight":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}],"default":"normal"},"fontSize":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}],"default":14},"fontSizeRange":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"}]}},{"$ref":"#/definitions/signalRef"},{"type":"null"}],"default":[10,50]},"rotate":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}]},"text":{"oneOf":[{"$ref":"#/definitions/scaleField"},{"$ref":"#/definitions/paramField"},{"$ref":"#/definitions/expr"}]},"spiral":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"padding":{"anyOf":[{"type":"number"},{"$ref":"#/definitions/signalRef"},{"$ref":"#/definitions/expr"},{"$ref":"#/definitions/paramField"}]},"as":{"oneOf":[{"type":"array","items":{"anyOf":[{"type":"string"},{"$ref":"#/definitions/signalRef"}]},"maxItems":7,"minItems":7},{"$ref":"#/definitions/signalRef"}],"default":["x","y","font","fontSize","fontStyle","fontWeight","angle"]}},"required":["type"],"additionalProperties":false}},"type":"object","allOf":[{"$ref":"#/definitions/scope"},{"properties":{"$schema":{"type":"string","format":"uri"},"config":{"type":"object"},"description":{"type":"string"},"width":{"$ref":"#/definitions/numberOrSignal"},"height":{"$ref":"#/definitions/numberOrSignal"},"padding":{"$ref":"#/definitions/padding"},"autosize":{"$ref":"#/definitions/autosize"},"background":{"$ref":"#/definitions/background"},"style":{"$ref":"#/definitions/style"}}}]}')},41249:e=>{"use strict";e.exports=JSON.parse('{"Bar Charts":[{"name":"bar-chart"},{"name":"stacked-bar-chart"},{"name":"grouped-bar-chart"},{"name":"nested-bar-chart"},{"name":"population-pyramid"}],"Line & Area Charts":[{"name":"line-chart"},{"name":"area-chart"},{"name":"stacked-area-chart"},{"name":"horizon-graph"},{"name":"job-voyager"}],"Circular Charts":[{"name":"pie-chart"},{"name":"donut-chart"},{"name":"radial-plot"},{"name":"radar-chart"}],"Scatter Plots":[{"name":"scatter-plot"},{"name":"scatter-plot-null-values"},{"name":"connected-scatter-plot"},{"name":"error-bars"},{"name":"barley-trellis-plot"},{"name":"regression"},{"name":"loess-regression"},{"name":"labeled-scatter-plot"}],"Distributions":[{"name":"top-k-plot"},{"name":"top-k-plot-with-others"},{"name":"histogram"},{"name":"histogram-null-values"},{"name":"dot-plot"},{"name":"probability-density"},{"name":"box-plot"},{"name":"violin-plot"},{"name":"binned-scatter-plot"},{"name":"contour-plot"},{"name":"wheat-plot"},{"name":"quantile-quantile-plot"},{"name":"quantile-dot-plot"},{"name":"hypothetical-outcome-plots"},{"name":"time-units"}],"Geographic Maps":[{"name":"county-unemployment"},{"name":"dorling-cartogram"},{"name":"world-map"},{"name":"earthquakes"},{"name":"projections"},{"name":"zoomable-world-map"},{"name":"distortion-comparison"},{"name":"volcano-contours"},{"name":"wind-vectors"},{"name":"annual-precipitation"}],"Tree Diagrams":[{"name":"tree-layout"},{"name":"radial-tree-layout"},{"name":"treemap"},{"name":"circle-packing"},{"name":"sunburst"}],"Network Diagrams":[{"name":"edge-bundling"},{"name":"force-directed-layout"},{"name":"reorderable-matrix"},{"name":"arc-diagram"},{"name":"airport-connections"}],"Other Chart Types":[{"name":"heatmap"},{"name":"density-heatmaps"},{"name":"parallel-coordinates"},{"name":"word-cloud"},{"name":"beeswarm-plot"},{"name":"calendar-view"}],"Custom Designs":[{"name":"budget-forecasts"},{"name":"wheat-and-wages"},{"name":"falkensee-population"},{"name":"annual-temperature"},{"name":"weekly-temperature"},{"name":"flight-passengers"},{"name":"timelines"},{"name":"u-district-cuisine"},{"name":"clock"},{"name":"watch"}],"Interaction Techniques":[{"name":"crossfilter-flights"},{"name":"overview-plus-detail"},{"name":"brushing-scatter-plots"},{"name":"zoomable-scatter-plot"},{"name":"zoomable-binned-plot"},{"name":"global-development"},{"name":"interactive-legend"},{"name":"stock-index-chart"},{"name":"pi-monte-carlo"},{"name":"pacman"},{"name":"platformer"}]}')}}]);
//# sourceMappingURL=vega.js.map